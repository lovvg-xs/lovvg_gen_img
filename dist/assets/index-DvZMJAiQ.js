(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const c of a)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&i(d)}).observe(document,{childList:!0,subtree:!0});function o(a){const c={};return a.integrity&&(c.integrity=a.integrity),a.referrerPolicy&&(c.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?c.credentials="include":a.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function i(a){if(a.ep)return;a.ep=!0;const c=o(a);fetch(a.href,c)}})();var Ii=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Hl(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var wl={exports:{}},gr={},xl={exports:{}},Ue={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pc;function Hh(){if(Pc)return Ue;Pc=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.iterator;function C(k){return k===null||typeof k!="object"?null:(k=_&&k[_]||k["@@iterator"],typeof k=="function"?k:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,w={};function A(k,P,ae){this.props=k,this.context=P,this.refs=w,this.updater=ae||T}A.prototype.isReactComponent={},A.prototype.setState=function(k,P){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,P,"setState")},A.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function I(){}I.prototype=A.prototype;function M(k,P,ae){this.props=k,this.context=P,this.refs=w,this.updater=ae||T}var D=M.prototype=new I;D.constructor=M,R(D,A.prototype),D.isPureReactComponent=!0;var V=Array.isArray,z=Object.prototype.hasOwnProperty,J={current:null},$={key:!0,ref:!0,__self:!0,__source:!0};function ne(k,P,ae){var le,ie={},Ae=null,Ne=null;if(P!=null)for(le in P.ref!==void 0&&(Ne=P.ref),P.key!==void 0&&(Ae=""+P.key),P)z.call(P,le)&&!$.hasOwnProperty(le)&&(ie[le]=P[le]);var _e=arguments.length-2;if(_e===1)ie.children=ae;else if(1<_e){for(var Ie=Array(_e),ze=0;ze<_e;ze++)Ie[ze]=arguments[ze+2];ie.children=Ie}if(k&&k.defaultProps)for(le in _e=k.defaultProps,_e)ie[le]===void 0&&(ie[le]=_e[le]);return{$$typeof:t,type:k,key:Ae,ref:Ne,props:ie,_owner:J.current}}function q(k,P){return{$$typeof:t,type:k.type,key:P,ref:k.ref,props:k.props,_owner:k._owner}}function re(k){return typeof k=="object"&&k!==null&&k.$$typeof===t}function me(k){var P={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(ae){return P[ae]})}var U=/\/+/g;function ee(k,P){return typeof k=="object"&&k!==null&&k.key!=null?me(""+k.key):P.toString(36)}function E(k,P,ae,le,ie){var Ae=typeof k;(Ae==="undefined"||Ae==="boolean")&&(k=null);var Ne=!1;if(k===null)Ne=!0;else switch(Ae){case"string":case"number":Ne=!0;break;case"object":switch(k.$$typeof){case t:case e:Ne=!0}}if(Ne)return Ne=k,ie=ie(Ne),k=le===""?"."+ee(Ne,0):le,V(ie)?(ae="",k!=null&&(ae=k.replace(U,"$&/")+"/"),E(ie,P,ae,"",function(ze){return ze})):ie!=null&&(re(ie)&&(ie=q(ie,ae+(!ie.key||Ne&&Ne.key===ie.key?"":(""+ie.key).replace(U,"$&/")+"/")+k)),P.push(ie)),1;if(Ne=0,le=le===""?".":le+":",V(k))for(var _e=0;_e<k.length;_e++){Ae=k[_e];var Ie=le+ee(Ae,_e);Ne+=E(Ae,P,ae,Ie,ie)}else if(Ie=C(k),typeof Ie=="function")for(k=Ie.call(k),_e=0;!(Ae=k.next()).done;)Ae=Ae.value,Ie=le+ee(Ae,_e++),Ne+=E(Ae,P,ae,Ie,ie);else if(Ae==="object")throw P=String(k),Error("Objects are not valid as a React child (found: "+(P==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":P)+"). If you meant to render a collection of children, use an array instead.");return Ne}function oe(k,P,ae){if(k==null)return k;var le=[],ie=0;return E(k,le,"","",function(Ae){return P.call(ae,Ae,ie++)}),le}function he(k){if(k._status===-1){var P=k._result;P=P(),P.then(function(ae){(k._status===0||k._status===-1)&&(k._status=1,k._result=ae)},function(ae){(k._status===0||k._status===-1)&&(k._status=2,k._result=ae)}),k._status===-1&&(k._status=0,k._result=P)}if(k._status===1)return k._result.default;throw k._result}var X={current:null},j={transition:null},Z={ReactCurrentDispatcher:X,ReactCurrentBatchConfig:j,ReactCurrentOwner:J};function O(){throw Error("act(...) is not supported in production builds of React.")}return Ue.Children={map:oe,forEach:function(k,P,ae){oe(k,function(){P.apply(this,arguments)},ae)},count:function(k){var P=0;return oe(k,function(){P++}),P},toArray:function(k){return oe(k,function(P){return P})||[]},only:function(k){if(!re(k))throw Error("React.Children.only expected to receive a single React element child.");return k}},Ue.Component=A,Ue.Fragment=o,Ue.Profiler=a,Ue.PureComponent=M,Ue.StrictMode=i,Ue.Suspense=h,Ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Z,Ue.act=O,Ue.cloneElement=function(k,P,ae){if(k==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+k+".");var le=R({},k.props),ie=k.key,Ae=k.ref,Ne=k._owner;if(P!=null){if(P.ref!==void 0&&(Ae=P.ref,Ne=J.current),P.key!==void 0&&(ie=""+P.key),k.type&&k.type.defaultProps)var _e=k.type.defaultProps;for(Ie in P)z.call(P,Ie)&&!$.hasOwnProperty(Ie)&&(le[Ie]=P[Ie]===void 0&&_e!==void 0?_e[Ie]:P[Ie])}var Ie=arguments.length-2;if(Ie===1)le.children=ae;else if(1<Ie){_e=Array(Ie);for(var ze=0;ze<Ie;ze++)_e[ze]=arguments[ze+2];le.children=_e}return{$$typeof:t,type:k.type,key:ie,ref:Ae,props:le,_owner:Ne}},Ue.createContext=function(k){return k={$$typeof:d,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},k.Provider={$$typeof:c,_context:k},k.Consumer=k},Ue.createElement=ne,Ue.createFactory=function(k){var P=ne.bind(null,k);return P.type=k,P},Ue.createRef=function(){return{current:null}},Ue.forwardRef=function(k){return{$$typeof:p,render:k}},Ue.isValidElement=re,Ue.lazy=function(k){return{$$typeof:y,_payload:{_status:-1,_result:k},_init:he}},Ue.memo=function(k,P){return{$$typeof:m,type:k,compare:P===void 0?null:P}},Ue.startTransition=function(k){var P=j.transition;j.transition={};try{k()}finally{j.transition=P}},Ue.unstable_act=O,Ue.useCallback=function(k,P){return X.current.useCallback(k,P)},Ue.useContext=function(k){return X.current.useContext(k)},Ue.useDebugValue=function(){},Ue.useDeferredValue=function(k){return X.current.useDeferredValue(k)},Ue.useEffect=function(k,P){return X.current.useEffect(k,P)},Ue.useId=function(){return X.current.useId()},Ue.useImperativeHandle=function(k,P,ae){return X.current.useImperativeHandle(k,P,ae)},Ue.useInsertionEffect=function(k,P){return X.current.useInsertionEffect(k,P)},Ue.useLayoutEffect=function(k,P){return X.current.useLayoutEffect(k,P)},Ue.useMemo=function(k,P){return X.current.useMemo(k,P)},Ue.useReducer=function(k,P,ae){return X.current.useReducer(k,P,ae)},Ue.useRef=function(k){return X.current.useRef(k)},Ue.useState=function(k){return X.current.useState(k)},Ue.useSyncExternalStore=function(k,P,ae){return X.current.useSyncExternalStore(k,P,ae)},Ue.useTransition=function(){return X.current.useTransition()},Ue.version="18.3.1",Ue}var Nc;function ql(){return Nc||(Nc=1,xl.exports=Hh()),xl.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dc;function qh(){if(Dc)return gr;Dc=1;var t=ql(),e=Symbol.for("react.element"),o=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,a=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function d(p,h,m){var y,_={},C=null,T=null;m!==void 0&&(C=""+m),h.key!==void 0&&(C=""+h.key),h.ref!==void 0&&(T=h.ref);for(y in h)i.call(h,y)&&!c.hasOwnProperty(y)&&(_[y]=h[y]);if(p&&p.defaultProps)for(y in h=p.defaultProps,h)_[y]===void 0&&(_[y]=h[y]);return{$$typeof:e,type:p,key:C,ref:T,props:_,_owner:a.current}}return gr.Fragment=o,gr.jsx=d,gr.jsxs=d,gr}var Lc;function $h(){return Lc||(Lc=1,wl.exports=qh()),wl.exports}var B=$h(),Fe=ql();const ad=Hl(Fe);var Ai={},El={exports:{}},xt={},kl={exports:{}},Il={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fc;function Oh(){return Fc||(Fc=1,function(t){function e(j,Z){var O=j.length;j.push(Z);e:for(;0<O;){var k=O-1>>>1,P=j[k];if(0<a(P,Z))j[k]=Z,j[O]=P,O=k;else break e}}function o(j){return j.length===0?null:j[0]}function i(j){if(j.length===0)return null;var Z=j[0],O=j.pop();if(O!==Z){j[0]=O;e:for(var k=0,P=j.length,ae=P>>>1;k<ae;){var le=2*(k+1)-1,ie=j[le],Ae=le+1,Ne=j[Ae];if(0>a(ie,O))Ae<P&&0>a(Ne,ie)?(j[k]=Ne,j[Ae]=O,k=Ae):(j[k]=ie,j[le]=O,k=le);else if(Ae<P&&0>a(Ne,O))j[k]=Ne,j[Ae]=O,k=Ae;else break e}}return Z}function a(j,Z){var O=j.sortIndex-Z.sortIndex;return O!==0?O:j.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;t.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();t.unstable_now=function(){return d.now()-p}}var h=[],m=[],y=1,_=null,C=3,T=!1,R=!1,w=!1,A=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function D(j){for(var Z=o(m);Z!==null;){if(Z.callback===null)i(m);else if(Z.startTime<=j)i(m),Z.sortIndex=Z.expirationTime,e(h,Z);else break;Z=o(m)}}function V(j){if(w=!1,D(j),!R)if(o(h)!==null)R=!0,he(z);else{var Z=o(m);Z!==null&&X(V,Z.startTime-j)}}function z(j,Z){R=!1,w&&(w=!1,I(ne),ne=-1),T=!0;var O=C;try{for(D(Z),_=o(h);_!==null&&(!(_.expirationTime>Z)||j&&!me());){var k=_.callback;if(typeof k=="function"){_.callback=null,C=_.priorityLevel;var P=k(_.expirationTime<=Z);Z=t.unstable_now(),typeof P=="function"?_.callback=P:_===o(h)&&i(h),D(Z)}else i(h);_=o(h)}if(_!==null)var ae=!0;else{var le=o(m);le!==null&&X(V,le.startTime-Z),ae=!1}return ae}finally{_=null,C=O,T=!1}}var J=!1,$=null,ne=-1,q=5,re=-1;function me(){return!(t.unstable_now()-re<q)}function U(){if($!==null){var j=t.unstable_now();re=j;var Z=!0;try{Z=$(!0,j)}finally{Z?ee():(J=!1,$=null)}}else J=!1}var ee;if(typeof M=="function")ee=function(){M(U)};else if(typeof MessageChannel<"u"){var E=new MessageChannel,oe=E.port2;E.port1.onmessage=U,ee=function(){oe.postMessage(null)}}else ee=function(){A(U,0)};function he(j){$=j,J||(J=!0,ee())}function X(j,Z){ne=A(function(){j(t.unstable_now())},Z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(j){j.callback=null},t.unstable_continueExecution=function(){R||T||(R=!0,he(z))},t.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<j?Math.floor(1e3/j):5},t.unstable_getCurrentPriorityLevel=function(){return C},t.unstable_getFirstCallbackNode=function(){return o(h)},t.unstable_next=function(j){switch(C){case 1:case 2:case 3:var Z=3;break;default:Z=C}var O=C;C=Z;try{return j()}finally{C=O}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(j,Z){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var O=C;C=j;try{return Z()}finally{C=O}},t.unstable_scheduleCallback=function(j,Z,O){var k=t.unstable_now();switch(typeof O=="object"&&O!==null?(O=O.delay,O=typeof O=="number"&&0<O?k+O:k):O=k,j){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=O+P,j={id:y++,callback:Z,priorityLevel:j,startTime:O,expirationTime:P,sortIndex:-1},O>k?(j.sortIndex=O,e(m,j),o(h)===null&&j===o(m)&&(w?(I(ne),ne=-1):w=!0,X(V,O-k))):(j.sortIndex=P,e(h,j),R||T||(R=!0,he(z))),j},t.unstable_shouldYield=me,t.unstable_wrapCallback=function(j){var Z=C;return function(){var O=C;C=Z;try{return j.apply(this,arguments)}finally{C=O}}}}(Il)),Il}var Uc;function Jh(){return Uc||(Uc=1,kl.exports=Oh()),kl.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vc;function Wh(){if(Vc)return xt;Vc=1;var t=ql(),e=Jh();function o(n){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+n,u=1;u<arguments.length;u++)r+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,a={};function c(n,r){d(n,r),d(n+"Capture",r)}function d(n,r){for(a[n]=r,n=0;n<r.length;n++)i.add(r[n])}var p=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},_={};function C(n){return h.call(_,n)?!0:h.call(y,n)?!1:m.test(n)?_[n]=!0:(y[n]=!0,!1)}function T(n,r,u,f){if(u!==null&&u.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return f?!1:u!==null?!u.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function R(n,r,u,f){if(r===null||typeof r>"u"||T(n,r,u,f))return!0;if(f)return!1;if(u!==null)switch(u.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function w(n,r,u,f,g,v,x){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=f,this.attributeNamespace=g,this.mustUseProperty=u,this.propertyName=n,this.type=r,this.sanitizeURL=v,this.removeEmptyString=x}var A={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){A[n]=new w(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var r=n[0];A[r]=new w(r,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){A[n]=new w(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){A[n]=new w(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){A[n]=new w(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){A[n]=new w(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){A[n]=new w(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){A[n]=new w(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){A[n]=new w(n,5,!1,n.toLowerCase(),null,!1,!1)});var I=/[\-:]([a-z])/g;function M(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var r=n.replace(I,M);A[r]=new w(r,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var r=n.replace(I,M);A[r]=new w(r,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var r=n.replace(I,M);A[r]=new w(r,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){A[n]=new w(n,1,!1,n.toLowerCase(),null,!1,!1)}),A.xlinkHref=new w("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){A[n]=new w(n,1,!1,n.toLowerCase(),null,!0,!0)});function D(n,r,u,f){var g=A.hasOwnProperty(r)?A[r]:null;(g!==null?g.type!==0:f||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(R(r,u,g,f)&&(u=null),f||g===null?C(r)&&(u===null?n.removeAttribute(r):n.setAttribute(r,""+u)):g.mustUseProperty?n[g.propertyName]=u===null?g.type===3?!1:"":u:(r=g.attributeName,f=g.attributeNamespace,u===null?n.removeAttribute(r):(g=g.type,u=g===3||g===4&&u===!0?"":""+u,f?n.setAttributeNS(f,r,u):n.setAttribute(r,u))))}var V=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,z=Symbol.for("react.element"),J=Symbol.for("react.portal"),$=Symbol.for("react.fragment"),ne=Symbol.for("react.strict_mode"),q=Symbol.for("react.profiler"),re=Symbol.for("react.provider"),me=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),ee=Symbol.for("react.suspense"),E=Symbol.for("react.suspense_list"),oe=Symbol.for("react.memo"),he=Symbol.for("react.lazy"),X=Symbol.for("react.offscreen"),j=Symbol.iterator;function Z(n){return n===null||typeof n!="object"?null:(n=j&&n[j]||n["@@iterator"],typeof n=="function"?n:null)}var O=Object.assign,k;function P(n){if(k===void 0)try{throw Error()}catch(u){var r=u.stack.trim().match(/\n( *(at )?)/);k=r&&r[1]||""}return`
`+k+n}var ae=!1;function le(n,r){if(!n||ae)return"";ae=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(Q){var f=Q}Reflect.construct(n,[],r)}else{try{r.call()}catch(Q){f=Q}n.call(r.prototype)}else{try{throw Error()}catch(Q){f=Q}n()}}catch(Q){if(Q&&f&&typeof Q.stack=="string"){for(var g=Q.stack.split(`
`),v=f.stack.split(`
`),x=g.length-1,L=v.length-1;1<=x&&0<=L&&g[x]!==v[L];)L--;for(;1<=x&&0<=L;x--,L--)if(g[x]!==v[L]){if(x!==1||L!==1)do if(x--,L--,0>L||g[x]!==v[L]){var G=`
`+g[x].replace(" at new "," at ");return n.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",n.displayName)),G}while(1<=x&&0<=L);break}}}finally{ae=!1,Error.prepareStackTrace=u}return(n=n?n.displayName||n.name:"")?P(n):""}function ie(n){switch(n.tag){case 5:return P(n.type);case 16:return P("Lazy");case 13:return P("Suspense");case 19:return P("SuspenseList");case 0:case 2:case 15:return n=le(n.type,!1),n;case 11:return n=le(n.type.render,!1),n;case 1:return n=le(n.type,!0),n;default:return""}}function Ae(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case $:return"Fragment";case J:return"Portal";case q:return"Profiler";case ne:return"StrictMode";case ee:return"Suspense";case E:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case me:return(n.displayName||"Context")+".Consumer";case re:return(n._context.displayName||"Context")+".Provider";case U:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case oe:return r=n.displayName||null,r!==null?r:Ae(n.type)||"Memo";case he:r=n._payload,n=n._init;try{return Ae(n(r))}catch{}}return null}function Ne(n){var r=n.type;switch(n.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=r.render,n=n.displayName||n.name||"",r.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ae(r);case 8:return r===ne?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function _e(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Ie(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function ze(n){var r=Ie(n)?"checked":"value",u=Object.getOwnPropertyDescriptor(n.constructor.prototype,r),f=""+n[r];if(!n.hasOwnProperty(r)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var g=u.get,v=u.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return g.call(this)},set:function(x){f=""+x,v.call(this,x)}}),Object.defineProperty(n,r,{enumerable:u.enumerable}),{getValue:function(){return f},setValue:function(x){f=""+x},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function qe(n){n._valueTracker||(n._valueTracker=ze(n))}function Et(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var u=r.getValue(),f="";return n&&(f=Ie(n)?n.checked?"true":"false":n.value),n=f,n!==u?(r.setValue(n),!0):!1}function ut(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function S(n,r){var u=r.checked;return O({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??n._wrapperState.initialChecked})}function se(n,r){var u=r.defaultValue==null?"":r.defaultValue,f=r.checked!=null?r.checked:r.defaultChecked;u=_e(r.value!=null?r.value:u),n._wrapperState={initialChecked:f,initialValue:u,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function te(n,r){r=r.checked,r!=null&&D(n,"checked",r,!1)}function F(n,r){te(n,r);var u=_e(r.value),f=r.type;if(u!=null)f==="number"?(u===0&&n.value===""||n.value!=u)&&(n.value=""+u):n.value!==""+u&&(n.value=""+u);else if(f==="submit"||f==="reset"){n.removeAttribute("value");return}r.hasOwnProperty("value")?H(n,r.type,u):r.hasOwnProperty("defaultValue")&&H(n,r.type,_e(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(n.defaultChecked=!!r.defaultChecked)}function N(n,r,u){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var f=r.type;if(!(f!=="submit"&&f!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+n._wrapperState.initialValue,u||r===n.value||(n.value=r),n.defaultValue=r}u=n.name,u!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,u!==""&&(n.name=u)}function H(n,r,u){(r!=="number"||ut(n.ownerDocument)!==n)&&(u==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+u&&(n.defaultValue=""+u))}var ue=Array.isArray;function ce(n,r,u,f){if(n=n.options,r){r={};for(var g=0;g<u.length;g++)r["$"+u[g]]=!0;for(u=0;u<n.length;u++)g=r.hasOwnProperty("$"+n[u].value),n[u].selected!==g&&(n[u].selected=g),g&&f&&(n[u].defaultSelected=!0)}else{for(u=""+_e(u),r=null,g=0;g<n.length;g++){if(n[g].value===u){n[g].selected=!0,f&&(n[g].defaultSelected=!0);return}r!==null||n[g].disabled||(r=n[g])}r!==null&&(r.selected=!0)}}function Y(n,r){if(r.dangerouslySetInnerHTML!=null)throw Error(o(91));return O({},r,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function ge(n,r){var u=r.value;if(u==null){if(u=r.children,r=r.defaultValue,u!=null){if(r!=null)throw Error(o(92));if(ue(u)){if(1<u.length)throw Error(o(93));u=u[0]}r=u}r==null&&(r=""),u=r}n._wrapperState={initialValue:_e(u)}}function Te(n,r){var u=_e(r.value),f=_e(r.defaultValue);u!=null&&(u=""+u,u!==n.value&&(n.value=u),r.defaultValue==null&&n.defaultValue!==u&&(n.defaultValue=u)),f!=null&&(n.defaultValue=""+f)}function ve(n){var r=n.textContent;r===n._wrapperState.initialValue&&r!==""&&r!==null&&(n.value=r)}function Re(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ge(n,r){return n==null||n==="http://www.w3.org/1999/xhtml"?Re(r):n==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Le,gt=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,u,f,g){MSApp.execUnsafeLocalFunction(function(){return n(r,u,f,g)})}:n}(function(n,r){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=r;else{for(Le=Le||document.createElement("div"),Le.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=Le.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;r.firstChild;)n.appendChild(r.firstChild)}});function Bt(n,r){if(r){var u=n.firstChild;if(u&&u===n.lastChild&&u.nodeType===3){u.nodeValue=r;return}}n.textContent=r}var ct={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Mn=["Webkit","ms","Moz","O"];Object.keys(ct).forEach(function(n){Mn.forEach(function(r){r=r+n.charAt(0).toUpperCase()+n.substring(1),ct[r]=ct[n]})});function Ke(n,r,u){return r==null||typeof r=="boolean"||r===""?"":u||typeof r!="number"||r===0||ct.hasOwnProperty(n)&&ct[n]?(""+r).trim():r+"px"}function Pn(n,r){n=n.style;for(var u in r)if(r.hasOwnProperty(u)){var f=u.indexOf("--")===0,g=Ke(u,r[u],f);u==="float"&&(u="cssFloat"),f?n.setProperty(u,g):n[u]=g}}var Mo=O({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function kt(n,r){if(r){if(Mo[n]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(o(137,n));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(o(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(o(61))}if(r.style!=null&&typeof r.style!="object")throw Error(o(62))}}function Xn(n,r){if(n.indexOf("-")===-1)return typeof r.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Po=null;function No(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Do=null,jt=null,Pt=null;function Nn(n){if(n=tr(n)){if(typeof Do!="function")throw Error(o(280));var r=n.stateNode;r&&(r=Hr(r),Do(n.stateNode,n.type,r))}}function Yl(n){jt?Pt?Pt.push(n):Pt=[n]:jt=n}function Zl(){if(jt){var n=jt,r=Pt;if(Pt=jt=null,Nn(n),r)for(n=0;n<r.length;n++)Nn(r[n])}}function Ql(n,r){return n(r)}function Xl(){}var Gi=!1;function jl(n,r,u){if(Gi)return n(r,u);Gi=!0;try{return Ql(n,r,u)}finally{Gi=!1,(jt!==null||Pt!==null)&&(Xl(),Zl())}}function Lo(n,r){var u=n.stateNode;if(u===null)return null;var f=Hr(u);if(f===null)return null;u=f[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(n=n.type,f=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!f;break e;default:n=!1}if(n)return null;if(u&&typeof u!="function")throw Error(o(231,r,typeof u));return u}var bi=!1;if(p)try{var Fo={};Object.defineProperty(Fo,"passive",{get:function(){bi=!0}}),window.addEventListener("test",Fo,Fo),window.removeEventListener("test",Fo,Fo)}catch{bi=!1}function Kd(n,r,u,f,g,v,x,L,G){var Q=Array.prototype.slice.call(arguments,3);try{r.apply(u,Q)}catch(de){this.onError(de)}}var Uo=!1,Cr=null,Tr=!1,Hi=null,Yd={onError:function(n){Uo=!0,Cr=n}};function Zd(n,r,u,f,g,v,x,L,G){Uo=!1,Cr=null,Kd.apply(Yd,arguments)}function Qd(n,r,u,f,g,v,x,L,G){if(Zd.apply(this,arguments),Uo){if(Uo){var Q=Cr;Uo=!1,Cr=null}else throw Error(o(198));Tr||(Tr=!0,Hi=Q)}}function Dn(n){var r=n,u=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,(r.flags&4098)!==0&&(u=r.return),n=r.return;while(n)}return r.tag===3?u:null}function ea(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function ta(n){if(Dn(n)!==n)throw Error(o(188))}function Xd(n){var r=n.alternate;if(!r){if(r=Dn(n),r===null)throw Error(o(188));return r!==n?null:n}for(var u=n,f=r;;){var g=u.return;if(g===null)break;var v=g.alternate;if(v===null){if(f=g.return,f!==null){u=f;continue}break}if(g.child===v.child){for(v=g.child;v;){if(v===u)return ta(g),n;if(v===f)return ta(g),r;v=v.sibling}throw Error(o(188))}if(u.return!==f.return)u=g,f=v;else{for(var x=!1,L=g.child;L;){if(L===u){x=!0,u=g,f=v;break}if(L===f){x=!0,f=g,u=v;break}L=L.sibling}if(!x){for(L=v.child;L;){if(L===u){x=!0,u=v,f=g;break}if(L===f){x=!0,f=v,u=g;break}L=L.sibling}if(!x)throw Error(o(189))}}if(u.alternate!==f)throw Error(o(190))}if(u.tag!==3)throw Error(o(188));return u.stateNode.current===u?n:r}function na(n){return n=Xd(n),n!==null?oa(n):null}function oa(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var r=oa(n);if(r!==null)return r;n=n.sibling}return null}var ra=e.unstable_scheduleCallback,ia=e.unstable_cancelCallback,jd=e.unstable_shouldYield,ep=e.unstable_requestPaint,je=e.unstable_now,tp=e.unstable_getCurrentPriorityLevel,qi=e.unstable_ImmediatePriority,sa=e.unstable_UserBlockingPriority,Sr=e.unstable_NormalPriority,np=e.unstable_LowPriority,la=e.unstable_IdlePriority,wr=null,Wt=null;function op(n){if(Wt&&typeof Wt.onCommitFiberRoot=="function")try{Wt.onCommitFiberRoot(wr,n,void 0,(n.current.flags&128)===128)}catch{}}var Gt=Math.clz32?Math.clz32:sp,rp=Math.log,ip=Math.LN2;function sp(n){return n>>>=0,n===0?32:31-(rp(n)/ip|0)|0}var xr=64,Er=4194304;function Vo(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function kr(n,r){var u=n.pendingLanes;if(u===0)return 0;var f=0,g=n.suspendedLanes,v=n.pingedLanes,x=u&268435455;if(x!==0){var L=x&~g;L!==0?f=Vo(L):(v&=x,v!==0&&(f=Vo(v)))}else x=u&~g,x!==0?f=Vo(x):v!==0&&(f=Vo(v));if(f===0)return 0;if(r!==0&&r!==f&&(r&g)===0&&(g=f&-f,v=r&-r,g>=v||g===16&&(v&4194240)!==0))return r;if((f&4)!==0&&(f|=u&16),r=n.entangledLanes,r!==0)for(n=n.entanglements,r&=f;0<r;)u=31-Gt(r),g=1<<u,f|=n[u],r&=~g;return f}function lp(n,r){switch(n){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ap(n,r){for(var u=n.suspendedLanes,f=n.pingedLanes,g=n.expirationTimes,v=n.pendingLanes;0<v;){var x=31-Gt(v),L=1<<x,G=g[x];G===-1?((L&u)===0||(L&f)!==0)&&(g[x]=lp(L,r)):G<=r&&(n.expiredLanes|=L),v&=~L}}function $i(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function aa(){var n=xr;return xr<<=1,(xr&4194240)===0&&(xr=64),n}function Oi(n){for(var r=[],u=0;31>u;u++)r.push(n);return r}function zo(n,r,u){n.pendingLanes|=r,r!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,r=31-Gt(r),n[r]=u}function up(n,r){var u=n.pendingLanes&~r;n.pendingLanes=r,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=r,n.mutableReadLanes&=r,n.entangledLanes&=r,r=n.entanglements;var f=n.eventTimes;for(n=n.expirationTimes;0<u;){var g=31-Gt(u),v=1<<g;r[g]=0,f[g]=-1,n[g]=-1,u&=~v}}function Ji(n,r){var u=n.entangledLanes|=r;for(n=n.entanglements;u;){var f=31-Gt(u),g=1<<f;g&r|n[f]&r&&(n[f]|=r),u&=~g}}var be=0;function ua(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var ca,Wi,fa,da,pa,Ki=!1,Ir=[],cn=null,fn=null,dn=null,Bo=new Map,Go=new Map,pn=[],cp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ha(n,r){switch(n){case"focusin":case"focusout":cn=null;break;case"dragenter":case"dragleave":fn=null;break;case"mouseover":case"mouseout":dn=null;break;case"pointerover":case"pointerout":Bo.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Go.delete(r.pointerId)}}function bo(n,r,u,f,g,v){return n===null||n.nativeEvent!==v?(n={blockedOn:r,domEventName:u,eventSystemFlags:f,nativeEvent:v,targetContainers:[g]},r!==null&&(r=tr(r),r!==null&&Wi(r)),n):(n.eventSystemFlags|=f,r=n.targetContainers,g!==null&&r.indexOf(g)===-1&&r.push(g),n)}function fp(n,r,u,f,g){switch(r){case"focusin":return cn=bo(cn,n,r,u,f,g),!0;case"dragenter":return fn=bo(fn,n,r,u,f,g),!0;case"mouseover":return dn=bo(dn,n,r,u,f,g),!0;case"pointerover":var v=g.pointerId;return Bo.set(v,bo(Bo.get(v)||null,n,r,u,f,g)),!0;case"gotpointercapture":return v=g.pointerId,Go.set(v,bo(Go.get(v)||null,n,r,u,f,g)),!0}return!1}function ma(n){var r=Ln(n.target);if(r!==null){var u=Dn(r);if(u!==null){if(r=u.tag,r===13){if(r=ea(u),r!==null){n.blockedOn=r,pa(n.priority,function(){fa(u)});return}}else if(r===3&&u.stateNode.current.memoizedState.isDehydrated){n.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Ar(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var u=Zi(n.domEventName,n.eventSystemFlags,r[0],n.nativeEvent);if(u===null){u=n.nativeEvent;var f=new u.constructor(u.type,u);Po=f,u.target.dispatchEvent(f),Po=null}else return r=tr(u),r!==null&&Wi(r),n.blockedOn=u,!1;r.shift()}return!0}function ga(n,r,u){Ar(n)&&u.delete(r)}function dp(){Ki=!1,cn!==null&&Ar(cn)&&(cn=null),fn!==null&&Ar(fn)&&(fn=null),dn!==null&&Ar(dn)&&(dn=null),Bo.forEach(ga),Go.forEach(ga)}function Ho(n,r){n.blockedOn===r&&(n.blockedOn=null,Ki||(Ki=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,dp)))}function qo(n){function r(g){return Ho(g,n)}if(0<Ir.length){Ho(Ir[0],n);for(var u=1;u<Ir.length;u++){var f=Ir[u];f.blockedOn===n&&(f.blockedOn=null)}}for(cn!==null&&Ho(cn,n),fn!==null&&Ho(fn,n),dn!==null&&Ho(dn,n),Bo.forEach(r),Go.forEach(r),u=0;u<pn.length;u++)f=pn[u],f.blockedOn===n&&(f.blockedOn=null);for(;0<pn.length&&(u=pn[0],u.blockedOn===null);)ma(u),u.blockedOn===null&&pn.shift()}var jn=V.ReactCurrentBatchConfig,Rr=!0;function pp(n,r,u,f){var g=be,v=jn.transition;jn.transition=null;try{be=1,Yi(n,r,u,f)}finally{be=g,jn.transition=v}}function hp(n,r,u,f){var g=be,v=jn.transition;jn.transition=null;try{be=4,Yi(n,r,u,f)}finally{be=g,jn.transition=v}}function Yi(n,r,u,f){if(Rr){var g=Zi(n,r,u,f);if(g===null)ps(n,r,f,Mr,u),ha(n,f);else if(fp(g,n,r,u,f))f.stopPropagation();else if(ha(n,f),r&4&&-1<cp.indexOf(n)){for(;g!==null;){var v=tr(g);if(v!==null&&ca(v),v=Zi(n,r,u,f),v===null&&ps(n,r,f,Mr,u),v===g)break;g=v}g!==null&&f.stopPropagation()}else ps(n,r,f,null,u)}}var Mr=null;function Zi(n,r,u,f){if(Mr=null,n=No(f),n=Ln(n),n!==null)if(r=Dn(n),r===null)n=null;else if(u=r.tag,u===13){if(n=ea(r),n!==null)return n;n=null}else if(u===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null);return Mr=n,null}function ya(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(tp()){case qi:return 1;case sa:return 4;case Sr:case np:return 16;case la:return 536870912;default:return 16}default:return 16}}var hn=null,Qi=null,Pr=null;function va(){if(Pr)return Pr;var n,r=Qi,u=r.length,f,g="value"in hn?hn.value:hn.textContent,v=g.length;for(n=0;n<u&&r[n]===g[n];n++);var x=u-n;for(f=1;f<=x&&r[u-f]===g[v-f];f++);return Pr=g.slice(n,1<f?1-f:void 0)}function Nr(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function Dr(){return!0}function _a(){return!1}function It(n){function r(u,f,g,v,x){this._reactName=u,this._targetInst=g,this.type=f,this.nativeEvent=v,this.target=x,this.currentTarget=null;for(var L in n)n.hasOwnProperty(L)&&(u=n[L],this[L]=u?u(v):v[L]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?Dr:_a,this.isPropagationStopped=_a,this}return O(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Dr)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Dr)},persist:function(){},isPersistent:Dr}),r}var eo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xi=It(eo),$o=O({},eo,{view:0,detail:0}),mp=It($o),ji,es,Oo,Lr=O({},$o,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ns,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Oo&&(Oo&&n.type==="mousemove"?(ji=n.screenX-Oo.screenX,es=n.screenY-Oo.screenY):es=ji=0,Oo=n),ji)},movementY:function(n){return"movementY"in n?n.movementY:es}}),Ca=It(Lr),gp=O({},Lr,{dataTransfer:0}),yp=It(gp),vp=O({},$o,{relatedTarget:0}),ts=It(vp),_p=O({},eo,{animationName:0,elapsedTime:0,pseudoElement:0}),Cp=It(_p),Tp=O({},eo,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Sp=It(Tp),wp=O({},eo,{data:0}),Ta=It(wp),xp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ep={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ip(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=kp[n])?!!r[n]:!1}function ns(){return Ip}var Ap=O({},$o,{key:function(n){if(n.key){var r=xp[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=Nr(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Ep[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ns,charCode:function(n){return n.type==="keypress"?Nr(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Nr(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Rp=It(Ap),Mp=O({},Lr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Sa=It(Mp),Pp=O({},$o,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ns}),Np=It(Pp),Dp=O({},eo,{propertyName:0,elapsedTime:0,pseudoElement:0}),Lp=It(Dp),Fp=O({},Lr,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Up=It(Fp),Vp=[9,13,27,32],os=p&&"CompositionEvent"in window,Jo=null;p&&"documentMode"in document&&(Jo=document.documentMode);var zp=p&&"TextEvent"in window&&!Jo,wa=p&&(!os||Jo&&8<Jo&&11>=Jo),xa=" ",Ea=!1;function ka(n,r){switch(n){case"keyup":return Vp.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ia(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var to=!1;function Bp(n,r){switch(n){case"compositionend":return Ia(r);case"keypress":return r.which!==32?null:(Ea=!0,xa);case"textInput":return n=r.data,n===xa&&Ea?null:n;default:return null}}function Gp(n,r){if(to)return n==="compositionend"||!os&&ka(n,r)?(n=va(),Pr=Qi=hn=null,to=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return wa&&r.locale!=="ko"?null:r.data;default:return null}}var bp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Aa(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!bp[n.type]:r==="textarea"}function Ra(n,r,u,f){Yl(f),r=Br(r,"onChange"),0<r.length&&(u=new Xi("onChange","change",null,u,f),n.push({event:u,listeners:r}))}var Wo=null,Ko=null;function Hp(n){Wa(n,0)}function Fr(n){var r=so(n);if(Et(r))return n}function qp(n,r){if(n==="change")return r}var Ma=!1;if(p){var rs;if(p){var is="oninput"in document;if(!is){var Pa=document.createElement("div");Pa.setAttribute("oninput","return;"),is=typeof Pa.oninput=="function"}rs=is}else rs=!1;Ma=rs&&(!document.documentMode||9<document.documentMode)}function Na(){Wo&&(Wo.detachEvent("onpropertychange",Da),Ko=Wo=null)}function Da(n){if(n.propertyName==="value"&&Fr(Ko)){var r=[];Ra(r,Ko,n,No(n)),jl(Hp,r)}}function $p(n,r,u){n==="focusin"?(Na(),Wo=r,Ko=u,Wo.attachEvent("onpropertychange",Da)):n==="focusout"&&Na()}function Op(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Fr(Ko)}function Jp(n,r){if(n==="click")return Fr(r)}function Wp(n,r){if(n==="input"||n==="change")return Fr(r)}function Kp(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var bt=typeof Object.is=="function"?Object.is:Kp;function Yo(n,r){if(bt(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var u=Object.keys(n),f=Object.keys(r);if(u.length!==f.length)return!1;for(f=0;f<u.length;f++){var g=u[f];if(!h.call(r,g)||!bt(n[g],r[g]))return!1}return!0}function La(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Fa(n,r){var u=La(n);n=0;for(var f;u;){if(u.nodeType===3){if(f=n+u.textContent.length,n<=r&&f>=r)return{node:u,offset:r-n};n=f}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=La(u)}}function Ua(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?Ua(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function Va(){for(var n=window,r=ut();r instanceof n.HTMLIFrameElement;){try{var u=typeof r.contentWindow.location.href=="string"}catch{u=!1}if(u)n=r.contentWindow;else break;r=ut(n.document)}return r}function ss(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}function Yp(n){var r=Va(),u=n.focusedElem,f=n.selectionRange;if(r!==u&&u&&u.ownerDocument&&Ua(u.ownerDocument.documentElement,u)){if(f!==null&&ss(u)){if(r=f.start,n=f.end,n===void 0&&(n=r),"selectionStart"in u)u.selectionStart=r,u.selectionEnd=Math.min(n,u.value.length);else if(n=(r=u.ownerDocument||document)&&r.defaultView||window,n.getSelection){n=n.getSelection();var g=u.textContent.length,v=Math.min(f.start,g);f=f.end===void 0?v:Math.min(f.end,g),!n.extend&&v>f&&(g=f,f=v,v=g),g=Fa(u,v);var x=Fa(u,f);g&&x&&(n.rangeCount!==1||n.anchorNode!==g.node||n.anchorOffset!==g.offset||n.focusNode!==x.node||n.focusOffset!==x.offset)&&(r=r.createRange(),r.setStart(g.node,g.offset),n.removeAllRanges(),v>f?(n.addRange(r),n.extend(x.node,x.offset)):(r.setEnd(x.node,x.offset),n.addRange(r)))}}for(r=[],n=u;n=n.parentNode;)n.nodeType===1&&r.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<r.length;u++)n=r[u],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var Zp=p&&"documentMode"in document&&11>=document.documentMode,no=null,ls=null,Zo=null,as=!1;function za(n,r,u){var f=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;as||no==null||no!==ut(f)||(f=no,"selectionStart"in f&&ss(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Zo&&Yo(Zo,f)||(Zo=f,f=Br(ls,"onSelect"),0<f.length&&(r=new Xi("onSelect","select",null,r,u),n.push({event:r,listeners:f}),r.target=no)))}function Ur(n,r){var u={};return u[n.toLowerCase()]=r.toLowerCase(),u["Webkit"+n]="webkit"+r,u["Moz"+n]="moz"+r,u}var oo={animationend:Ur("Animation","AnimationEnd"),animationiteration:Ur("Animation","AnimationIteration"),animationstart:Ur("Animation","AnimationStart"),transitionend:Ur("Transition","TransitionEnd")},us={},Ba={};p&&(Ba=document.createElement("div").style,"AnimationEvent"in window||(delete oo.animationend.animation,delete oo.animationiteration.animation,delete oo.animationstart.animation),"TransitionEvent"in window||delete oo.transitionend.transition);function Vr(n){if(us[n])return us[n];if(!oo[n])return n;var r=oo[n],u;for(u in r)if(r.hasOwnProperty(u)&&u in Ba)return us[n]=r[u];return n}var Ga=Vr("animationend"),ba=Vr("animationiteration"),Ha=Vr("animationstart"),qa=Vr("transitionend"),$a=new Map,Oa="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function mn(n,r){$a.set(n,r),c(r,[n])}for(var cs=0;cs<Oa.length;cs++){var fs=Oa[cs],Qp=fs.toLowerCase(),Xp=fs[0].toUpperCase()+fs.slice(1);mn(Qp,"on"+Xp)}mn(Ga,"onAnimationEnd"),mn(ba,"onAnimationIteration"),mn(Ha,"onAnimationStart"),mn("dblclick","onDoubleClick"),mn("focusin","onFocus"),mn("focusout","onBlur"),mn(qa,"onTransitionEnd"),d("onMouseEnter",["mouseout","mouseover"]),d("onMouseLeave",["mouseout","mouseover"]),d("onPointerEnter",["pointerout","pointerover"]),d("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jp=new Set("cancel close invalid load scroll toggle".split(" ").concat(Qo));function Ja(n,r,u){var f=n.type||"unknown-event";n.currentTarget=u,Qd(f,r,void 0,n),n.currentTarget=null}function Wa(n,r){r=(r&4)!==0;for(var u=0;u<n.length;u++){var f=n[u],g=f.event;f=f.listeners;e:{var v=void 0;if(r)for(var x=f.length-1;0<=x;x--){var L=f[x],G=L.instance,Q=L.currentTarget;if(L=L.listener,G!==v&&g.isPropagationStopped())break e;Ja(g,L,Q),v=G}else for(x=0;x<f.length;x++){if(L=f[x],G=L.instance,Q=L.currentTarget,L=L.listener,G!==v&&g.isPropagationStopped())break e;Ja(g,L,Q),v=G}}}if(Tr)throw n=Hi,Tr=!1,Hi=null,n}function Oe(n,r){var u=r[_s];u===void 0&&(u=r[_s]=new Set);var f=n+"__bubble";u.has(f)||(Ka(r,n,2,!1),u.add(f))}function ds(n,r,u){var f=0;r&&(f|=4),Ka(u,n,f,r)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Xo(n){if(!n[zr]){n[zr]=!0,i.forEach(function(u){u!=="selectionchange"&&(jp.has(u)||ds(u,!1,n),ds(u,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[zr]||(r[zr]=!0,ds("selectionchange",!1,r))}}function Ka(n,r,u,f){switch(ya(r)){case 1:var g=pp;break;case 4:g=hp;break;default:g=Yi}u=g.bind(null,r,u,n),g=void 0,!bi||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(g=!0),f?g!==void 0?n.addEventListener(r,u,{capture:!0,passive:g}):n.addEventListener(r,u,!0):g!==void 0?n.addEventListener(r,u,{passive:g}):n.addEventListener(r,u,!1)}function ps(n,r,u,f,g){var v=f;if((r&1)===0&&(r&2)===0&&f!==null)e:for(;;){if(f===null)return;var x=f.tag;if(x===3||x===4){var L=f.stateNode.containerInfo;if(L===g||L.nodeType===8&&L.parentNode===g)break;if(x===4)for(x=f.return;x!==null;){var G=x.tag;if((G===3||G===4)&&(G=x.stateNode.containerInfo,G===g||G.nodeType===8&&G.parentNode===g))return;x=x.return}for(;L!==null;){if(x=Ln(L),x===null)return;if(G=x.tag,G===5||G===6){f=v=x;continue e}L=L.parentNode}}f=f.return}jl(function(){var Q=v,de=No(u),pe=[];e:{var fe=$a.get(n);if(fe!==void 0){var Ce=Xi,we=n;switch(n){case"keypress":if(Nr(u)===0)break e;case"keydown":case"keyup":Ce=Rp;break;case"focusin":we="focus",Ce=ts;break;case"focusout":we="blur",Ce=ts;break;case"beforeblur":case"afterblur":Ce=ts;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ce=Ca;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ce=yp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ce=Np;break;case Ga:case ba:case Ha:Ce=Cp;break;case qa:Ce=Lp;break;case"scroll":Ce=mp;break;case"wheel":Ce=Up;break;case"copy":case"cut":case"paste":Ce=Sp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ce=Sa}var xe=(r&4)!==0,et=!xe&&n==="scroll",W=xe?fe!==null?fe+"Capture":null:fe;xe=[];for(var b=Q,K;b!==null;){K=b;var ye=K.stateNode;if(K.tag===5&&ye!==null&&(K=ye,W!==null&&(ye=Lo(b,W),ye!=null&&xe.push(jo(b,ye,K)))),et)break;b=b.return}0<xe.length&&(fe=new Ce(fe,we,null,u,de),pe.push({event:fe,listeners:xe}))}}if((r&7)===0){e:{if(fe=n==="mouseover"||n==="pointerover",Ce=n==="mouseout"||n==="pointerout",fe&&u!==Po&&(we=u.relatedTarget||u.fromElement)&&(Ln(we)||we[en]))break e;if((Ce||fe)&&(fe=de.window===de?de:(fe=de.ownerDocument)?fe.defaultView||fe.parentWindow:window,Ce?(we=u.relatedTarget||u.toElement,Ce=Q,we=we?Ln(we):null,we!==null&&(et=Dn(we),we!==et||we.tag!==5&&we.tag!==6)&&(we=null)):(Ce=null,we=Q),Ce!==we)){if(xe=Ca,ye="onMouseLeave",W="onMouseEnter",b="mouse",(n==="pointerout"||n==="pointerover")&&(xe=Sa,ye="onPointerLeave",W="onPointerEnter",b="pointer"),et=Ce==null?fe:so(Ce),K=we==null?fe:so(we),fe=new xe(ye,b+"leave",Ce,u,de),fe.target=et,fe.relatedTarget=K,ye=null,Ln(de)===Q&&(xe=new xe(W,b+"enter",we,u,de),xe.target=K,xe.relatedTarget=et,ye=xe),et=ye,Ce&&we)t:{for(xe=Ce,W=we,b=0,K=xe;K;K=ro(K))b++;for(K=0,ye=W;ye;ye=ro(ye))K++;for(;0<b-K;)xe=ro(xe),b--;for(;0<K-b;)W=ro(W),K--;for(;b--;){if(xe===W||W!==null&&xe===W.alternate)break t;xe=ro(xe),W=ro(W)}xe=null}else xe=null;Ce!==null&&Ya(pe,fe,Ce,xe,!1),we!==null&&et!==null&&Ya(pe,et,we,xe,!0)}}e:{if(fe=Q?so(Q):window,Ce=fe.nodeName&&fe.nodeName.toLowerCase(),Ce==="select"||Ce==="input"&&fe.type==="file")var Ee=qp;else if(Aa(fe))if(Ma)Ee=Wp;else{Ee=Op;var Me=$p}else(Ce=fe.nodeName)&&Ce.toLowerCase()==="input"&&(fe.type==="checkbox"||fe.type==="radio")&&(Ee=Jp);if(Ee&&(Ee=Ee(n,Q))){Ra(pe,Ee,u,de);break e}Me&&Me(n,fe,Q),n==="focusout"&&(Me=fe._wrapperState)&&Me.controlled&&fe.type==="number"&&H(fe,"number",fe.value)}switch(Me=Q?so(Q):window,n){case"focusin":(Aa(Me)||Me.contentEditable==="true")&&(no=Me,ls=Q,Zo=null);break;case"focusout":Zo=ls=no=null;break;case"mousedown":as=!0;break;case"contextmenu":case"mouseup":case"dragend":as=!1,za(pe,u,de);break;case"selectionchange":if(Zp)break;case"keydown":case"keyup":za(pe,u,de)}var Pe;if(os)e:{switch(n){case"compositionstart":var De="onCompositionStart";break e;case"compositionend":De="onCompositionEnd";break e;case"compositionupdate":De="onCompositionUpdate";break e}De=void 0}else to?ka(n,u)&&(De="onCompositionEnd"):n==="keydown"&&u.keyCode===229&&(De="onCompositionStart");De&&(wa&&u.locale!=="ko"&&(to||De!=="onCompositionStart"?De==="onCompositionEnd"&&to&&(Pe=va()):(hn=de,Qi="value"in hn?hn.value:hn.textContent,to=!0)),Me=Br(Q,De),0<Me.length&&(De=new Ta(De,n,null,u,de),pe.push({event:De,listeners:Me}),Pe?De.data=Pe:(Pe=Ia(u),Pe!==null&&(De.data=Pe)))),(Pe=zp?Bp(n,u):Gp(n,u))&&(Q=Br(Q,"onBeforeInput"),0<Q.length&&(de=new Ta("onBeforeInput","beforeinput",null,u,de),pe.push({event:de,listeners:Q}),de.data=Pe))}Wa(pe,r)})}function jo(n,r,u){return{instance:n,listener:r,currentTarget:u}}function Br(n,r){for(var u=r+"Capture",f=[];n!==null;){var g=n,v=g.stateNode;g.tag===5&&v!==null&&(g=v,v=Lo(n,u),v!=null&&f.unshift(jo(n,v,g)),v=Lo(n,r),v!=null&&f.push(jo(n,v,g))),n=n.return}return f}function ro(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function Ya(n,r,u,f,g){for(var v=r._reactName,x=[];u!==null&&u!==f;){var L=u,G=L.alternate,Q=L.stateNode;if(G!==null&&G===f)break;L.tag===5&&Q!==null&&(L=Q,g?(G=Lo(u,v),G!=null&&x.unshift(jo(u,G,L))):g||(G=Lo(u,v),G!=null&&x.push(jo(u,G,L)))),u=u.return}x.length!==0&&n.push({event:r,listeners:x})}var eh=/\r\n?/g,th=/\u0000|\uFFFD/g;function Za(n){return(typeof n=="string"?n:""+n).replace(eh,`
`).replace(th,"")}function Gr(n,r,u){if(r=Za(r),Za(n)!==r&&u)throw Error(o(425))}function br(){}var hs=null,ms=null;function gs(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var ys=typeof setTimeout=="function"?setTimeout:void 0,nh=typeof clearTimeout=="function"?clearTimeout:void 0,Qa=typeof Promise=="function"?Promise:void 0,oh=typeof queueMicrotask=="function"?queueMicrotask:typeof Qa<"u"?function(n){return Qa.resolve(null).then(n).catch(rh)}:ys;function rh(n){setTimeout(function(){throw n})}function vs(n,r){var u=r,f=0;do{var g=u.nextSibling;if(n.removeChild(u),g&&g.nodeType===8)if(u=g.data,u==="/$"){if(f===0){n.removeChild(g),qo(r);return}f--}else u!=="$"&&u!=="$?"&&u!=="$!"||f++;u=g}while(u);qo(r)}function gn(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return n}function Xa(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var u=n.data;if(u==="$"||u==="$!"||u==="$?"){if(r===0)return n;r--}else u==="/$"&&r++}n=n.previousSibling}return null}var io=Math.random().toString(36).slice(2),Kt="__reactFiber$"+io,er="__reactProps$"+io,en="__reactContainer$"+io,_s="__reactEvents$"+io,ih="__reactListeners$"+io,sh="__reactHandles$"+io;function Ln(n){var r=n[Kt];if(r)return r;for(var u=n.parentNode;u;){if(r=u[en]||u[Kt]){if(u=r.alternate,r.child!==null||u!==null&&u.child!==null)for(n=Xa(n);n!==null;){if(u=n[Kt])return u;n=Xa(n)}return r}n=u,u=n.parentNode}return null}function tr(n){return n=n[Kt]||n[en],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function so(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(o(33))}function Hr(n){return n[er]||null}var Cs=[],lo=-1;function yn(n){return{current:n}}function Je(n){0>lo||(n.current=Cs[lo],Cs[lo]=null,lo--)}function $e(n,r){lo++,Cs[lo]=n.current,n.current=r}var vn={},ft=yn(vn),_t=yn(!1),Fn=vn;function ao(n,r){var u=n.type.contextTypes;if(!u)return vn;var f=n.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===r)return f.__reactInternalMemoizedMaskedChildContext;var g={},v;for(v in u)g[v]=r[v];return f&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=r,n.__reactInternalMemoizedMaskedChildContext=g),g}function Ct(n){return n=n.childContextTypes,n!=null}function qr(){Je(_t),Je(ft)}function ja(n,r,u){if(ft.current!==vn)throw Error(o(168));$e(ft,r),$e(_t,u)}function eu(n,r,u){var f=n.stateNode;if(r=r.childContextTypes,typeof f.getChildContext!="function")return u;f=f.getChildContext();for(var g in f)if(!(g in r))throw Error(o(108,Ne(n)||"Unknown",g));return O({},u,f)}function $r(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||vn,Fn=ft.current,$e(ft,n),$e(_t,_t.current),!0}function tu(n,r,u){var f=n.stateNode;if(!f)throw Error(o(169));u?(n=eu(n,r,Fn),f.__reactInternalMemoizedMergedChildContext=n,Je(_t),Je(ft),$e(ft,n)):Je(_t),$e(_t,u)}var tn=null,Or=!1,Ts=!1;function nu(n){tn===null?tn=[n]:tn.push(n)}function lh(n){Or=!0,nu(n)}function _n(){if(!Ts&&tn!==null){Ts=!0;var n=0,r=be;try{var u=tn;for(be=1;n<u.length;n++){var f=u[n];do f=f(!0);while(f!==null)}tn=null,Or=!1}catch(g){throw tn!==null&&(tn=tn.slice(n+1)),ra(qi,_n),g}finally{be=r,Ts=!1}}return null}var uo=[],co=0,Jr=null,Wr=0,Nt=[],Dt=0,Un=null,nn=1,on="";function Vn(n,r){uo[co++]=Wr,uo[co++]=Jr,Jr=n,Wr=r}function ou(n,r,u){Nt[Dt++]=nn,Nt[Dt++]=on,Nt[Dt++]=Un,Un=n;var f=nn;n=on;var g=32-Gt(f)-1;f&=~(1<<g),u+=1;var v=32-Gt(r)+g;if(30<v){var x=g-g%5;v=(f&(1<<x)-1).toString(32),f>>=x,g-=x,nn=1<<32-Gt(r)+g|u<<g|f,on=v+n}else nn=1<<v|u<<g|f,on=n}function Ss(n){n.return!==null&&(Vn(n,1),ou(n,1,0))}function ws(n){for(;n===Jr;)Jr=uo[--co],uo[co]=null,Wr=uo[--co],uo[co]=null;for(;n===Un;)Un=Nt[--Dt],Nt[Dt]=null,on=Nt[--Dt],Nt[Dt]=null,nn=Nt[--Dt],Nt[Dt]=null}var At=null,Rt=null,Ye=!1,Ht=null;function ru(n,r){var u=Vt(5,null,null,0);u.elementType="DELETED",u.stateNode=r,u.return=n,r=n.deletions,r===null?(n.deletions=[u],n.flags|=16):r.push(u)}function iu(n,r){switch(n.tag){case 5:var u=n.type;return r=r.nodeType!==1||u.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(n.stateNode=r,At=n,Rt=gn(r.firstChild),!0):!1;case 6:return r=n.pendingProps===""||r.nodeType!==3?null:r,r!==null?(n.stateNode=r,At=n,Rt=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(u=Un!==null?{id:nn,overflow:on}:null,n.memoizedState={dehydrated:r,treeContext:u,retryLane:1073741824},u=Vt(18,null,null,0),u.stateNode=r,u.return=n,n.child=u,At=n,Rt=null,!0):!1;default:return!1}}function xs(n){return(n.mode&1)!==0&&(n.flags&128)===0}function Es(n){if(Ye){var r=Rt;if(r){var u=r;if(!iu(n,r)){if(xs(n))throw Error(o(418));r=gn(u.nextSibling);var f=At;r&&iu(n,r)?ru(f,u):(n.flags=n.flags&-4097|2,Ye=!1,At=n)}}else{if(xs(n))throw Error(o(418));n.flags=n.flags&-4097|2,Ye=!1,At=n}}}function su(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;At=n}function Kr(n){if(n!==At)return!1;if(!Ye)return su(n),Ye=!0,!1;var r;if((r=n.tag!==3)&&!(r=n.tag!==5)&&(r=n.type,r=r!=="head"&&r!=="body"&&!gs(n.type,n.memoizedProps)),r&&(r=Rt)){if(xs(n))throw lu(),Error(o(418));for(;r;)ru(n,r),r=gn(r.nextSibling)}if(su(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(o(317));e:{for(n=n.nextSibling,r=0;n;){if(n.nodeType===8){var u=n.data;if(u==="/$"){if(r===0){Rt=gn(n.nextSibling);break e}r--}else u!=="$"&&u!=="$!"&&u!=="$?"||r++}n=n.nextSibling}Rt=null}}else Rt=At?gn(n.stateNode.nextSibling):null;return!0}function lu(){for(var n=Rt;n;)n=gn(n.nextSibling)}function fo(){Rt=At=null,Ye=!1}function ks(n){Ht===null?Ht=[n]:Ht.push(n)}var ah=V.ReactCurrentBatchConfig;function nr(n,r,u){if(n=u.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(o(309));var f=u.stateNode}if(!f)throw Error(o(147,n));var g=f,v=""+n;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===v?r.ref:(r=function(x){var L=g.refs;x===null?delete L[v]:L[v]=x},r._stringRef=v,r)}if(typeof n!="string")throw Error(o(284));if(!u._owner)throw Error(o(290,n))}return n}function Yr(n,r){throw n=Object.prototype.toString.call(r),Error(o(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n))}function au(n){var r=n._init;return r(n._payload)}function uu(n){function r(W,b){if(n){var K=W.deletions;K===null?(W.deletions=[b],W.flags|=16):K.push(b)}}function u(W,b){if(!n)return null;for(;b!==null;)r(W,b),b=b.sibling;return null}function f(W,b){for(W=new Map;b!==null;)b.key!==null?W.set(b.key,b):W.set(b.index,b),b=b.sibling;return W}function g(W,b){return W=In(W,b),W.index=0,W.sibling=null,W}function v(W,b,K){return W.index=K,n?(K=W.alternate,K!==null?(K=K.index,K<b?(W.flags|=2,b):K):(W.flags|=2,b)):(W.flags|=1048576,b)}function x(W){return n&&W.alternate===null&&(W.flags|=2),W}function L(W,b,K,ye){return b===null||b.tag!==6?(b=yl(K,W.mode,ye),b.return=W,b):(b=g(b,K),b.return=W,b)}function G(W,b,K,ye){var Ee=K.type;return Ee===$?de(W,b,K.props.children,ye,K.key):b!==null&&(b.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===he&&au(Ee)===b.type)?(ye=g(b,K.props),ye.ref=nr(W,b,K),ye.return=W,ye):(ye=_i(K.type,K.key,K.props,null,W.mode,ye),ye.ref=nr(W,b,K),ye.return=W,ye)}function Q(W,b,K,ye){return b===null||b.tag!==4||b.stateNode.containerInfo!==K.containerInfo||b.stateNode.implementation!==K.implementation?(b=vl(K,W.mode,ye),b.return=W,b):(b=g(b,K.children||[]),b.return=W,b)}function de(W,b,K,ye,Ee){return b===null||b.tag!==7?(b=On(K,W.mode,ye,Ee),b.return=W,b):(b=g(b,K),b.return=W,b)}function pe(W,b,K){if(typeof b=="string"&&b!==""||typeof b=="number")return b=yl(""+b,W.mode,K),b.return=W,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case z:return K=_i(b.type,b.key,b.props,null,W.mode,K),K.ref=nr(W,null,b),K.return=W,K;case J:return b=vl(b,W.mode,K),b.return=W,b;case he:var ye=b._init;return pe(W,ye(b._payload),K)}if(ue(b)||Z(b))return b=On(b,W.mode,K,null),b.return=W,b;Yr(W,b)}return null}function fe(W,b,K,ye){var Ee=b!==null?b.key:null;if(typeof K=="string"&&K!==""||typeof K=="number")return Ee!==null?null:L(W,b,""+K,ye);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case z:return K.key===Ee?G(W,b,K,ye):null;case J:return K.key===Ee?Q(W,b,K,ye):null;case he:return Ee=K._init,fe(W,b,Ee(K._payload),ye)}if(ue(K)||Z(K))return Ee!==null?null:de(W,b,K,ye,null);Yr(W,K)}return null}function Ce(W,b,K,ye,Ee){if(typeof ye=="string"&&ye!==""||typeof ye=="number")return W=W.get(K)||null,L(b,W,""+ye,Ee);if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case z:return W=W.get(ye.key===null?K:ye.key)||null,G(b,W,ye,Ee);case J:return W=W.get(ye.key===null?K:ye.key)||null,Q(b,W,ye,Ee);case he:var Me=ye._init;return Ce(W,b,K,Me(ye._payload),Ee)}if(ue(ye)||Z(ye))return W=W.get(K)||null,de(b,W,ye,Ee,null);Yr(b,ye)}return null}function we(W,b,K,ye){for(var Ee=null,Me=null,Pe=b,De=b=0,st=null;Pe!==null&&De<K.length;De++){Pe.index>De?(st=Pe,Pe=null):st=Pe.sibling;var Be=fe(W,Pe,K[De],ye);if(Be===null){Pe===null&&(Pe=st);break}n&&Pe&&Be.alternate===null&&r(W,Pe),b=v(Be,b,De),Me===null?Ee=Be:Me.sibling=Be,Me=Be,Pe=st}if(De===K.length)return u(W,Pe),Ye&&Vn(W,De),Ee;if(Pe===null){for(;De<K.length;De++)Pe=pe(W,K[De],ye),Pe!==null&&(b=v(Pe,b,De),Me===null?Ee=Pe:Me.sibling=Pe,Me=Pe);return Ye&&Vn(W,De),Ee}for(Pe=f(W,Pe);De<K.length;De++)st=Ce(Pe,W,De,K[De],ye),st!==null&&(n&&st.alternate!==null&&Pe.delete(st.key===null?De:st.key),b=v(st,b,De),Me===null?Ee=st:Me.sibling=st,Me=st);return n&&Pe.forEach(function(An){return r(W,An)}),Ye&&Vn(W,De),Ee}function xe(W,b,K,ye){var Ee=Z(K);if(typeof Ee!="function")throw Error(o(150));if(K=Ee.call(K),K==null)throw Error(o(151));for(var Me=Ee=null,Pe=b,De=b=0,st=null,Be=K.next();Pe!==null&&!Be.done;De++,Be=K.next()){Pe.index>De?(st=Pe,Pe=null):st=Pe.sibling;var An=fe(W,Pe,Be.value,ye);if(An===null){Pe===null&&(Pe=st);break}n&&Pe&&An.alternate===null&&r(W,Pe),b=v(An,b,De),Me===null?Ee=An:Me.sibling=An,Me=An,Pe=st}if(Be.done)return u(W,Pe),Ye&&Vn(W,De),Ee;if(Pe===null){for(;!Be.done;De++,Be=K.next())Be=pe(W,Be.value,ye),Be!==null&&(b=v(Be,b,De),Me===null?Ee=Be:Me.sibling=Be,Me=Be);return Ye&&Vn(W,De),Ee}for(Pe=f(W,Pe);!Be.done;De++,Be=K.next())Be=Ce(Pe,W,De,Be.value,ye),Be!==null&&(n&&Be.alternate!==null&&Pe.delete(Be.key===null?De:Be.key),b=v(Be,b,De),Me===null?Ee=Be:Me.sibling=Be,Me=Be);return n&&Pe.forEach(function(bh){return r(W,bh)}),Ye&&Vn(W,De),Ee}function et(W,b,K,ye){if(typeof K=="object"&&K!==null&&K.type===$&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case z:e:{for(var Ee=K.key,Me=b;Me!==null;){if(Me.key===Ee){if(Ee=K.type,Ee===$){if(Me.tag===7){u(W,Me.sibling),b=g(Me,K.props.children),b.return=W,W=b;break e}}else if(Me.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===he&&au(Ee)===Me.type){u(W,Me.sibling),b=g(Me,K.props),b.ref=nr(W,Me,K),b.return=W,W=b;break e}u(W,Me);break}else r(W,Me);Me=Me.sibling}K.type===$?(b=On(K.props.children,W.mode,ye,K.key),b.return=W,W=b):(ye=_i(K.type,K.key,K.props,null,W.mode,ye),ye.ref=nr(W,b,K),ye.return=W,W=ye)}return x(W);case J:e:{for(Me=K.key;b!==null;){if(b.key===Me)if(b.tag===4&&b.stateNode.containerInfo===K.containerInfo&&b.stateNode.implementation===K.implementation){u(W,b.sibling),b=g(b,K.children||[]),b.return=W,W=b;break e}else{u(W,b);break}else r(W,b);b=b.sibling}b=vl(K,W.mode,ye),b.return=W,W=b}return x(W);case he:return Me=K._init,et(W,b,Me(K._payload),ye)}if(ue(K))return we(W,b,K,ye);if(Z(K))return xe(W,b,K,ye);Yr(W,K)}return typeof K=="string"&&K!==""||typeof K=="number"?(K=""+K,b!==null&&b.tag===6?(u(W,b.sibling),b=g(b,K),b.return=W,W=b):(u(W,b),b=yl(K,W.mode,ye),b.return=W,W=b),x(W)):u(W,b)}return et}var po=uu(!0),cu=uu(!1),Zr=yn(null),Qr=null,ho=null,Is=null;function As(){Is=ho=Qr=null}function Rs(n){var r=Zr.current;Je(Zr),n._currentValue=r}function Ms(n,r,u){for(;n!==null;){var f=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,f!==null&&(f.childLanes|=r)):f!==null&&(f.childLanes&r)!==r&&(f.childLanes|=r),n===u)break;n=n.return}}function mo(n,r){Qr=n,Is=ho=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&r)!==0&&(Tt=!0),n.firstContext=null)}function Lt(n){var r=n._currentValue;if(Is!==n)if(n={context:n,memoizedValue:r,next:null},ho===null){if(Qr===null)throw Error(o(308));ho=n,Qr.dependencies={lanes:0,firstContext:n}}else ho=ho.next=n;return r}var zn=null;function Ps(n){zn===null?zn=[n]:zn.push(n)}function fu(n,r,u,f){var g=r.interleaved;return g===null?(u.next=u,Ps(r)):(u.next=g.next,g.next=u),r.interleaved=u,rn(n,f)}function rn(n,r){n.lanes|=r;var u=n.alternate;for(u!==null&&(u.lanes|=r),u=n,n=n.return;n!==null;)n.childLanes|=r,u=n.alternate,u!==null&&(u.childLanes|=r),u=n,n=n.return;return u.tag===3?u.stateNode:null}var Cn=!1;function Ns(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function du(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function sn(n,r){return{eventTime:n,lane:r,tag:0,payload:null,callback:null,next:null}}function Tn(n,r,u){var f=n.updateQueue;if(f===null)return null;if(f=f.shared,(Ve&2)!==0){var g=f.pending;return g===null?r.next=r:(r.next=g.next,g.next=r),f.pending=r,rn(n,u)}return g=f.interleaved,g===null?(r.next=r,Ps(f)):(r.next=g.next,g.next=r),f.interleaved=r,rn(n,u)}function Xr(n,r,u){if(r=r.updateQueue,r!==null&&(r=r.shared,(u&4194240)!==0)){var f=r.lanes;f&=n.pendingLanes,u|=f,r.lanes=u,Ji(n,u)}}function pu(n,r){var u=n.updateQueue,f=n.alternate;if(f!==null&&(f=f.updateQueue,u===f)){var g=null,v=null;if(u=u.firstBaseUpdate,u!==null){do{var x={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};v===null?g=v=x:v=v.next=x,u=u.next}while(u!==null);v===null?g=v=r:v=v.next=r}else g=v=r;u={baseState:f.baseState,firstBaseUpdate:g,lastBaseUpdate:v,shared:f.shared,effects:f.effects},n.updateQueue=u;return}n=u.lastBaseUpdate,n===null?u.firstBaseUpdate=r:n.next=r,u.lastBaseUpdate=r}function jr(n,r,u,f){var g=n.updateQueue;Cn=!1;var v=g.firstBaseUpdate,x=g.lastBaseUpdate,L=g.shared.pending;if(L!==null){g.shared.pending=null;var G=L,Q=G.next;G.next=null,x===null?v=Q:x.next=Q,x=G;var de=n.alternate;de!==null&&(de=de.updateQueue,L=de.lastBaseUpdate,L!==x&&(L===null?de.firstBaseUpdate=Q:L.next=Q,de.lastBaseUpdate=G))}if(v!==null){var pe=g.baseState;x=0,de=Q=G=null,L=v;do{var fe=L.lane,Ce=L.eventTime;if((f&fe)===fe){de!==null&&(de=de.next={eventTime:Ce,lane:0,tag:L.tag,payload:L.payload,callback:L.callback,next:null});e:{var we=n,xe=L;switch(fe=r,Ce=u,xe.tag){case 1:if(we=xe.payload,typeof we=="function"){pe=we.call(Ce,pe,fe);break e}pe=we;break e;case 3:we.flags=we.flags&-65537|128;case 0:if(we=xe.payload,fe=typeof we=="function"?we.call(Ce,pe,fe):we,fe==null)break e;pe=O({},pe,fe);break e;case 2:Cn=!0}}L.callback!==null&&L.lane!==0&&(n.flags|=64,fe=g.effects,fe===null?g.effects=[L]:fe.push(L))}else Ce={eventTime:Ce,lane:fe,tag:L.tag,payload:L.payload,callback:L.callback,next:null},de===null?(Q=de=Ce,G=pe):de=de.next=Ce,x|=fe;if(L=L.next,L===null){if(L=g.shared.pending,L===null)break;fe=L,L=fe.next,fe.next=null,g.lastBaseUpdate=fe,g.shared.pending=null}}while(!0);if(de===null&&(G=pe),g.baseState=G,g.firstBaseUpdate=Q,g.lastBaseUpdate=de,r=g.shared.interleaved,r!==null){g=r;do x|=g.lane,g=g.next;while(g!==r)}else v===null&&(g.shared.lanes=0);bn|=x,n.lanes=x,n.memoizedState=pe}}function hu(n,r,u){if(n=r.effects,r.effects=null,n!==null)for(r=0;r<n.length;r++){var f=n[r],g=f.callback;if(g!==null){if(f.callback=null,f=u,typeof g!="function")throw Error(o(191,g));g.call(f)}}}var or={},Yt=yn(or),rr=yn(or),ir=yn(or);function Bn(n){if(n===or)throw Error(o(174));return n}function Ds(n,r){switch($e(ir,r),$e(rr,n),$e(Yt,or),n=r.nodeType,n){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:Ge(null,"");break;default:n=n===8?r.parentNode:r,r=n.namespaceURI||null,n=n.tagName,r=Ge(r,n)}Je(Yt),$e(Yt,r)}function go(){Je(Yt),Je(rr),Je(ir)}function mu(n){Bn(ir.current);var r=Bn(Yt.current),u=Ge(r,n.type);r!==u&&($e(rr,n),$e(Yt,u))}function Ls(n){rr.current===n&&(Je(Yt),Je(rr))}var Ze=yn(0);function ei(n){for(var r=n;r!==null;){if(r.tag===13){var u=r.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Fs=[];function Us(){for(var n=0;n<Fs.length;n++)Fs[n]._workInProgressVersionPrimary=null;Fs.length=0}var ti=V.ReactCurrentDispatcher,Vs=V.ReactCurrentBatchConfig,Gn=0,Qe=null,nt=null,rt=null,ni=!1,sr=!1,lr=0,uh=0;function dt(){throw Error(o(321))}function zs(n,r){if(r===null)return!1;for(var u=0;u<r.length&&u<n.length;u++)if(!bt(n[u],r[u]))return!1;return!0}function Bs(n,r,u,f,g,v){if(Gn=v,Qe=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,ti.current=n===null||n.memoizedState===null?ph:hh,n=u(f,g),sr){v=0;do{if(sr=!1,lr=0,25<=v)throw Error(o(301));v+=1,rt=nt=null,r.updateQueue=null,ti.current=mh,n=u(f,g)}while(sr)}if(ti.current=ii,r=nt!==null&&nt.next!==null,Gn=0,rt=nt=Qe=null,ni=!1,r)throw Error(o(300));return n}function Gs(){var n=lr!==0;return lr=0,n}function Zt(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rt===null?Qe.memoizedState=rt=n:rt=rt.next=n,rt}function Ft(){if(nt===null){var n=Qe.alternate;n=n!==null?n.memoizedState:null}else n=nt.next;var r=rt===null?Qe.memoizedState:rt.next;if(r!==null)rt=r,nt=n;else{if(n===null)throw Error(o(310));nt=n,n={memoizedState:nt.memoizedState,baseState:nt.baseState,baseQueue:nt.baseQueue,queue:nt.queue,next:null},rt===null?Qe.memoizedState=rt=n:rt=rt.next=n}return rt}function ar(n,r){return typeof r=="function"?r(n):r}function bs(n){var r=Ft(),u=r.queue;if(u===null)throw Error(o(311));u.lastRenderedReducer=n;var f=nt,g=f.baseQueue,v=u.pending;if(v!==null){if(g!==null){var x=g.next;g.next=v.next,v.next=x}f.baseQueue=g=v,u.pending=null}if(g!==null){v=g.next,f=f.baseState;var L=x=null,G=null,Q=v;do{var de=Q.lane;if((Gn&de)===de)G!==null&&(G=G.next={lane:0,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),f=Q.hasEagerState?Q.eagerState:n(f,Q.action);else{var pe={lane:de,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null};G===null?(L=G=pe,x=f):G=G.next=pe,Qe.lanes|=de,bn|=de}Q=Q.next}while(Q!==null&&Q!==v);G===null?x=f:G.next=L,bt(f,r.memoizedState)||(Tt=!0),r.memoizedState=f,r.baseState=x,r.baseQueue=G,u.lastRenderedState=f}if(n=u.interleaved,n!==null){g=n;do v=g.lane,Qe.lanes|=v,bn|=v,g=g.next;while(g!==n)}else g===null&&(u.lanes=0);return[r.memoizedState,u.dispatch]}function Hs(n){var r=Ft(),u=r.queue;if(u===null)throw Error(o(311));u.lastRenderedReducer=n;var f=u.dispatch,g=u.pending,v=r.memoizedState;if(g!==null){u.pending=null;var x=g=g.next;do v=n(v,x.action),x=x.next;while(x!==g);bt(v,r.memoizedState)||(Tt=!0),r.memoizedState=v,r.baseQueue===null&&(r.baseState=v),u.lastRenderedState=v}return[v,f]}function gu(){}function yu(n,r){var u=Qe,f=Ft(),g=r(),v=!bt(f.memoizedState,g);if(v&&(f.memoizedState=g,Tt=!0),f=f.queue,qs(Cu.bind(null,u,f,n),[n]),f.getSnapshot!==r||v||rt!==null&&rt.memoizedState.tag&1){if(u.flags|=2048,ur(9,_u.bind(null,u,f,g,r),void 0,null),it===null)throw Error(o(349));(Gn&30)!==0||vu(u,r,g)}return g}function vu(n,r,u){n.flags|=16384,n={getSnapshot:r,value:u},r=Qe.updateQueue,r===null?(r={lastEffect:null,stores:null},Qe.updateQueue=r,r.stores=[n]):(u=r.stores,u===null?r.stores=[n]:u.push(n))}function _u(n,r,u,f){r.value=u,r.getSnapshot=f,Tu(r)&&Su(n)}function Cu(n,r,u){return u(function(){Tu(r)&&Su(n)})}function Tu(n){var r=n.getSnapshot;n=n.value;try{var u=r();return!bt(n,u)}catch{return!0}}function Su(n){var r=rn(n,1);r!==null&&Jt(r,n,1,-1)}function wu(n){var r=Zt();return typeof n=="function"&&(n=n()),r.memoizedState=r.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ar,lastRenderedState:n},r.queue=n,n=n.dispatch=dh.bind(null,Qe,n),[r.memoizedState,n]}function ur(n,r,u,f){return n={tag:n,create:r,destroy:u,deps:f,next:null},r=Qe.updateQueue,r===null?(r={lastEffect:null,stores:null},Qe.updateQueue=r,r.lastEffect=n.next=n):(u=r.lastEffect,u===null?r.lastEffect=n.next=n:(f=u.next,u.next=n,n.next=f,r.lastEffect=n)),n}function xu(){return Ft().memoizedState}function oi(n,r,u,f){var g=Zt();Qe.flags|=n,g.memoizedState=ur(1|r,u,void 0,f===void 0?null:f)}function ri(n,r,u,f){var g=Ft();f=f===void 0?null:f;var v=void 0;if(nt!==null){var x=nt.memoizedState;if(v=x.destroy,f!==null&&zs(f,x.deps)){g.memoizedState=ur(r,u,v,f);return}}Qe.flags|=n,g.memoizedState=ur(1|r,u,v,f)}function Eu(n,r){return oi(8390656,8,n,r)}function qs(n,r){return ri(2048,8,n,r)}function ku(n,r){return ri(4,2,n,r)}function Iu(n,r){return ri(4,4,n,r)}function Au(n,r){if(typeof r=="function")return n=n(),r(n),function(){r(null)};if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function Ru(n,r,u){return u=u!=null?u.concat([n]):null,ri(4,4,Au.bind(null,r,n),u)}function $s(){}function Mu(n,r){var u=Ft();r=r===void 0?null:r;var f=u.memoizedState;return f!==null&&r!==null&&zs(r,f[1])?f[0]:(u.memoizedState=[n,r],n)}function Pu(n,r){var u=Ft();r=r===void 0?null:r;var f=u.memoizedState;return f!==null&&r!==null&&zs(r,f[1])?f[0]:(n=n(),u.memoizedState=[n,r],n)}function Nu(n,r,u){return(Gn&21)===0?(n.baseState&&(n.baseState=!1,Tt=!0),n.memoizedState=u):(bt(u,r)||(u=aa(),Qe.lanes|=u,bn|=u,n.baseState=!0),r)}function ch(n,r){var u=be;be=u!==0&&4>u?u:4,n(!0);var f=Vs.transition;Vs.transition={};try{n(!1),r()}finally{be=u,Vs.transition=f}}function Du(){return Ft().memoizedState}function fh(n,r,u){var f=En(n);if(u={lane:f,action:u,hasEagerState:!1,eagerState:null,next:null},Lu(n))Fu(r,u);else if(u=fu(n,r,u,f),u!==null){var g=vt();Jt(u,n,f,g),Uu(u,r,f)}}function dh(n,r,u){var f=En(n),g={lane:f,action:u,hasEagerState:!1,eagerState:null,next:null};if(Lu(n))Fu(r,g);else{var v=n.alternate;if(n.lanes===0&&(v===null||v.lanes===0)&&(v=r.lastRenderedReducer,v!==null))try{var x=r.lastRenderedState,L=v(x,u);if(g.hasEagerState=!0,g.eagerState=L,bt(L,x)){var G=r.interleaved;G===null?(g.next=g,Ps(r)):(g.next=G.next,G.next=g),r.interleaved=g;return}}catch{}finally{}u=fu(n,r,g,f),u!==null&&(g=vt(),Jt(u,n,f,g),Uu(u,r,f))}}function Lu(n){var r=n.alternate;return n===Qe||r!==null&&r===Qe}function Fu(n,r){sr=ni=!0;var u=n.pending;u===null?r.next=r:(r.next=u.next,u.next=r),n.pending=r}function Uu(n,r,u){if((u&4194240)!==0){var f=r.lanes;f&=n.pendingLanes,u|=f,r.lanes=u,Ji(n,u)}}var ii={readContext:Lt,useCallback:dt,useContext:dt,useEffect:dt,useImperativeHandle:dt,useInsertionEffect:dt,useLayoutEffect:dt,useMemo:dt,useReducer:dt,useRef:dt,useState:dt,useDebugValue:dt,useDeferredValue:dt,useTransition:dt,useMutableSource:dt,useSyncExternalStore:dt,useId:dt,unstable_isNewReconciler:!1},ph={readContext:Lt,useCallback:function(n,r){return Zt().memoizedState=[n,r===void 0?null:r],n},useContext:Lt,useEffect:Eu,useImperativeHandle:function(n,r,u){return u=u!=null?u.concat([n]):null,oi(4194308,4,Au.bind(null,r,n),u)},useLayoutEffect:function(n,r){return oi(4194308,4,n,r)},useInsertionEffect:function(n,r){return oi(4,2,n,r)},useMemo:function(n,r){var u=Zt();return r=r===void 0?null:r,n=n(),u.memoizedState=[n,r],n},useReducer:function(n,r,u){var f=Zt();return r=u!==void 0?u(r):r,f.memoizedState=f.baseState=r,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:r},f.queue=n,n=n.dispatch=fh.bind(null,Qe,n),[f.memoizedState,n]},useRef:function(n){var r=Zt();return n={current:n},r.memoizedState=n},useState:wu,useDebugValue:$s,useDeferredValue:function(n){return Zt().memoizedState=n},useTransition:function(){var n=wu(!1),r=n[0];return n=ch.bind(null,n[1]),Zt().memoizedState=n,[r,n]},useMutableSource:function(){},useSyncExternalStore:function(n,r,u){var f=Qe,g=Zt();if(Ye){if(u===void 0)throw Error(o(407));u=u()}else{if(u=r(),it===null)throw Error(o(349));(Gn&30)!==0||vu(f,r,u)}g.memoizedState=u;var v={value:u,getSnapshot:r};return g.queue=v,Eu(Cu.bind(null,f,v,n),[n]),f.flags|=2048,ur(9,_u.bind(null,f,v,u,r),void 0,null),u},useId:function(){var n=Zt(),r=it.identifierPrefix;if(Ye){var u=on,f=nn;u=(f&~(1<<32-Gt(f)-1)).toString(32)+u,r=":"+r+"R"+u,u=lr++,0<u&&(r+="H"+u.toString(32)),r+=":"}else u=uh++,r=":"+r+"r"+u.toString(32)+":";return n.memoizedState=r},unstable_isNewReconciler:!1},hh={readContext:Lt,useCallback:Mu,useContext:Lt,useEffect:qs,useImperativeHandle:Ru,useInsertionEffect:ku,useLayoutEffect:Iu,useMemo:Pu,useReducer:bs,useRef:xu,useState:function(){return bs(ar)},useDebugValue:$s,useDeferredValue:function(n){var r=Ft();return Nu(r,nt.memoizedState,n)},useTransition:function(){var n=bs(ar)[0],r=Ft().memoizedState;return[n,r]},useMutableSource:gu,useSyncExternalStore:yu,useId:Du,unstable_isNewReconciler:!1},mh={readContext:Lt,useCallback:Mu,useContext:Lt,useEffect:qs,useImperativeHandle:Ru,useInsertionEffect:ku,useLayoutEffect:Iu,useMemo:Pu,useReducer:Hs,useRef:xu,useState:function(){return Hs(ar)},useDebugValue:$s,useDeferredValue:function(n){var r=Ft();return nt===null?r.memoizedState=n:Nu(r,nt.memoizedState,n)},useTransition:function(){var n=Hs(ar)[0],r=Ft().memoizedState;return[n,r]},useMutableSource:gu,useSyncExternalStore:yu,useId:Du,unstable_isNewReconciler:!1};function qt(n,r){if(n&&n.defaultProps){r=O({},r),n=n.defaultProps;for(var u in n)r[u]===void 0&&(r[u]=n[u]);return r}return r}function Os(n,r,u,f){r=n.memoizedState,u=u(f,r),u=u==null?r:O({},r,u),n.memoizedState=u,n.lanes===0&&(n.updateQueue.baseState=u)}var si={isMounted:function(n){return(n=n._reactInternals)?Dn(n)===n:!1},enqueueSetState:function(n,r,u){n=n._reactInternals;var f=vt(),g=En(n),v=sn(f,g);v.payload=r,u!=null&&(v.callback=u),r=Tn(n,v,g),r!==null&&(Jt(r,n,g,f),Xr(r,n,g))},enqueueReplaceState:function(n,r,u){n=n._reactInternals;var f=vt(),g=En(n),v=sn(f,g);v.tag=1,v.payload=r,u!=null&&(v.callback=u),r=Tn(n,v,g),r!==null&&(Jt(r,n,g,f),Xr(r,n,g))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var u=vt(),f=En(n),g=sn(u,f);g.tag=2,r!=null&&(g.callback=r),r=Tn(n,g,f),r!==null&&(Jt(r,n,f,u),Xr(r,n,f))}};function Vu(n,r,u,f,g,v,x){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(f,v,x):r.prototype&&r.prototype.isPureReactComponent?!Yo(u,f)||!Yo(g,v):!0}function zu(n,r,u){var f=!1,g=vn,v=r.contextType;return typeof v=="object"&&v!==null?v=Lt(v):(g=Ct(r)?Fn:ft.current,f=r.contextTypes,v=(f=f!=null)?ao(n,g):vn),r=new r(u,v),n.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=si,n.stateNode=r,r._reactInternals=n,f&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=g,n.__reactInternalMemoizedMaskedChildContext=v),r}function Bu(n,r,u,f){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(u,f),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(u,f),r.state!==n&&si.enqueueReplaceState(r,r.state,null)}function Js(n,r,u,f){var g=n.stateNode;g.props=u,g.state=n.memoizedState,g.refs={},Ns(n);var v=r.contextType;typeof v=="object"&&v!==null?g.context=Lt(v):(v=Ct(r)?Fn:ft.current,g.context=ao(n,v)),g.state=n.memoizedState,v=r.getDerivedStateFromProps,typeof v=="function"&&(Os(n,r,v,u),g.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(r=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),r!==g.state&&si.enqueueReplaceState(g,g.state,null),jr(n,u,g,f),g.state=n.memoizedState),typeof g.componentDidMount=="function"&&(n.flags|=4194308)}function yo(n,r){try{var u="",f=r;do u+=ie(f),f=f.return;while(f);var g=u}catch(v){g=`
Error generating stack: `+v.message+`
`+v.stack}return{value:n,source:r,stack:g,digest:null}}function Ws(n,r,u){return{value:n,source:null,stack:u??null,digest:r??null}}function Ks(n,r){try{console.error(r.value)}catch(u){setTimeout(function(){throw u})}}var gh=typeof WeakMap=="function"?WeakMap:Map;function Gu(n,r,u){u=sn(-1,u),u.tag=3,u.payload={element:null};var f=r.value;return u.callback=function(){pi||(pi=!0,ul=f),Ks(n,r)},u}function bu(n,r,u){u=sn(-1,u),u.tag=3;var f=n.type.getDerivedStateFromError;if(typeof f=="function"){var g=r.value;u.payload=function(){return f(g)},u.callback=function(){Ks(n,r)}}var v=n.stateNode;return v!==null&&typeof v.componentDidCatch=="function"&&(u.callback=function(){Ks(n,r),typeof f!="function"&&(wn===null?wn=new Set([this]):wn.add(this));var x=r.stack;this.componentDidCatch(r.value,{componentStack:x!==null?x:""})}),u}function Hu(n,r,u){var f=n.pingCache;if(f===null){f=n.pingCache=new gh;var g=new Set;f.set(r,g)}else g=f.get(r),g===void 0&&(g=new Set,f.set(r,g));g.has(u)||(g.add(u),n=Mh.bind(null,n,r,u),r.then(n,n))}function qu(n){do{var r;if((r=n.tag===13)&&(r=n.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return n;n=n.return}while(n!==null);return null}function $u(n,r,u,f,g){return(n.mode&1)===0?(n===r?n.flags|=65536:(n.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(r=sn(-1,1),r.tag=2,Tn(u,r,1))),u.lanes|=1),n):(n.flags|=65536,n.lanes=g,n)}var yh=V.ReactCurrentOwner,Tt=!1;function yt(n,r,u,f){r.child=n===null?cu(r,null,u,f):po(r,n.child,u,f)}function Ou(n,r,u,f,g){u=u.render;var v=r.ref;return mo(r,g),f=Bs(n,r,u,f,v,g),u=Gs(),n!==null&&!Tt?(r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~g,ln(n,r,g)):(Ye&&u&&Ss(r),r.flags|=1,yt(n,r,f,g),r.child)}function Ju(n,r,u,f,g){if(n===null){var v=u.type;return typeof v=="function"&&!gl(v)&&v.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(r.tag=15,r.type=v,Wu(n,r,v,f,g)):(n=_i(u.type,null,f,r,r.mode,g),n.ref=r.ref,n.return=r,r.child=n)}if(v=n.child,(n.lanes&g)===0){var x=v.memoizedProps;if(u=u.compare,u=u!==null?u:Yo,u(x,f)&&n.ref===r.ref)return ln(n,r,g)}return r.flags|=1,n=In(v,f),n.ref=r.ref,n.return=r,r.child=n}function Wu(n,r,u,f,g){if(n!==null){var v=n.memoizedProps;if(Yo(v,f)&&n.ref===r.ref)if(Tt=!1,r.pendingProps=f=v,(n.lanes&g)!==0)(n.flags&131072)!==0&&(Tt=!0);else return r.lanes=n.lanes,ln(n,r,g)}return Ys(n,r,u,f,g)}function Ku(n,r,u){var f=r.pendingProps,g=f.children,v=n!==null?n.memoizedState:null;if(f.mode==="hidden")if((r.mode&1)===0)r.memoizedState={baseLanes:0,cachePool:null,transitions:null},$e(_o,Mt),Mt|=u;else{if((u&1073741824)===0)return n=v!==null?v.baseLanes|u:u,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:n,cachePool:null,transitions:null},r.updateQueue=null,$e(_o,Mt),Mt|=n,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=v!==null?v.baseLanes:u,$e(_o,Mt),Mt|=f}else v!==null?(f=v.baseLanes|u,r.memoizedState=null):f=u,$e(_o,Mt),Mt|=f;return yt(n,r,g,u),r.child}function Yu(n,r){var u=r.ref;(n===null&&u!==null||n!==null&&n.ref!==u)&&(r.flags|=512,r.flags|=2097152)}function Ys(n,r,u,f,g){var v=Ct(u)?Fn:ft.current;return v=ao(r,v),mo(r,g),u=Bs(n,r,u,f,v,g),f=Gs(),n!==null&&!Tt?(r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~g,ln(n,r,g)):(Ye&&f&&Ss(r),r.flags|=1,yt(n,r,u,g),r.child)}function Zu(n,r,u,f,g){if(Ct(u)){var v=!0;$r(r)}else v=!1;if(mo(r,g),r.stateNode===null)ai(n,r),zu(r,u,f),Js(r,u,f,g),f=!0;else if(n===null){var x=r.stateNode,L=r.memoizedProps;x.props=L;var G=x.context,Q=u.contextType;typeof Q=="object"&&Q!==null?Q=Lt(Q):(Q=Ct(u)?Fn:ft.current,Q=ao(r,Q));var de=u.getDerivedStateFromProps,pe=typeof de=="function"||typeof x.getSnapshotBeforeUpdate=="function";pe||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(L!==f||G!==Q)&&Bu(r,x,f,Q),Cn=!1;var fe=r.memoizedState;x.state=fe,jr(r,f,x,g),G=r.memoizedState,L!==f||fe!==G||_t.current||Cn?(typeof de=="function"&&(Os(r,u,de,f),G=r.memoizedState),(L=Cn||Vu(r,u,L,f,fe,G,Q))?(pe||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(r.flags|=4194308)):(typeof x.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=f,r.memoizedState=G),x.props=f,x.state=G,x.context=Q,f=L):(typeof x.componentDidMount=="function"&&(r.flags|=4194308),f=!1)}else{x=r.stateNode,du(n,r),L=r.memoizedProps,Q=r.type===r.elementType?L:qt(r.type,L),x.props=Q,pe=r.pendingProps,fe=x.context,G=u.contextType,typeof G=="object"&&G!==null?G=Lt(G):(G=Ct(u)?Fn:ft.current,G=ao(r,G));var Ce=u.getDerivedStateFromProps;(de=typeof Ce=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(L!==pe||fe!==G)&&Bu(r,x,f,G),Cn=!1,fe=r.memoizedState,x.state=fe,jr(r,f,x,g);var we=r.memoizedState;L!==pe||fe!==we||_t.current||Cn?(typeof Ce=="function"&&(Os(r,u,Ce,f),we=r.memoizedState),(Q=Cn||Vu(r,u,Q,f,fe,we,G)||!1)?(de||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(f,we,G),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(f,we,G)),typeof x.componentDidUpdate=="function"&&(r.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof x.componentDidUpdate!="function"||L===n.memoizedProps&&fe===n.memoizedState||(r.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||L===n.memoizedProps&&fe===n.memoizedState||(r.flags|=1024),r.memoizedProps=f,r.memoizedState=we),x.props=f,x.state=we,x.context=G,f=Q):(typeof x.componentDidUpdate!="function"||L===n.memoizedProps&&fe===n.memoizedState||(r.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||L===n.memoizedProps&&fe===n.memoizedState||(r.flags|=1024),f=!1)}return Zs(n,r,u,f,v,g)}function Zs(n,r,u,f,g,v){Yu(n,r);var x=(r.flags&128)!==0;if(!f&&!x)return g&&tu(r,u,!1),ln(n,r,v);f=r.stateNode,yh.current=r;var L=x&&typeof u.getDerivedStateFromError!="function"?null:f.render();return r.flags|=1,n!==null&&x?(r.child=po(r,n.child,null,v),r.child=po(r,null,L,v)):yt(n,r,L,v),r.memoizedState=f.state,g&&tu(r,u,!0),r.child}function Qu(n){var r=n.stateNode;r.pendingContext?ja(n,r.pendingContext,r.pendingContext!==r.context):r.context&&ja(n,r.context,!1),Ds(n,r.containerInfo)}function Xu(n,r,u,f,g){return fo(),ks(g),r.flags|=256,yt(n,r,u,f),r.child}var Qs={dehydrated:null,treeContext:null,retryLane:0};function Xs(n){return{baseLanes:n,cachePool:null,transitions:null}}function ju(n,r,u){var f=r.pendingProps,g=Ze.current,v=!1,x=(r.flags&128)!==0,L;if((L=x)||(L=n!==null&&n.memoizedState===null?!1:(g&2)!==0),L?(v=!0,r.flags&=-129):(n===null||n.memoizedState!==null)&&(g|=1),$e(Ze,g&1),n===null)return Es(r),n=r.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((r.mode&1)===0?r.lanes=1:n.data==="$!"?r.lanes=8:r.lanes=1073741824,null):(x=f.children,n=f.fallback,v?(f=r.mode,v=r.child,x={mode:"hidden",children:x},(f&1)===0&&v!==null?(v.childLanes=0,v.pendingProps=x):v=Ci(x,f,0,null),n=On(n,f,u,null),v.return=r,n.return=r,v.sibling=n,r.child=v,r.child.memoizedState=Xs(u),r.memoizedState=Qs,n):js(r,x));if(g=n.memoizedState,g!==null&&(L=g.dehydrated,L!==null))return vh(n,r,x,f,L,g,u);if(v){v=f.fallback,x=r.mode,g=n.child,L=g.sibling;var G={mode:"hidden",children:f.children};return(x&1)===0&&r.child!==g?(f=r.child,f.childLanes=0,f.pendingProps=G,r.deletions=null):(f=In(g,G),f.subtreeFlags=g.subtreeFlags&14680064),L!==null?v=In(L,v):(v=On(v,x,u,null),v.flags|=2),v.return=r,f.return=r,f.sibling=v,r.child=f,f=v,v=r.child,x=n.child.memoizedState,x=x===null?Xs(u):{baseLanes:x.baseLanes|u,cachePool:null,transitions:x.transitions},v.memoizedState=x,v.childLanes=n.childLanes&~u,r.memoizedState=Qs,f}return v=n.child,n=v.sibling,f=In(v,{mode:"visible",children:f.children}),(r.mode&1)===0&&(f.lanes=u),f.return=r,f.sibling=null,n!==null&&(u=r.deletions,u===null?(r.deletions=[n],r.flags|=16):u.push(n)),r.child=f,r.memoizedState=null,f}function js(n,r){return r=Ci({mode:"visible",children:r},n.mode,0,null),r.return=n,n.child=r}function li(n,r,u,f){return f!==null&&ks(f),po(r,n.child,null,u),n=js(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function vh(n,r,u,f,g,v,x){if(u)return r.flags&256?(r.flags&=-257,f=Ws(Error(o(422))),li(n,r,x,f)):r.memoizedState!==null?(r.child=n.child,r.flags|=128,null):(v=f.fallback,g=r.mode,f=Ci({mode:"visible",children:f.children},g,0,null),v=On(v,g,x,null),v.flags|=2,f.return=r,v.return=r,f.sibling=v,r.child=f,(r.mode&1)!==0&&po(r,n.child,null,x),r.child.memoizedState=Xs(x),r.memoizedState=Qs,v);if((r.mode&1)===0)return li(n,r,x,null);if(g.data==="$!"){if(f=g.nextSibling&&g.nextSibling.dataset,f)var L=f.dgst;return f=L,v=Error(o(419)),f=Ws(v,f,void 0),li(n,r,x,f)}if(L=(x&n.childLanes)!==0,Tt||L){if(f=it,f!==null){switch(x&-x){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=(g&(f.suspendedLanes|x))!==0?0:g,g!==0&&g!==v.retryLane&&(v.retryLane=g,rn(n,g),Jt(f,n,g,-1))}return ml(),f=Ws(Error(o(421))),li(n,r,x,f)}return g.data==="$?"?(r.flags|=128,r.child=n.child,r=Ph.bind(null,n),g._reactRetry=r,null):(n=v.treeContext,Rt=gn(g.nextSibling),At=r,Ye=!0,Ht=null,n!==null&&(Nt[Dt++]=nn,Nt[Dt++]=on,Nt[Dt++]=Un,nn=n.id,on=n.overflow,Un=r),r=js(r,f.children),r.flags|=4096,r)}function ec(n,r,u){n.lanes|=r;var f=n.alternate;f!==null&&(f.lanes|=r),Ms(n.return,r,u)}function el(n,r,u,f,g){var v=n.memoizedState;v===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:f,tail:u,tailMode:g}:(v.isBackwards=r,v.rendering=null,v.renderingStartTime=0,v.last=f,v.tail=u,v.tailMode=g)}function tc(n,r,u){var f=r.pendingProps,g=f.revealOrder,v=f.tail;if(yt(n,r,f.children,u),f=Ze.current,(f&2)!==0)f=f&1|2,r.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&ec(n,u,r);else if(n.tag===19)ec(n,u,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break e;for(;n.sibling===null;){if(n.return===null||n.return===r)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}f&=1}if($e(Ze,f),(r.mode&1)===0)r.memoizedState=null;else switch(g){case"forwards":for(u=r.child,g=null;u!==null;)n=u.alternate,n!==null&&ei(n)===null&&(g=u),u=u.sibling;u=g,u===null?(g=r.child,r.child=null):(g=u.sibling,u.sibling=null),el(r,!1,g,u,v);break;case"backwards":for(u=null,g=r.child,r.child=null;g!==null;){if(n=g.alternate,n!==null&&ei(n)===null){r.child=g;break}n=g.sibling,g.sibling=u,u=g,g=n}el(r,!0,u,null,v);break;case"together":el(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function ai(n,r){(r.mode&1)===0&&n!==null&&(n.alternate=null,r.alternate=null,r.flags|=2)}function ln(n,r,u){if(n!==null&&(r.dependencies=n.dependencies),bn|=r.lanes,(u&r.childLanes)===0)return null;if(n!==null&&r.child!==n.child)throw Error(o(153));if(r.child!==null){for(n=r.child,u=In(n,n.pendingProps),r.child=u,u.return=r;n.sibling!==null;)n=n.sibling,u=u.sibling=In(n,n.pendingProps),u.return=r;u.sibling=null}return r.child}function _h(n,r,u){switch(r.tag){case 3:Qu(r),fo();break;case 5:mu(r);break;case 1:Ct(r.type)&&$r(r);break;case 4:Ds(r,r.stateNode.containerInfo);break;case 10:var f=r.type._context,g=r.memoizedProps.value;$e(Zr,f._currentValue),f._currentValue=g;break;case 13:if(f=r.memoizedState,f!==null)return f.dehydrated!==null?($e(Ze,Ze.current&1),r.flags|=128,null):(u&r.child.childLanes)!==0?ju(n,r,u):($e(Ze,Ze.current&1),n=ln(n,r,u),n!==null?n.sibling:null);$e(Ze,Ze.current&1);break;case 19:if(f=(u&r.childLanes)!==0,(n.flags&128)!==0){if(f)return tc(n,r,u);r.flags|=128}if(g=r.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),$e(Ze,Ze.current),f)break;return null;case 22:case 23:return r.lanes=0,Ku(n,r,u)}return ln(n,r,u)}var nc,tl,oc,rc;nc=function(n,r){for(var u=r.child;u!==null;){if(u.tag===5||u.tag===6)n.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===r)break;for(;u.sibling===null;){if(u.return===null||u.return===r)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},tl=function(){},oc=function(n,r,u,f){var g=n.memoizedProps;if(g!==f){n=r.stateNode,Bn(Yt.current);var v=null;switch(u){case"input":g=S(n,g),f=S(n,f),v=[];break;case"select":g=O({},g,{value:void 0}),f=O({},f,{value:void 0}),v=[];break;case"textarea":g=Y(n,g),f=Y(n,f),v=[];break;default:typeof g.onClick!="function"&&typeof f.onClick=="function"&&(n.onclick=br)}kt(u,f);var x;u=null;for(Q in g)if(!f.hasOwnProperty(Q)&&g.hasOwnProperty(Q)&&g[Q]!=null)if(Q==="style"){var L=g[Q];for(x in L)L.hasOwnProperty(x)&&(u||(u={}),u[x]="")}else Q!=="dangerouslySetInnerHTML"&&Q!=="children"&&Q!=="suppressContentEditableWarning"&&Q!=="suppressHydrationWarning"&&Q!=="autoFocus"&&(a.hasOwnProperty(Q)?v||(v=[]):(v=v||[]).push(Q,null));for(Q in f){var G=f[Q];if(L=g?.[Q],f.hasOwnProperty(Q)&&G!==L&&(G!=null||L!=null))if(Q==="style")if(L){for(x in L)!L.hasOwnProperty(x)||G&&G.hasOwnProperty(x)||(u||(u={}),u[x]="");for(x in G)G.hasOwnProperty(x)&&L[x]!==G[x]&&(u||(u={}),u[x]=G[x])}else u||(v||(v=[]),v.push(Q,u)),u=G;else Q==="dangerouslySetInnerHTML"?(G=G?G.__html:void 0,L=L?L.__html:void 0,G!=null&&L!==G&&(v=v||[]).push(Q,G)):Q==="children"?typeof G!="string"&&typeof G!="number"||(v=v||[]).push(Q,""+G):Q!=="suppressContentEditableWarning"&&Q!=="suppressHydrationWarning"&&(a.hasOwnProperty(Q)?(G!=null&&Q==="onScroll"&&Oe("scroll",n),v||L===G||(v=[])):(v=v||[]).push(Q,G))}u&&(v=v||[]).push("style",u);var Q=v;(r.updateQueue=Q)&&(r.flags|=4)}},rc=function(n,r,u,f){u!==f&&(r.flags|=4)};function cr(n,r){if(!Ye)switch(n.tailMode){case"hidden":r=n.tail;for(var u=null;r!==null;)r.alternate!==null&&(u=r),r=r.sibling;u===null?n.tail=null:u.sibling=null;break;case"collapsed":u=n.tail;for(var f=null;u!==null;)u.alternate!==null&&(f=u),u=u.sibling;f===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:f.sibling=null}}function pt(n){var r=n.alternate!==null&&n.alternate.child===n.child,u=0,f=0;if(r)for(var g=n.child;g!==null;)u|=g.lanes|g.childLanes,f|=g.subtreeFlags&14680064,f|=g.flags&14680064,g.return=n,g=g.sibling;else for(g=n.child;g!==null;)u|=g.lanes|g.childLanes,f|=g.subtreeFlags,f|=g.flags,g.return=n,g=g.sibling;return n.subtreeFlags|=f,n.childLanes=u,r}function Ch(n,r,u){var f=r.pendingProps;switch(ws(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pt(r),null;case 1:return Ct(r.type)&&qr(),pt(r),null;case 3:return f=r.stateNode,go(),Je(_t),Je(ft),Us(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(n===null||n.child===null)&&(Kr(r)?r.flags|=4:n===null||n.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Ht!==null&&(dl(Ht),Ht=null))),tl(n,r),pt(r),null;case 5:Ls(r);var g=Bn(ir.current);if(u=r.type,n!==null&&r.stateNode!=null)oc(n,r,u,f,g),n.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!f){if(r.stateNode===null)throw Error(o(166));return pt(r),null}if(n=Bn(Yt.current),Kr(r)){f=r.stateNode,u=r.type;var v=r.memoizedProps;switch(f[Kt]=r,f[er]=v,n=(r.mode&1)!==0,u){case"dialog":Oe("cancel",f),Oe("close",f);break;case"iframe":case"object":case"embed":Oe("load",f);break;case"video":case"audio":for(g=0;g<Qo.length;g++)Oe(Qo[g],f);break;case"source":Oe("error",f);break;case"img":case"image":case"link":Oe("error",f),Oe("load",f);break;case"details":Oe("toggle",f);break;case"input":se(f,v),Oe("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!v.multiple},Oe("invalid",f);break;case"textarea":ge(f,v),Oe("invalid",f)}kt(u,v),g=null;for(var x in v)if(v.hasOwnProperty(x)){var L=v[x];x==="children"?typeof L=="string"?f.textContent!==L&&(v.suppressHydrationWarning!==!0&&Gr(f.textContent,L,n),g=["children",L]):typeof L=="number"&&f.textContent!==""+L&&(v.suppressHydrationWarning!==!0&&Gr(f.textContent,L,n),g=["children",""+L]):a.hasOwnProperty(x)&&L!=null&&x==="onScroll"&&Oe("scroll",f)}switch(u){case"input":qe(f),N(f,v,!0);break;case"textarea":qe(f),ve(f);break;case"select":case"option":break;default:typeof v.onClick=="function"&&(f.onclick=br)}f=g,r.updateQueue=f,f!==null&&(r.flags|=4)}else{x=g.nodeType===9?g:g.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=Re(u)),n==="http://www.w3.org/1999/xhtml"?u==="script"?(n=x.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof f.is=="string"?n=x.createElement(u,{is:f.is}):(n=x.createElement(u),u==="select"&&(x=n,f.multiple?x.multiple=!0:f.size&&(x.size=f.size))):n=x.createElementNS(n,u),n[Kt]=r,n[er]=f,nc(n,r,!1,!1),r.stateNode=n;e:{switch(x=Xn(u,f),u){case"dialog":Oe("cancel",n),Oe("close",n),g=f;break;case"iframe":case"object":case"embed":Oe("load",n),g=f;break;case"video":case"audio":for(g=0;g<Qo.length;g++)Oe(Qo[g],n);g=f;break;case"source":Oe("error",n),g=f;break;case"img":case"image":case"link":Oe("error",n),Oe("load",n),g=f;break;case"details":Oe("toggle",n),g=f;break;case"input":se(n,f),g=S(n,f),Oe("invalid",n);break;case"option":g=f;break;case"select":n._wrapperState={wasMultiple:!!f.multiple},g=O({},f,{value:void 0}),Oe("invalid",n);break;case"textarea":ge(n,f),g=Y(n,f),Oe("invalid",n);break;default:g=f}kt(u,g),L=g;for(v in L)if(L.hasOwnProperty(v)){var G=L[v];v==="style"?Pn(n,G):v==="dangerouslySetInnerHTML"?(G=G?G.__html:void 0,G!=null&&gt(n,G)):v==="children"?typeof G=="string"?(u!=="textarea"||G!=="")&&Bt(n,G):typeof G=="number"&&Bt(n,""+G):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(a.hasOwnProperty(v)?G!=null&&v==="onScroll"&&Oe("scroll",n):G!=null&&D(n,v,G,x))}switch(u){case"input":qe(n),N(n,f,!1);break;case"textarea":qe(n),ve(n);break;case"option":f.value!=null&&n.setAttribute("value",""+_e(f.value));break;case"select":n.multiple=!!f.multiple,v=f.value,v!=null?ce(n,!!f.multiple,v,!1):f.defaultValue!=null&&ce(n,!!f.multiple,f.defaultValue,!0);break;default:typeof g.onClick=="function"&&(n.onclick=br)}switch(u){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return pt(r),null;case 6:if(n&&r.stateNode!=null)rc(n,r,n.memoizedProps,f);else{if(typeof f!="string"&&r.stateNode===null)throw Error(o(166));if(u=Bn(ir.current),Bn(Yt.current),Kr(r)){if(f=r.stateNode,u=r.memoizedProps,f[Kt]=r,(v=f.nodeValue!==u)&&(n=At,n!==null))switch(n.tag){case 3:Gr(f.nodeValue,u,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Gr(f.nodeValue,u,(n.mode&1)!==0)}v&&(r.flags|=4)}else f=(u.nodeType===9?u:u.ownerDocument).createTextNode(f),f[Kt]=r,r.stateNode=f}return pt(r),null;case 13:if(Je(Ze),f=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Ye&&Rt!==null&&(r.mode&1)!==0&&(r.flags&128)===0)lu(),fo(),r.flags|=98560,v=!1;else if(v=Kr(r),f!==null&&f.dehydrated!==null){if(n===null){if(!v)throw Error(o(318));if(v=r.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(o(317));v[Kt]=r}else fo(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;pt(r),v=!1}else Ht!==null&&(dl(Ht),Ht=null),v=!0;if(!v)return r.flags&65536?r:null}return(r.flags&128)!==0?(r.lanes=u,r):(f=f!==null,f!==(n!==null&&n.memoizedState!==null)&&f&&(r.child.flags|=8192,(r.mode&1)!==0&&(n===null||(Ze.current&1)!==0?ot===0&&(ot=3):ml())),r.updateQueue!==null&&(r.flags|=4),pt(r),null);case 4:return go(),tl(n,r),n===null&&Xo(r.stateNode.containerInfo),pt(r),null;case 10:return Rs(r.type._context),pt(r),null;case 17:return Ct(r.type)&&qr(),pt(r),null;case 19:if(Je(Ze),v=r.memoizedState,v===null)return pt(r),null;if(f=(r.flags&128)!==0,x=v.rendering,x===null)if(f)cr(v,!1);else{if(ot!==0||n!==null&&(n.flags&128)!==0)for(n=r.child;n!==null;){if(x=ei(n),x!==null){for(r.flags|=128,cr(v,!1),f=x.updateQueue,f!==null&&(r.updateQueue=f,r.flags|=4),r.subtreeFlags=0,f=u,u=r.child;u!==null;)v=u,n=f,v.flags&=14680066,x=v.alternate,x===null?(v.childLanes=0,v.lanes=n,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=x.childLanes,v.lanes=x.lanes,v.child=x.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=x.memoizedProps,v.memoizedState=x.memoizedState,v.updateQueue=x.updateQueue,v.type=x.type,n=x.dependencies,v.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),u=u.sibling;return $e(Ze,Ze.current&1|2),r.child}n=n.sibling}v.tail!==null&&je()>Co&&(r.flags|=128,f=!0,cr(v,!1),r.lanes=4194304)}else{if(!f)if(n=ei(x),n!==null){if(r.flags|=128,f=!0,u=n.updateQueue,u!==null&&(r.updateQueue=u,r.flags|=4),cr(v,!0),v.tail===null&&v.tailMode==="hidden"&&!x.alternate&&!Ye)return pt(r),null}else 2*je()-v.renderingStartTime>Co&&u!==1073741824&&(r.flags|=128,f=!0,cr(v,!1),r.lanes=4194304);v.isBackwards?(x.sibling=r.child,r.child=x):(u=v.last,u!==null?u.sibling=x:r.child=x,v.last=x)}return v.tail!==null?(r=v.tail,v.rendering=r,v.tail=r.sibling,v.renderingStartTime=je(),r.sibling=null,u=Ze.current,$e(Ze,f?u&1|2:u&1),r):(pt(r),null);case 22:case 23:return hl(),f=r.memoizedState!==null,n!==null&&n.memoizedState!==null!==f&&(r.flags|=8192),f&&(r.mode&1)!==0?(Mt&1073741824)!==0&&(pt(r),r.subtreeFlags&6&&(r.flags|=8192)):pt(r),null;case 24:return null;case 25:return null}throw Error(o(156,r.tag))}function Th(n,r){switch(ws(r),r.tag){case 1:return Ct(r.type)&&qr(),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return go(),Je(_t),Je(ft),Us(),n=r.flags,(n&65536)!==0&&(n&128)===0?(r.flags=n&-65537|128,r):null;case 5:return Ls(r),null;case 13:if(Je(Ze),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(o(340));fo()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return Je(Ze),null;case 4:return go(),null;case 10:return Rs(r.type._context),null;case 22:case 23:return hl(),null;case 24:return null;default:return null}}var ui=!1,ht=!1,Sh=typeof WeakSet=="function"?WeakSet:Set,Se=null;function vo(n,r){var u=n.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(f){Xe(n,r,f)}else u.current=null}function nl(n,r,u){try{u()}catch(f){Xe(n,r,f)}}var ic=!1;function wh(n,r){if(hs=Rr,n=Va(),ss(n)){if("selectionStart"in n)var u={start:n.selectionStart,end:n.selectionEnd};else e:{u=(u=n.ownerDocument)&&u.defaultView||window;var f=u.getSelection&&u.getSelection();if(f&&f.rangeCount!==0){u=f.anchorNode;var g=f.anchorOffset,v=f.focusNode;f=f.focusOffset;try{u.nodeType,v.nodeType}catch{u=null;break e}var x=0,L=-1,G=-1,Q=0,de=0,pe=n,fe=null;t:for(;;){for(var Ce;pe!==u||g!==0&&pe.nodeType!==3||(L=x+g),pe!==v||f!==0&&pe.nodeType!==3||(G=x+f),pe.nodeType===3&&(x+=pe.nodeValue.length),(Ce=pe.firstChild)!==null;)fe=pe,pe=Ce;for(;;){if(pe===n)break t;if(fe===u&&++Q===g&&(L=x),fe===v&&++de===f&&(G=x),(Ce=pe.nextSibling)!==null)break;pe=fe,fe=pe.parentNode}pe=Ce}u=L===-1||G===-1?null:{start:L,end:G}}else u=null}u=u||{start:0,end:0}}else u=null;for(ms={focusedElem:n,selectionRange:u},Rr=!1,Se=r;Se!==null;)if(r=Se,n=r.child,(r.subtreeFlags&1028)!==0&&n!==null)n.return=r,Se=n;else for(;Se!==null;){r=Se;try{var we=r.alternate;if((r.flags&1024)!==0)switch(r.tag){case 0:case 11:case 15:break;case 1:if(we!==null){var xe=we.memoizedProps,et=we.memoizedState,W=r.stateNode,b=W.getSnapshotBeforeUpdate(r.elementType===r.type?xe:qt(r.type,xe),et);W.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var K=r.stateNode.containerInfo;K.nodeType===1?K.textContent="":K.nodeType===9&&K.documentElement&&K.removeChild(K.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(ye){Xe(r,r.return,ye)}if(n=r.sibling,n!==null){n.return=r.return,Se=n;break}Se=r.return}return we=ic,ic=!1,we}function fr(n,r,u){var f=r.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var g=f=f.next;do{if((g.tag&n)===n){var v=g.destroy;g.destroy=void 0,v!==void 0&&nl(r,u,v)}g=g.next}while(g!==f)}}function ci(n,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var u=r=r.next;do{if((u.tag&n)===n){var f=u.create;u.destroy=f()}u=u.next}while(u!==r)}}function ol(n){var r=n.ref;if(r!==null){var u=n.stateNode;switch(n.tag){case 5:n=u;break;default:n=u}typeof r=="function"?r(n):r.current=n}}function sc(n){var r=n.alternate;r!==null&&(n.alternate=null,sc(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&(delete r[Kt],delete r[er],delete r[_s],delete r[ih],delete r[sh])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function lc(n){return n.tag===5||n.tag===3||n.tag===4}function ac(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||lc(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function rl(n,r,u){var f=n.tag;if(f===5||f===6)n=n.stateNode,r?u.nodeType===8?u.parentNode.insertBefore(n,r):u.insertBefore(n,r):(u.nodeType===8?(r=u.parentNode,r.insertBefore(n,u)):(r=u,r.appendChild(n)),u=u._reactRootContainer,u!=null||r.onclick!==null||(r.onclick=br));else if(f!==4&&(n=n.child,n!==null))for(rl(n,r,u),n=n.sibling;n!==null;)rl(n,r,u),n=n.sibling}function il(n,r,u){var f=n.tag;if(f===5||f===6)n=n.stateNode,r?u.insertBefore(n,r):u.appendChild(n);else if(f!==4&&(n=n.child,n!==null))for(il(n,r,u),n=n.sibling;n!==null;)il(n,r,u),n=n.sibling}var lt=null,$t=!1;function Sn(n,r,u){for(u=u.child;u!==null;)uc(n,r,u),u=u.sibling}function uc(n,r,u){if(Wt&&typeof Wt.onCommitFiberUnmount=="function")try{Wt.onCommitFiberUnmount(wr,u)}catch{}switch(u.tag){case 5:ht||vo(u,r);case 6:var f=lt,g=$t;lt=null,Sn(n,r,u),lt=f,$t=g,lt!==null&&($t?(n=lt,u=u.stateNode,n.nodeType===8?n.parentNode.removeChild(u):n.removeChild(u)):lt.removeChild(u.stateNode));break;case 18:lt!==null&&($t?(n=lt,u=u.stateNode,n.nodeType===8?vs(n.parentNode,u):n.nodeType===1&&vs(n,u),qo(n)):vs(lt,u.stateNode));break;case 4:f=lt,g=$t,lt=u.stateNode.containerInfo,$t=!0,Sn(n,r,u),lt=f,$t=g;break;case 0:case 11:case 14:case 15:if(!ht&&(f=u.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){g=f=f.next;do{var v=g,x=v.destroy;v=v.tag,x!==void 0&&((v&2)!==0||(v&4)!==0)&&nl(u,r,x),g=g.next}while(g!==f)}Sn(n,r,u);break;case 1:if(!ht&&(vo(u,r),f=u.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=u.memoizedProps,f.state=u.memoizedState,f.componentWillUnmount()}catch(L){Xe(u,r,L)}Sn(n,r,u);break;case 21:Sn(n,r,u);break;case 22:u.mode&1?(ht=(f=ht)||u.memoizedState!==null,Sn(n,r,u),ht=f):Sn(n,r,u);break;default:Sn(n,r,u)}}function cc(n){var r=n.updateQueue;if(r!==null){n.updateQueue=null;var u=n.stateNode;u===null&&(u=n.stateNode=new Sh),r.forEach(function(f){var g=Nh.bind(null,n,f);u.has(f)||(u.add(f),f.then(g,g))})}}function Ot(n,r){var u=r.deletions;if(u!==null)for(var f=0;f<u.length;f++){var g=u[f];try{var v=n,x=r,L=x;e:for(;L!==null;){switch(L.tag){case 5:lt=L.stateNode,$t=!1;break e;case 3:lt=L.stateNode.containerInfo,$t=!0;break e;case 4:lt=L.stateNode.containerInfo,$t=!0;break e}L=L.return}if(lt===null)throw Error(o(160));uc(v,x,g),lt=null,$t=!1;var G=g.alternate;G!==null&&(G.return=null),g.return=null}catch(Q){Xe(g,r,Q)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)fc(r,n),r=r.sibling}function fc(n,r){var u=n.alternate,f=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Ot(r,n),Qt(n),f&4){try{fr(3,n,n.return),ci(3,n)}catch(xe){Xe(n,n.return,xe)}try{fr(5,n,n.return)}catch(xe){Xe(n,n.return,xe)}}break;case 1:Ot(r,n),Qt(n),f&512&&u!==null&&vo(u,u.return);break;case 5:if(Ot(r,n),Qt(n),f&512&&u!==null&&vo(u,u.return),n.flags&32){var g=n.stateNode;try{Bt(g,"")}catch(xe){Xe(n,n.return,xe)}}if(f&4&&(g=n.stateNode,g!=null)){var v=n.memoizedProps,x=u!==null?u.memoizedProps:v,L=n.type,G=n.updateQueue;if(n.updateQueue=null,G!==null)try{L==="input"&&v.type==="radio"&&v.name!=null&&te(g,v),Xn(L,x);var Q=Xn(L,v);for(x=0;x<G.length;x+=2){var de=G[x],pe=G[x+1];de==="style"?Pn(g,pe):de==="dangerouslySetInnerHTML"?gt(g,pe):de==="children"?Bt(g,pe):D(g,de,pe,Q)}switch(L){case"input":F(g,v);break;case"textarea":Te(g,v);break;case"select":var fe=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!v.multiple;var Ce=v.value;Ce!=null?ce(g,!!v.multiple,Ce,!1):fe!==!!v.multiple&&(v.defaultValue!=null?ce(g,!!v.multiple,v.defaultValue,!0):ce(g,!!v.multiple,v.multiple?[]:"",!1))}g[er]=v}catch(xe){Xe(n,n.return,xe)}}break;case 6:if(Ot(r,n),Qt(n),f&4){if(n.stateNode===null)throw Error(o(162));g=n.stateNode,v=n.memoizedProps;try{g.nodeValue=v}catch(xe){Xe(n,n.return,xe)}}break;case 3:if(Ot(r,n),Qt(n),f&4&&u!==null&&u.memoizedState.isDehydrated)try{qo(r.containerInfo)}catch(xe){Xe(n,n.return,xe)}break;case 4:Ot(r,n),Qt(n);break;case 13:Ot(r,n),Qt(n),g=n.child,g.flags&8192&&(v=g.memoizedState!==null,g.stateNode.isHidden=v,!v||g.alternate!==null&&g.alternate.memoizedState!==null||(al=je())),f&4&&cc(n);break;case 22:if(de=u!==null&&u.memoizedState!==null,n.mode&1?(ht=(Q=ht)||de,Ot(r,n),ht=Q):Ot(r,n),Qt(n),f&8192){if(Q=n.memoizedState!==null,(n.stateNode.isHidden=Q)&&!de&&(n.mode&1)!==0)for(Se=n,de=n.child;de!==null;){for(pe=Se=de;Se!==null;){switch(fe=Se,Ce=fe.child,fe.tag){case 0:case 11:case 14:case 15:fr(4,fe,fe.return);break;case 1:vo(fe,fe.return);var we=fe.stateNode;if(typeof we.componentWillUnmount=="function"){f=fe,u=fe.return;try{r=f,we.props=r.memoizedProps,we.state=r.memoizedState,we.componentWillUnmount()}catch(xe){Xe(f,u,xe)}}break;case 5:vo(fe,fe.return);break;case 22:if(fe.memoizedState!==null){hc(pe);continue}}Ce!==null?(Ce.return=fe,Se=Ce):hc(pe)}de=de.sibling}e:for(de=null,pe=n;;){if(pe.tag===5){if(de===null){de=pe;try{g=pe.stateNode,Q?(v=g.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none"):(L=pe.stateNode,G=pe.memoizedProps.style,x=G!=null&&G.hasOwnProperty("display")?G.display:null,L.style.display=Ke("display",x))}catch(xe){Xe(n,n.return,xe)}}}else if(pe.tag===6){if(de===null)try{pe.stateNode.nodeValue=Q?"":pe.memoizedProps}catch(xe){Xe(n,n.return,xe)}}else if((pe.tag!==22&&pe.tag!==23||pe.memoizedState===null||pe===n)&&pe.child!==null){pe.child.return=pe,pe=pe.child;continue}if(pe===n)break e;for(;pe.sibling===null;){if(pe.return===null||pe.return===n)break e;de===pe&&(de=null),pe=pe.return}de===pe&&(de=null),pe.sibling.return=pe.return,pe=pe.sibling}}break;case 19:Ot(r,n),Qt(n),f&4&&cc(n);break;case 21:break;default:Ot(r,n),Qt(n)}}function Qt(n){var r=n.flags;if(r&2){try{e:{for(var u=n.return;u!==null;){if(lc(u)){var f=u;break e}u=u.return}throw Error(o(160))}switch(f.tag){case 5:var g=f.stateNode;f.flags&32&&(Bt(g,""),f.flags&=-33);var v=ac(n);il(n,v,g);break;case 3:case 4:var x=f.stateNode.containerInfo,L=ac(n);rl(n,L,x);break;default:throw Error(o(161))}}catch(G){Xe(n,n.return,G)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function xh(n,r,u){Se=n,dc(n)}function dc(n,r,u){for(var f=(n.mode&1)!==0;Se!==null;){var g=Se,v=g.child;if(g.tag===22&&f){var x=g.memoizedState!==null||ui;if(!x){var L=g.alternate,G=L!==null&&L.memoizedState!==null||ht;L=ui;var Q=ht;if(ui=x,(ht=G)&&!Q)for(Se=g;Se!==null;)x=Se,G=x.child,x.tag===22&&x.memoizedState!==null?mc(g):G!==null?(G.return=x,Se=G):mc(g);for(;v!==null;)Se=v,dc(v),v=v.sibling;Se=g,ui=L,ht=Q}pc(n)}else(g.subtreeFlags&8772)!==0&&v!==null?(v.return=g,Se=v):pc(n)}}function pc(n){for(;Se!==null;){var r=Se;if((r.flags&8772)!==0){var u=r.alternate;try{if((r.flags&8772)!==0)switch(r.tag){case 0:case 11:case 15:ht||ci(5,r);break;case 1:var f=r.stateNode;if(r.flags&4&&!ht)if(u===null)f.componentDidMount();else{var g=r.elementType===r.type?u.memoizedProps:qt(r.type,u.memoizedProps);f.componentDidUpdate(g,u.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var v=r.updateQueue;v!==null&&hu(r,v,f);break;case 3:var x=r.updateQueue;if(x!==null){if(u=null,r.child!==null)switch(r.child.tag){case 5:u=r.child.stateNode;break;case 1:u=r.child.stateNode}hu(r,x,u)}break;case 5:var L=r.stateNode;if(u===null&&r.flags&4){u=L;var G=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":G.autoFocus&&u.focus();break;case"img":G.src&&(u.src=G.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var Q=r.alternate;if(Q!==null){var de=Q.memoizedState;if(de!==null){var pe=de.dehydrated;pe!==null&&qo(pe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(o(163))}ht||r.flags&512&&ol(r)}catch(fe){Xe(r,r.return,fe)}}if(r===n){Se=null;break}if(u=r.sibling,u!==null){u.return=r.return,Se=u;break}Se=r.return}}function hc(n){for(;Se!==null;){var r=Se;if(r===n){Se=null;break}var u=r.sibling;if(u!==null){u.return=r.return,Se=u;break}Se=r.return}}function mc(n){for(;Se!==null;){var r=Se;try{switch(r.tag){case 0:case 11:case 15:var u=r.return;try{ci(4,r)}catch(G){Xe(r,u,G)}break;case 1:var f=r.stateNode;if(typeof f.componentDidMount=="function"){var g=r.return;try{f.componentDidMount()}catch(G){Xe(r,g,G)}}var v=r.return;try{ol(r)}catch(G){Xe(r,v,G)}break;case 5:var x=r.return;try{ol(r)}catch(G){Xe(r,x,G)}}}catch(G){Xe(r,r.return,G)}if(r===n){Se=null;break}var L=r.sibling;if(L!==null){L.return=r.return,Se=L;break}Se=r.return}}var Eh=Math.ceil,fi=V.ReactCurrentDispatcher,sl=V.ReactCurrentOwner,Ut=V.ReactCurrentBatchConfig,Ve=0,it=null,tt=null,at=0,Mt=0,_o=yn(0),ot=0,dr=null,bn=0,di=0,ll=0,pr=null,St=null,al=0,Co=1/0,an=null,pi=!1,ul=null,wn=null,hi=!1,xn=null,mi=0,hr=0,cl=null,gi=-1,yi=0;function vt(){return(Ve&6)!==0?je():gi!==-1?gi:gi=je()}function En(n){return(n.mode&1)===0?1:(Ve&2)!==0&&at!==0?at&-at:ah.transition!==null?(yi===0&&(yi=aa()),yi):(n=be,n!==0||(n=window.event,n=n===void 0?16:ya(n.type)),n)}function Jt(n,r,u,f){if(50<hr)throw hr=0,cl=null,Error(o(185));zo(n,u,f),((Ve&2)===0||n!==it)&&(n===it&&((Ve&2)===0&&(di|=u),ot===4&&kn(n,at)),wt(n,f),u===1&&Ve===0&&(r.mode&1)===0&&(Co=je()+500,Or&&_n()))}function wt(n,r){var u=n.callbackNode;ap(n,r);var f=kr(n,n===it?at:0);if(f===0)u!==null&&ia(u),n.callbackNode=null,n.callbackPriority=0;else if(r=f&-f,n.callbackPriority!==r){if(u!=null&&ia(u),r===1)n.tag===0?lh(yc.bind(null,n)):nu(yc.bind(null,n)),oh(function(){(Ve&6)===0&&_n()}),u=null;else{switch(ua(f)){case 1:u=qi;break;case 4:u=sa;break;case 16:u=Sr;break;case 536870912:u=la;break;default:u=Sr}u=Ec(u,gc.bind(null,n))}n.callbackPriority=r,n.callbackNode=u}}function gc(n,r){if(gi=-1,yi=0,(Ve&6)!==0)throw Error(o(327));var u=n.callbackNode;if(To()&&n.callbackNode!==u)return null;var f=kr(n,n===it?at:0);if(f===0)return null;if((f&30)!==0||(f&n.expiredLanes)!==0||r)r=vi(n,f);else{r=f;var g=Ve;Ve|=2;var v=_c();(it!==n||at!==r)&&(an=null,Co=je()+500,qn(n,r));do try{Ah();break}catch(L){vc(n,L)}while(!0);As(),fi.current=v,Ve=g,tt!==null?r=0:(it=null,at=0,r=ot)}if(r!==0){if(r===2&&(g=$i(n),g!==0&&(f=g,r=fl(n,g))),r===1)throw u=dr,qn(n,0),kn(n,f),wt(n,je()),u;if(r===6)kn(n,f);else{if(g=n.current.alternate,(f&30)===0&&!kh(g)&&(r=vi(n,f),r===2&&(v=$i(n),v!==0&&(f=v,r=fl(n,v))),r===1))throw u=dr,qn(n,0),kn(n,f),wt(n,je()),u;switch(n.finishedWork=g,n.finishedLanes=f,r){case 0:case 1:throw Error(o(345));case 2:$n(n,St,an);break;case 3:if(kn(n,f),(f&130023424)===f&&(r=al+500-je(),10<r)){if(kr(n,0)!==0)break;if(g=n.suspendedLanes,(g&f)!==f){vt(),n.pingedLanes|=n.suspendedLanes&g;break}n.timeoutHandle=ys($n.bind(null,n,St,an),r);break}$n(n,St,an);break;case 4:if(kn(n,f),(f&4194240)===f)break;for(r=n.eventTimes,g=-1;0<f;){var x=31-Gt(f);v=1<<x,x=r[x],x>g&&(g=x),f&=~v}if(f=g,f=je()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*Eh(f/1960))-f,10<f){n.timeoutHandle=ys($n.bind(null,n,St,an),f);break}$n(n,St,an);break;case 5:$n(n,St,an);break;default:throw Error(o(329))}}}return wt(n,je()),n.callbackNode===u?gc.bind(null,n):null}function fl(n,r){var u=pr;return n.current.memoizedState.isDehydrated&&(qn(n,r).flags|=256),n=vi(n,r),n!==2&&(r=St,St=u,r!==null&&dl(r)),n}function dl(n){St===null?St=n:St.push.apply(St,n)}function kh(n){for(var r=n;;){if(r.flags&16384){var u=r.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var f=0;f<u.length;f++){var g=u[f],v=g.getSnapshot;g=g.value;try{if(!bt(v(),g))return!1}catch{return!1}}}if(u=r.child,r.subtreeFlags&16384&&u!==null)u.return=r,r=u;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function kn(n,r){for(r&=~ll,r&=~di,n.suspendedLanes|=r,n.pingedLanes&=~r,n=n.expirationTimes;0<r;){var u=31-Gt(r),f=1<<u;n[u]=-1,r&=~f}}function yc(n){if((Ve&6)!==0)throw Error(o(327));To();var r=kr(n,0);if((r&1)===0)return wt(n,je()),null;var u=vi(n,r);if(n.tag!==0&&u===2){var f=$i(n);f!==0&&(r=f,u=fl(n,f))}if(u===1)throw u=dr,qn(n,0),kn(n,r),wt(n,je()),u;if(u===6)throw Error(o(345));return n.finishedWork=n.current.alternate,n.finishedLanes=r,$n(n,St,an),wt(n,je()),null}function pl(n,r){var u=Ve;Ve|=1;try{return n(r)}finally{Ve=u,Ve===0&&(Co=je()+500,Or&&_n())}}function Hn(n){xn!==null&&xn.tag===0&&(Ve&6)===0&&To();var r=Ve;Ve|=1;var u=Ut.transition,f=be;try{if(Ut.transition=null,be=1,n)return n()}finally{be=f,Ut.transition=u,Ve=r,(Ve&6)===0&&_n()}}function hl(){Mt=_o.current,Je(_o)}function qn(n,r){n.finishedWork=null,n.finishedLanes=0;var u=n.timeoutHandle;if(u!==-1&&(n.timeoutHandle=-1,nh(u)),tt!==null)for(u=tt.return;u!==null;){var f=u;switch(ws(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&qr();break;case 3:go(),Je(_t),Je(ft),Us();break;case 5:Ls(f);break;case 4:go();break;case 13:Je(Ze);break;case 19:Je(Ze);break;case 10:Rs(f.type._context);break;case 22:case 23:hl()}u=u.return}if(it=n,tt=n=In(n.current,null),at=Mt=r,ot=0,dr=null,ll=di=bn=0,St=pr=null,zn!==null){for(r=0;r<zn.length;r++)if(u=zn[r],f=u.interleaved,f!==null){u.interleaved=null;var g=f.next,v=u.pending;if(v!==null){var x=v.next;v.next=g,f.next=x}u.pending=f}zn=null}return n}function vc(n,r){do{var u=tt;try{if(As(),ti.current=ii,ni){for(var f=Qe.memoizedState;f!==null;){var g=f.queue;g!==null&&(g.pending=null),f=f.next}ni=!1}if(Gn=0,rt=nt=Qe=null,sr=!1,lr=0,sl.current=null,u===null||u.return===null){ot=1,dr=r,tt=null;break}e:{var v=n,x=u.return,L=u,G=r;if(r=at,L.flags|=32768,G!==null&&typeof G=="object"&&typeof G.then=="function"){var Q=G,de=L,pe=de.tag;if((de.mode&1)===0&&(pe===0||pe===11||pe===15)){var fe=de.alternate;fe?(de.updateQueue=fe.updateQueue,de.memoizedState=fe.memoizedState,de.lanes=fe.lanes):(de.updateQueue=null,de.memoizedState=null)}var Ce=qu(x);if(Ce!==null){Ce.flags&=-257,$u(Ce,x,L,v,r),Ce.mode&1&&Hu(v,Q,r),r=Ce,G=Q;var we=r.updateQueue;if(we===null){var xe=new Set;xe.add(G),r.updateQueue=xe}else we.add(G);break e}else{if((r&1)===0){Hu(v,Q,r),ml();break e}G=Error(o(426))}}else if(Ye&&L.mode&1){var et=qu(x);if(et!==null){(et.flags&65536)===0&&(et.flags|=256),$u(et,x,L,v,r),ks(yo(G,L));break e}}v=G=yo(G,L),ot!==4&&(ot=2),pr===null?pr=[v]:pr.push(v),v=x;do{switch(v.tag){case 3:v.flags|=65536,r&=-r,v.lanes|=r;var W=Gu(v,G,r);pu(v,W);break e;case 1:L=G;var b=v.type,K=v.stateNode;if((v.flags&128)===0&&(typeof b.getDerivedStateFromError=="function"||K!==null&&typeof K.componentDidCatch=="function"&&(wn===null||!wn.has(K)))){v.flags|=65536,r&=-r,v.lanes|=r;var ye=bu(v,L,r);pu(v,ye);break e}}v=v.return}while(v!==null)}Tc(u)}catch(Ee){r=Ee,tt===u&&u!==null&&(tt=u=u.return);continue}break}while(!0)}function _c(){var n=fi.current;return fi.current=ii,n===null?ii:n}function ml(){(ot===0||ot===3||ot===2)&&(ot=4),it===null||(bn&268435455)===0&&(di&268435455)===0||kn(it,at)}function vi(n,r){var u=Ve;Ve|=2;var f=_c();(it!==n||at!==r)&&(an=null,qn(n,r));do try{Ih();break}catch(g){vc(n,g)}while(!0);if(As(),Ve=u,fi.current=f,tt!==null)throw Error(o(261));return it=null,at=0,ot}function Ih(){for(;tt!==null;)Cc(tt)}function Ah(){for(;tt!==null&&!jd();)Cc(tt)}function Cc(n){var r=xc(n.alternate,n,Mt);n.memoizedProps=n.pendingProps,r===null?Tc(n):tt=r,sl.current=null}function Tc(n){var r=n;do{var u=r.alternate;if(n=r.return,(r.flags&32768)===0){if(u=Ch(u,r,Mt),u!==null){tt=u;return}}else{if(u=Th(u,r),u!==null){u.flags&=32767,tt=u;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{ot=6,tt=null;return}}if(r=r.sibling,r!==null){tt=r;return}tt=r=n}while(r!==null);ot===0&&(ot=5)}function $n(n,r,u){var f=be,g=Ut.transition;try{Ut.transition=null,be=1,Rh(n,r,u,f)}finally{Ut.transition=g,be=f}return null}function Rh(n,r,u,f){do To();while(xn!==null);if((Ve&6)!==0)throw Error(o(327));u=n.finishedWork;var g=n.finishedLanes;if(u===null)return null;if(n.finishedWork=null,n.finishedLanes=0,u===n.current)throw Error(o(177));n.callbackNode=null,n.callbackPriority=0;var v=u.lanes|u.childLanes;if(up(n,v),n===it&&(tt=it=null,at=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||hi||(hi=!0,Ec(Sr,function(){return To(),null})),v=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||v){v=Ut.transition,Ut.transition=null;var x=be;be=1;var L=Ve;Ve|=4,sl.current=null,wh(n,u),fc(u,n),Yp(ms),Rr=!!hs,ms=hs=null,n.current=u,xh(u),ep(),Ve=L,be=x,Ut.transition=v}else n.current=u;if(hi&&(hi=!1,xn=n,mi=g),v=n.pendingLanes,v===0&&(wn=null),op(u.stateNode),wt(n,je()),r!==null)for(f=n.onRecoverableError,u=0;u<r.length;u++)g=r[u],f(g.value,{componentStack:g.stack,digest:g.digest});if(pi)throw pi=!1,n=ul,ul=null,n;return(mi&1)!==0&&n.tag!==0&&To(),v=n.pendingLanes,(v&1)!==0?n===cl?hr++:(hr=0,cl=n):hr=0,_n(),null}function To(){if(xn!==null){var n=ua(mi),r=Ut.transition,u=be;try{if(Ut.transition=null,be=16>n?16:n,xn===null)var f=!1;else{if(n=xn,xn=null,mi=0,(Ve&6)!==0)throw Error(o(331));var g=Ve;for(Ve|=4,Se=n.current;Se!==null;){var v=Se,x=v.child;if((Se.flags&16)!==0){var L=v.deletions;if(L!==null){for(var G=0;G<L.length;G++){var Q=L[G];for(Se=Q;Se!==null;){var de=Se;switch(de.tag){case 0:case 11:case 15:fr(8,de,v)}var pe=de.child;if(pe!==null)pe.return=de,Se=pe;else for(;Se!==null;){de=Se;var fe=de.sibling,Ce=de.return;if(sc(de),de===Q){Se=null;break}if(fe!==null){fe.return=Ce,Se=fe;break}Se=Ce}}}var we=v.alternate;if(we!==null){var xe=we.child;if(xe!==null){we.child=null;do{var et=xe.sibling;xe.sibling=null,xe=et}while(xe!==null)}}Se=v}}if((v.subtreeFlags&2064)!==0&&x!==null)x.return=v,Se=x;else e:for(;Se!==null;){if(v=Se,(v.flags&2048)!==0)switch(v.tag){case 0:case 11:case 15:fr(9,v,v.return)}var W=v.sibling;if(W!==null){W.return=v.return,Se=W;break e}Se=v.return}}var b=n.current;for(Se=b;Se!==null;){x=Se;var K=x.child;if((x.subtreeFlags&2064)!==0&&K!==null)K.return=x,Se=K;else e:for(x=b;Se!==null;){if(L=Se,(L.flags&2048)!==0)try{switch(L.tag){case 0:case 11:case 15:ci(9,L)}}catch(Ee){Xe(L,L.return,Ee)}if(L===x){Se=null;break e}var ye=L.sibling;if(ye!==null){ye.return=L.return,Se=ye;break e}Se=L.return}}if(Ve=g,_n(),Wt&&typeof Wt.onPostCommitFiberRoot=="function")try{Wt.onPostCommitFiberRoot(wr,n)}catch{}f=!0}return f}finally{be=u,Ut.transition=r}}return!1}function Sc(n,r,u){r=yo(u,r),r=Gu(n,r,1),n=Tn(n,r,1),r=vt(),n!==null&&(zo(n,1,r),wt(n,r))}function Xe(n,r,u){if(n.tag===3)Sc(n,n,u);else for(;r!==null;){if(r.tag===3){Sc(r,n,u);break}else if(r.tag===1){var f=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(wn===null||!wn.has(f))){n=yo(u,n),n=bu(r,n,1),r=Tn(r,n,1),n=vt(),r!==null&&(zo(r,1,n),wt(r,n));break}}r=r.return}}function Mh(n,r,u){var f=n.pingCache;f!==null&&f.delete(r),r=vt(),n.pingedLanes|=n.suspendedLanes&u,it===n&&(at&u)===u&&(ot===4||ot===3&&(at&130023424)===at&&500>je()-al?qn(n,0):ll|=u),wt(n,r)}function wc(n,r){r===0&&((n.mode&1)===0?r=1:(r=Er,Er<<=1,(Er&130023424)===0&&(Er=4194304)));var u=vt();n=rn(n,r),n!==null&&(zo(n,r,u),wt(n,u))}function Ph(n){var r=n.memoizedState,u=0;r!==null&&(u=r.retryLane),wc(n,u)}function Nh(n,r){var u=0;switch(n.tag){case 13:var f=n.stateNode,g=n.memoizedState;g!==null&&(u=g.retryLane);break;case 19:f=n.stateNode;break;default:throw Error(o(314))}f!==null&&f.delete(r),wc(n,u)}var xc;xc=function(n,r,u){if(n!==null)if(n.memoizedProps!==r.pendingProps||_t.current)Tt=!0;else{if((n.lanes&u)===0&&(r.flags&128)===0)return Tt=!1,_h(n,r,u);Tt=(n.flags&131072)!==0}else Tt=!1,Ye&&(r.flags&1048576)!==0&&ou(r,Wr,r.index);switch(r.lanes=0,r.tag){case 2:var f=r.type;ai(n,r),n=r.pendingProps;var g=ao(r,ft.current);mo(r,u),g=Bs(null,r,f,n,g,u);var v=Gs();return r.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,Ct(f)?(v=!0,$r(r)):v=!1,r.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,Ns(r),g.updater=si,r.stateNode=g,g._reactInternals=r,Js(r,f,n,u),r=Zs(null,r,f,!0,v,u)):(r.tag=0,Ye&&v&&Ss(r),yt(null,r,g,u),r=r.child),r;case 16:f=r.elementType;e:{switch(ai(n,r),n=r.pendingProps,g=f._init,f=g(f._payload),r.type=f,g=r.tag=Lh(f),n=qt(f,n),g){case 0:r=Ys(null,r,f,n,u);break e;case 1:r=Zu(null,r,f,n,u);break e;case 11:r=Ou(null,r,f,n,u);break e;case 14:r=Ju(null,r,f,qt(f.type,n),u);break e}throw Error(o(306,f,""))}return r;case 0:return f=r.type,g=r.pendingProps,g=r.elementType===f?g:qt(f,g),Ys(n,r,f,g,u);case 1:return f=r.type,g=r.pendingProps,g=r.elementType===f?g:qt(f,g),Zu(n,r,f,g,u);case 3:e:{if(Qu(r),n===null)throw Error(o(387));f=r.pendingProps,v=r.memoizedState,g=v.element,du(n,r),jr(r,f,null,u);var x=r.memoizedState;if(f=x.element,v.isDehydrated)if(v={element:f,isDehydrated:!1,cache:x.cache,pendingSuspenseBoundaries:x.pendingSuspenseBoundaries,transitions:x.transitions},r.updateQueue.baseState=v,r.memoizedState=v,r.flags&256){g=yo(Error(o(423)),r),r=Xu(n,r,f,u,g);break e}else if(f!==g){g=yo(Error(o(424)),r),r=Xu(n,r,f,u,g);break e}else for(Rt=gn(r.stateNode.containerInfo.firstChild),At=r,Ye=!0,Ht=null,u=cu(r,null,f,u),r.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(fo(),f===g){r=ln(n,r,u);break e}yt(n,r,f,u)}r=r.child}return r;case 5:return mu(r),n===null&&Es(r),f=r.type,g=r.pendingProps,v=n!==null?n.memoizedProps:null,x=g.children,gs(f,g)?x=null:v!==null&&gs(f,v)&&(r.flags|=32),Yu(n,r),yt(n,r,x,u),r.child;case 6:return n===null&&Es(r),null;case 13:return ju(n,r,u);case 4:return Ds(r,r.stateNode.containerInfo),f=r.pendingProps,n===null?r.child=po(r,null,f,u):yt(n,r,f,u),r.child;case 11:return f=r.type,g=r.pendingProps,g=r.elementType===f?g:qt(f,g),Ou(n,r,f,g,u);case 7:return yt(n,r,r.pendingProps,u),r.child;case 8:return yt(n,r,r.pendingProps.children,u),r.child;case 12:return yt(n,r,r.pendingProps.children,u),r.child;case 10:e:{if(f=r.type._context,g=r.pendingProps,v=r.memoizedProps,x=g.value,$e(Zr,f._currentValue),f._currentValue=x,v!==null)if(bt(v.value,x)){if(v.children===g.children&&!_t.current){r=ln(n,r,u);break e}}else for(v=r.child,v!==null&&(v.return=r);v!==null;){var L=v.dependencies;if(L!==null){x=v.child;for(var G=L.firstContext;G!==null;){if(G.context===f){if(v.tag===1){G=sn(-1,u&-u),G.tag=2;var Q=v.updateQueue;if(Q!==null){Q=Q.shared;var de=Q.pending;de===null?G.next=G:(G.next=de.next,de.next=G),Q.pending=G}}v.lanes|=u,G=v.alternate,G!==null&&(G.lanes|=u),Ms(v.return,u,r),L.lanes|=u;break}G=G.next}}else if(v.tag===10)x=v.type===r.type?null:v.child;else if(v.tag===18){if(x=v.return,x===null)throw Error(o(341));x.lanes|=u,L=x.alternate,L!==null&&(L.lanes|=u),Ms(x,u,r),x=v.sibling}else x=v.child;if(x!==null)x.return=v;else for(x=v;x!==null;){if(x===r){x=null;break}if(v=x.sibling,v!==null){v.return=x.return,x=v;break}x=x.return}v=x}yt(n,r,g.children,u),r=r.child}return r;case 9:return g=r.type,f=r.pendingProps.children,mo(r,u),g=Lt(g),f=f(g),r.flags|=1,yt(n,r,f,u),r.child;case 14:return f=r.type,g=qt(f,r.pendingProps),g=qt(f.type,g),Ju(n,r,f,g,u);case 15:return Wu(n,r,r.type,r.pendingProps,u);case 17:return f=r.type,g=r.pendingProps,g=r.elementType===f?g:qt(f,g),ai(n,r),r.tag=1,Ct(f)?(n=!0,$r(r)):n=!1,mo(r,u),zu(r,f,g),Js(r,f,g,u),Zs(null,r,f,!0,n,u);case 19:return tc(n,r,u);case 22:return Ku(n,r,u)}throw Error(o(156,r.tag))};function Ec(n,r){return ra(n,r)}function Dh(n,r,u,f){this.tag=n,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vt(n,r,u,f){return new Dh(n,r,u,f)}function gl(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Lh(n){if(typeof n=="function")return gl(n)?1:0;if(n!=null){if(n=n.$$typeof,n===U)return 11;if(n===oe)return 14}return 2}function In(n,r){var u=n.alternate;return u===null?(u=Vt(n.tag,r,n.key,n.mode),u.elementType=n.elementType,u.type=n.type,u.stateNode=n.stateNode,u.alternate=n,n.alternate=u):(u.pendingProps=r,u.type=n.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=n.flags&14680064,u.childLanes=n.childLanes,u.lanes=n.lanes,u.child=n.child,u.memoizedProps=n.memoizedProps,u.memoizedState=n.memoizedState,u.updateQueue=n.updateQueue,r=n.dependencies,u.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},u.sibling=n.sibling,u.index=n.index,u.ref=n.ref,u}function _i(n,r,u,f,g,v){var x=2;if(f=n,typeof n=="function")gl(n)&&(x=1);else if(typeof n=="string")x=5;else e:switch(n){case $:return On(u.children,g,v,r);case ne:x=8,g|=8;break;case q:return n=Vt(12,u,r,g|2),n.elementType=q,n.lanes=v,n;case ee:return n=Vt(13,u,r,g),n.elementType=ee,n.lanes=v,n;case E:return n=Vt(19,u,r,g),n.elementType=E,n.lanes=v,n;case X:return Ci(u,g,v,r);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case re:x=10;break e;case me:x=9;break e;case U:x=11;break e;case oe:x=14;break e;case he:x=16,f=null;break e}throw Error(o(130,n==null?n:typeof n,""))}return r=Vt(x,u,r,g),r.elementType=n,r.type=f,r.lanes=v,r}function On(n,r,u,f){return n=Vt(7,n,f,r),n.lanes=u,n}function Ci(n,r,u,f){return n=Vt(22,n,f,r),n.elementType=X,n.lanes=u,n.stateNode={isHidden:!1},n}function yl(n,r,u){return n=Vt(6,n,null,r),n.lanes=u,n}function vl(n,r,u){return r=Vt(4,n.children!==null?n.children:[],n.key,r),r.lanes=u,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}function Fh(n,r,u,f,g){this.tag=r,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Oi(0),this.expirationTimes=Oi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Oi(0),this.identifierPrefix=f,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function _l(n,r,u,f,g,v,x,L,G){return n=new Fh(n,r,u,L,G),r===1?(r=1,v===!0&&(r|=8)):r=0,v=Vt(3,null,null,r),n.current=v,v.stateNode=n,v.memoizedState={element:f,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ns(v),n}function Uh(n,r,u){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:J,key:f==null?null:""+f,children:n,containerInfo:r,implementation:u}}function kc(n){if(!n)return vn;n=n._reactInternals;e:{if(Dn(n)!==n||n.tag!==1)throw Error(o(170));var r=n;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(Ct(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(o(171))}if(n.tag===1){var u=n.type;if(Ct(u))return eu(n,u,r)}return r}function Ic(n,r,u,f,g,v,x,L,G){return n=_l(u,f,!0,n,g,v,x,L,G),n.context=kc(null),u=n.current,f=vt(),g=En(u),v=sn(f,g),v.callback=r??null,Tn(u,v,g),n.current.lanes=g,zo(n,g,f),wt(n,f),n}function Ti(n,r,u,f){var g=r.current,v=vt(),x=En(g);return u=kc(u),r.context===null?r.context=u:r.pendingContext=u,r=sn(v,x),r.payload={element:n},f=f===void 0?null:f,f!==null&&(r.callback=f),n=Tn(g,r,x),n!==null&&(Jt(n,g,x,v),Xr(n,g,x)),x}function Si(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function Ac(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var u=n.retryLane;n.retryLane=u!==0&&u<r?u:r}}function Cl(n,r){Ac(n,r),(n=n.alternate)&&Ac(n,r)}function Vh(){return null}var Rc=typeof reportError=="function"?reportError:function(n){console.error(n)};function Tl(n){this._internalRoot=n}wi.prototype.render=Tl.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(o(409));Ti(n,r,null,null)},wi.prototype.unmount=Tl.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;Hn(function(){Ti(null,n,null,null)}),r[en]=null}};function wi(n){this._internalRoot=n}wi.prototype.unstable_scheduleHydration=function(n){if(n){var r=da();n={blockedOn:null,target:n,priority:r};for(var u=0;u<pn.length&&r!==0&&r<pn[u].priority;u++);pn.splice(u,0,n),u===0&&ma(n)}};function Sl(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function xi(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function Mc(){}function zh(n,r,u,f,g){if(g){if(typeof f=="function"){var v=f;f=function(){var Q=Si(x);v.call(Q)}}var x=Ic(r,f,n,0,null,!1,!1,"",Mc);return n._reactRootContainer=x,n[en]=x.current,Xo(n.nodeType===8?n.parentNode:n),Hn(),x}for(;g=n.lastChild;)n.removeChild(g);if(typeof f=="function"){var L=f;f=function(){var Q=Si(G);L.call(Q)}}var G=_l(n,0,!1,null,null,!1,!1,"",Mc);return n._reactRootContainer=G,n[en]=G.current,Xo(n.nodeType===8?n.parentNode:n),Hn(function(){Ti(r,G,u,f)}),G}function Ei(n,r,u,f,g){var v=u._reactRootContainer;if(v){var x=v;if(typeof g=="function"){var L=g;g=function(){var G=Si(x);L.call(G)}}Ti(r,x,n,g)}else x=zh(u,r,n,g,f);return Si(x)}ca=function(n){switch(n.tag){case 3:var r=n.stateNode;if(r.current.memoizedState.isDehydrated){var u=Vo(r.pendingLanes);u!==0&&(Ji(r,u|1),wt(r,je()),(Ve&6)===0&&(Co=je()+500,_n()))}break;case 13:Hn(function(){var f=rn(n,1);if(f!==null){var g=vt();Jt(f,n,1,g)}}),Cl(n,1)}},Wi=function(n){if(n.tag===13){var r=rn(n,134217728);if(r!==null){var u=vt();Jt(r,n,134217728,u)}Cl(n,134217728)}},fa=function(n){if(n.tag===13){var r=En(n),u=rn(n,r);if(u!==null){var f=vt();Jt(u,n,r,f)}Cl(n,r)}},da=function(){return be},pa=function(n,r){var u=be;try{return be=n,r()}finally{be=u}},Do=function(n,r,u){switch(r){case"input":if(F(n,u),r=u.name,u.type==="radio"&&r!=null){for(u=n;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<u.length;r++){var f=u[r];if(f!==n&&f.form===n.form){var g=Hr(f);if(!g)throw Error(o(90));Et(f),F(f,g)}}}break;case"textarea":Te(n,u);break;case"select":r=u.value,r!=null&&ce(n,!!u.multiple,r,!1)}},Ql=pl,Xl=Hn;var Bh={usingClientEntryPoint:!1,Events:[tr,so,Hr,Yl,Zl,pl]},mr={findFiberByHostInstance:Ln,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Gh={bundleType:mr.bundleType,version:mr.version,rendererPackageName:mr.rendererPackageName,rendererConfig:mr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:V.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=na(n),n===null?null:n.stateNode},findFiberByHostInstance:mr.findFiberByHostInstance||Vh,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ki=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ki.isDisabled&&ki.supportsFiber)try{wr=ki.inject(Gh),Wt=ki}catch{}}return xt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Bh,xt.createPortal=function(n,r){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Sl(r))throw Error(o(200));return Uh(n,r,null,u)},xt.createRoot=function(n,r){if(!Sl(n))throw Error(o(299));var u=!1,f="",g=Rc;return r!=null&&(r.unstable_strictMode===!0&&(u=!0),r.identifierPrefix!==void 0&&(f=r.identifierPrefix),r.onRecoverableError!==void 0&&(g=r.onRecoverableError)),r=_l(n,1,!1,null,null,u,!1,f,g),n[en]=r.current,Xo(n.nodeType===8?n.parentNode:n),new Tl(r)},xt.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(o(188)):(n=Object.keys(n).join(","),Error(o(268,n)));return n=na(r),n=n===null?null:n.stateNode,n},xt.flushSync=function(n){return Hn(n)},xt.hydrate=function(n,r,u){if(!xi(r))throw Error(o(200));return Ei(null,n,r,!0,u)},xt.hydrateRoot=function(n,r,u){if(!Sl(n))throw Error(o(405));var f=u!=null&&u.hydratedSources||null,g=!1,v="",x=Rc;if(u!=null&&(u.unstable_strictMode===!0&&(g=!0),u.identifierPrefix!==void 0&&(v=u.identifierPrefix),u.onRecoverableError!==void 0&&(x=u.onRecoverableError)),r=Ic(r,null,n,1,u??null,g,!1,v,x),n[en]=r.current,Xo(n),f)for(n=0;n<f.length;n++)u=f[n],g=u._getVersion,g=g(u._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[u,g]:r.mutableSourceEagerHydrationData.push(u,g);return new wi(r)},xt.render=function(n,r,u){if(!xi(r))throw Error(o(200));return Ei(null,n,r,!1,u)},xt.unmountComponentAtNode=function(n){if(!xi(n))throw Error(o(40));return n._reactRootContainer?(Hn(function(){Ei(null,null,n,!1,function(){n._reactRootContainer=null,n[en]=null})}),!0):!1},xt.unstable_batchedUpdates=pl,xt.unstable_renderSubtreeIntoContainer=function(n,r,u,f){if(!xi(u))throw Error(o(200));if(n==null||n._reactInternals===void 0)throw Error(o(38));return Ei(n,r,u,!1,f)},xt.version="18.3.1-next-f1338f8080-20240426",xt}var zc;function Kh(){if(zc)return El.exports;zc=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),El.exports=Wh(),El.exports}var Bc;function Yh(){if(Bc)return Ai;Bc=1;var t=Kh();return Ai.createRoot=t.createRoot,Ai.hydrateRoot=t.hydrateRoot,Ai}var Zh=Yh();const ud=Hl(Zh);function Ri(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Al={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var Gc;function Qh(){return Gc||(Gc=1,function(t,e){(function(o){t.exports=o()})(function(){return function o(i,a,c){function d(m,y){if(!a[m]){if(!i[m]){var _=typeof Ri=="function"&&Ri;if(!y&&_)return _(m,!0);if(p)return p(m,!0);var C=new Error("Cannot find module '"+m+"'");throw C.code="MODULE_NOT_FOUND",C}var T=a[m]={exports:{}};i[m][0].call(T.exports,function(R){var w=i[m][1][R];return d(w||R)},T,T.exports,o,i,a,c)}return a[m].exports}for(var p=typeof Ri=="function"&&Ri,h=0;h<c.length;h++)d(c[h]);return d}({1:[function(o,i,a){var c=o("./utils"),d=o("./support"),p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";a.encode=function(h){for(var m,y,_,C,T,R,w,A=[],I=0,M=h.length,D=M,V=c.getTypeOf(h)!=="string";I<h.length;)D=M-I,_=V?(m=h[I++],y=I<M?h[I++]:0,I<M?h[I++]:0):(m=h.charCodeAt(I++),y=I<M?h.charCodeAt(I++):0,I<M?h.charCodeAt(I++):0),C=m>>2,T=(3&m)<<4|y>>4,R=1<D?(15&y)<<2|_>>6:64,w=2<D?63&_:64,A.push(p.charAt(C)+p.charAt(T)+p.charAt(R)+p.charAt(w));return A.join("")},a.decode=function(h){var m,y,_,C,T,R,w=0,A=0,I="data:";if(h.substr(0,I.length)===I)throw new Error("Invalid base64 input, it looks like a data url.");var M,D=3*(h=h.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(h.charAt(h.length-1)===p.charAt(64)&&D--,h.charAt(h.length-2)===p.charAt(64)&&D--,D%1!=0)throw new Error("Invalid base64 input, bad content length.");for(M=d.uint8array?new Uint8Array(0|D):new Array(0|D);w<h.length;)m=p.indexOf(h.charAt(w++))<<2|(C=p.indexOf(h.charAt(w++)))>>4,y=(15&C)<<4|(T=p.indexOf(h.charAt(w++)))>>2,_=(3&T)<<6|(R=p.indexOf(h.charAt(w++))),M[A++]=m,T!==64&&(M[A++]=y),R!==64&&(M[A++]=_);return M}},{"./support":30,"./utils":32}],2:[function(o,i,a){var c=o("./external"),d=o("./stream/DataWorker"),p=o("./stream/Crc32Probe"),h=o("./stream/DataLengthProbe");function m(y,_,C,T,R){this.compressedSize=y,this.uncompressedSize=_,this.crc32=C,this.compression=T,this.compressedContent=R}m.prototype={getContentWorker:function(){var y=new d(c.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new h("data_length")),_=this;return y.on("end",function(){if(this.streamInfo.data_length!==_.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),y},getCompressedWorker:function(){return new d(c.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},m.createWorkerFrom=function(y,_,C){return y.pipe(new p).pipe(new h("uncompressedSize")).pipe(_.compressWorker(C)).pipe(new h("compressedSize")).withStreamInfo("compression",_)},i.exports=m},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(o,i,a){var c=o("./stream/GenericWorker");a.STORE={magic:"\0\0",compressWorker:function(){return new c("STORE compression")},uncompressWorker:function(){return new c("STORE decompression")}},a.DEFLATE=o("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(o,i,a){var c=o("./utils"),d=function(){for(var p,h=[],m=0;m<256;m++){p=m;for(var y=0;y<8;y++)p=1&p?3988292384^p>>>1:p>>>1;h[m]=p}return h}();i.exports=function(p,h){return p!==void 0&&p.length?c.getTypeOf(p)!=="string"?function(m,y,_,C){var T=d,R=C+_;m^=-1;for(var w=C;w<R;w++)m=m>>>8^T[255&(m^y[w])];return-1^m}(0|h,p,p.length,0):function(m,y,_,C){var T=d,R=C+_;m^=-1;for(var w=C;w<R;w++)m=m>>>8^T[255&(m^y.charCodeAt(w))];return-1^m}(0|h,p,p.length,0):0}},{"./utils":32}],5:[function(o,i,a){a.base64=!1,a.binary=!1,a.dir=!1,a.createFolders=!0,a.date=null,a.compression=null,a.compressionOptions=null,a.comment=null,a.unixPermissions=null,a.dosPermissions=null},{}],6:[function(o,i,a){var c=null;c=typeof Promise<"u"?Promise:o("lie"),i.exports={Promise:c}},{lie:37}],7:[function(o,i,a){var c=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",d=o("pako"),p=o("./utils"),h=o("./stream/GenericWorker"),m=c?"uint8array":"array";function y(_,C){h.call(this,"FlateWorker/"+_),this._pako=null,this._pakoAction=_,this._pakoOptions=C,this.meta={}}a.magic="\b\0",p.inherits(y,h),y.prototype.processChunk=function(_){this.meta=_.meta,this._pako===null&&this._createPako(),this._pako.push(p.transformTo(m,_.data),!1)},y.prototype.flush=function(){h.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},y.prototype.cleanUp=function(){h.prototype.cleanUp.call(this),this._pako=null},y.prototype._createPako=function(){this._pako=new d[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var _=this;this._pako.onData=function(C){_.push({data:C,meta:_.meta})}},a.compressWorker=function(_){return new y("Deflate",_)},a.uncompressWorker=function(){return new y("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(o,i,a){function c(T,R){var w,A="";for(w=0;w<R;w++)A+=String.fromCharCode(255&T),T>>>=8;return A}function d(T,R,w,A,I,M){var D,V,z=T.file,J=T.compression,$=M!==m.utf8encode,ne=p.transformTo("string",M(z.name)),q=p.transformTo("string",m.utf8encode(z.name)),re=z.comment,me=p.transformTo("string",M(re)),U=p.transformTo("string",m.utf8encode(re)),ee=q.length!==z.name.length,E=U.length!==re.length,oe="",he="",X="",j=z.dir,Z=z.date,O={crc32:0,compressedSize:0,uncompressedSize:0};R&&!w||(O.crc32=T.crc32,O.compressedSize=T.compressedSize,O.uncompressedSize=T.uncompressedSize);var k=0;R&&(k|=8),$||!ee&&!E||(k|=2048);var P=0,ae=0;j&&(P|=16),I==="UNIX"?(ae=798,P|=function(ie,Ae){var Ne=ie;return ie||(Ne=Ae?16893:33204),(65535&Ne)<<16}(z.unixPermissions,j)):(ae=20,P|=function(ie){return 63&(ie||0)}(z.dosPermissions)),D=Z.getUTCHours(),D<<=6,D|=Z.getUTCMinutes(),D<<=5,D|=Z.getUTCSeconds()/2,V=Z.getUTCFullYear()-1980,V<<=4,V|=Z.getUTCMonth()+1,V<<=5,V|=Z.getUTCDate(),ee&&(he=c(1,1)+c(y(ne),4)+q,oe+="up"+c(he.length,2)+he),E&&(X=c(1,1)+c(y(me),4)+U,oe+="uc"+c(X.length,2)+X);var le="";return le+=`
\0`,le+=c(k,2),le+=J.magic,le+=c(D,2),le+=c(V,2),le+=c(O.crc32,4),le+=c(O.compressedSize,4),le+=c(O.uncompressedSize,4),le+=c(ne.length,2),le+=c(oe.length,2),{fileRecord:_.LOCAL_FILE_HEADER+le+ne+oe,dirRecord:_.CENTRAL_FILE_HEADER+c(ae,2)+le+c(me.length,2)+"\0\0\0\0"+c(P,4)+c(A,4)+ne+oe+me}}var p=o("../utils"),h=o("../stream/GenericWorker"),m=o("../utf8"),y=o("../crc32"),_=o("../signature");function C(T,R,w,A){h.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=R,this.zipPlatform=w,this.encodeFileName=A,this.streamFiles=T,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}p.inherits(C,h),C.prototype.push=function(T){var R=T.meta.percent||0,w=this.entriesCount,A=this._sources.length;this.accumulate?this.contentBuffer.push(T):(this.bytesWritten+=T.data.length,h.prototype.push.call(this,{data:T.data,meta:{currentFile:this.currentFile,percent:w?(R+100*(w-A-1))/w:100}}))},C.prototype.openedSource=function(T){this.currentSourceOffset=this.bytesWritten,this.currentFile=T.file.name;var R=this.streamFiles&&!T.file.dir;if(R){var w=d(T,R,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:w.fileRecord,meta:{percent:0}})}else this.accumulate=!0},C.prototype.closedSource=function(T){this.accumulate=!1;var R=this.streamFiles&&!T.file.dir,w=d(T,R,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(w.dirRecord),R)this.push({data:function(A){return _.DATA_DESCRIPTOR+c(A.crc32,4)+c(A.compressedSize,4)+c(A.uncompressedSize,4)}(T),meta:{percent:100}});else for(this.push({data:w.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},C.prototype.flush=function(){for(var T=this.bytesWritten,R=0;R<this.dirRecords.length;R++)this.push({data:this.dirRecords[R],meta:{percent:100}});var w=this.bytesWritten-T,A=function(I,M,D,V,z){var J=p.transformTo("string",z(V));return _.CENTRAL_DIRECTORY_END+"\0\0\0\0"+c(I,2)+c(I,2)+c(M,4)+c(D,4)+c(J.length,2)+J}(this.dirRecords.length,w,T,this.zipComment,this.encodeFileName);this.push({data:A,meta:{percent:100}})},C.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},C.prototype.registerPrevious=function(T){this._sources.push(T);var R=this;return T.on("data",function(w){R.processChunk(w)}),T.on("end",function(){R.closedSource(R.previous.streamInfo),R._sources.length?R.prepareNextSource():R.end()}),T.on("error",function(w){R.error(w)}),this},C.prototype.resume=function(){return!!h.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},C.prototype.error=function(T){var R=this._sources;if(!h.prototype.error.call(this,T))return!1;for(var w=0;w<R.length;w++)try{R[w].error(T)}catch{}return!0},C.prototype.lock=function(){h.prototype.lock.call(this);for(var T=this._sources,R=0;R<T.length;R++)T[R].lock()},i.exports=C},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(o,i,a){var c=o("../compressions"),d=o("./ZipFileWorker");a.generateWorker=function(p,h,m){var y=new d(h.streamFiles,m,h.platform,h.encodeFileName),_=0;try{p.forEach(function(C,T){_++;var R=function(M,D){var V=M||D,z=c[V];if(!z)throw new Error(V+" is not a valid compression method !");return z}(T.options.compression,h.compression),w=T.options.compressionOptions||h.compressionOptions||{},A=T.dir,I=T.date;T._compressWorker(R,w).withStreamInfo("file",{name:C,dir:A,date:I,comment:T.comment||"",unixPermissions:T.unixPermissions,dosPermissions:T.dosPermissions}).pipe(y)}),y.entriesCount=_}catch(C){y.error(C)}return y}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(o,i,a){function c(){if(!(this instanceof c))return new c;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var d=new c;for(var p in this)typeof this[p]!="function"&&(d[p]=this[p]);return d}}(c.prototype=o("./object")).loadAsync=o("./load"),c.support=o("./support"),c.defaults=o("./defaults"),c.version="3.10.1",c.loadAsync=function(d,p){return new c().loadAsync(d,p)},c.external=o("./external"),i.exports=c},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(o,i,a){var c=o("./utils"),d=o("./external"),p=o("./utf8"),h=o("./zipEntries"),m=o("./stream/Crc32Probe"),y=o("./nodejsUtils");function _(C){return new d.Promise(function(T,R){var w=C.decompressed.getContentWorker().pipe(new m);w.on("error",function(A){R(A)}).on("end",function(){w.streamInfo.crc32!==C.decompressed.crc32?R(new Error("Corrupted zip : CRC32 mismatch")):T()}).resume()})}i.exports=function(C,T){var R=this;return T=c.extend(T||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:p.utf8decode}),y.isNode&&y.isStream(C)?d.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):c.prepareContent("the loaded zip file",C,!0,T.optimizedBinaryString,T.base64).then(function(w){var A=new h(T);return A.load(w),A}).then(function(w){var A=[d.Promise.resolve(w)],I=w.files;if(T.checkCRC32)for(var M=0;M<I.length;M++)A.push(_(I[M]));return d.Promise.all(A)}).then(function(w){for(var A=w.shift(),I=A.files,M=0;M<I.length;M++){var D=I[M],V=D.fileNameStr,z=c.resolve(D.fileNameStr);R.file(z,D.decompressed,{binary:!0,optimizedBinaryString:!0,date:D.date,dir:D.dir,comment:D.fileCommentStr.length?D.fileCommentStr:null,unixPermissions:D.unixPermissions,dosPermissions:D.dosPermissions,createFolders:T.createFolders}),D.dir||(R.file(z).unsafeOriginalName=V)}return A.zipComment.length&&(R.comment=A.zipComment),R})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(o,i,a){var c=o("../utils"),d=o("../stream/GenericWorker");function p(h,m){d.call(this,"Nodejs stream input adapter for "+h),this._upstreamEnded=!1,this._bindStream(m)}c.inherits(p,d),p.prototype._bindStream=function(h){var m=this;(this._stream=h).pause(),h.on("data",function(y){m.push({data:y,meta:{percent:0}})}).on("error",function(y){m.isPaused?this.generatedError=y:m.error(y)}).on("end",function(){m.isPaused?m._upstreamEnded=!0:m.end()})},p.prototype.pause=function(){return!!d.prototype.pause.call(this)&&(this._stream.pause(),!0)},p.prototype.resume=function(){return!!d.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},i.exports=p},{"../stream/GenericWorker":28,"../utils":32}],13:[function(o,i,a){var c=o("readable-stream").Readable;function d(p,h,m){c.call(this,h),this._helper=p;var y=this;p.on("data",function(_,C){y.push(_)||y._helper.pause(),m&&m(C)}).on("error",function(_){y.emit("error",_)}).on("end",function(){y.push(null)})}o("../utils").inherits(d,c),d.prototype._read=function(){this._helper.resume()},i.exports=d},{"../utils":32,"readable-stream":16}],14:[function(o,i,a){i.exports={isNode:typeof Buffer<"u",newBufferFrom:function(c,d){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(c,d);if(typeof c=="number")throw new Error('The "data" argument must not be a number');return new Buffer(c,d)},allocBuffer:function(c){if(Buffer.alloc)return Buffer.alloc(c);var d=new Buffer(c);return d.fill(0),d},isBuffer:function(c){return Buffer.isBuffer(c)},isStream:function(c){return c&&typeof c.on=="function"&&typeof c.pause=="function"&&typeof c.resume=="function"}}},{}],15:[function(o,i,a){function c(z,J,$){var ne,q=p.getTypeOf(J),re=p.extend($||{},y);re.date=re.date||new Date,re.compression!==null&&(re.compression=re.compression.toUpperCase()),typeof re.unixPermissions=="string"&&(re.unixPermissions=parseInt(re.unixPermissions,8)),re.unixPermissions&&16384&re.unixPermissions&&(re.dir=!0),re.dosPermissions&&16&re.dosPermissions&&(re.dir=!0),re.dir&&(z=I(z)),re.createFolders&&(ne=A(z))&&M.call(this,ne,!0);var me=q==="string"&&re.binary===!1&&re.base64===!1;$&&$.binary!==void 0||(re.binary=!me),(J instanceof _&&J.uncompressedSize===0||re.dir||!J||J.length===0)&&(re.base64=!1,re.binary=!0,J="",re.compression="STORE",q="string");var U=null;U=J instanceof _||J instanceof h?J:R.isNode&&R.isStream(J)?new w(z,J):p.prepareContent(z,J,re.binary,re.optimizedBinaryString,re.base64);var ee=new C(z,U,re);this.files[z]=ee}var d=o("./utf8"),p=o("./utils"),h=o("./stream/GenericWorker"),m=o("./stream/StreamHelper"),y=o("./defaults"),_=o("./compressedObject"),C=o("./zipObject"),T=o("./generate"),R=o("./nodejsUtils"),w=o("./nodejs/NodejsStreamInputAdapter"),A=function(z){z.slice(-1)==="/"&&(z=z.substring(0,z.length-1));var J=z.lastIndexOf("/");return 0<J?z.substring(0,J):""},I=function(z){return z.slice(-1)!=="/"&&(z+="/"),z},M=function(z,J){return J=J!==void 0?J:y.createFolders,z=I(z),this.files[z]||c.call(this,z,null,{dir:!0,createFolders:J}),this.files[z]};function D(z){return Object.prototype.toString.call(z)==="[object RegExp]"}var V={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(z){var J,$,ne;for(J in this.files)ne=this.files[J],($=J.slice(this.root.length,J.length))&&J.slice(0,this.root.length)===this.root&&z($,ne)},filter:function(z){var J=[];return this.forEach(function($,ne){z($,ne)&&J.push(ne)}),J},file:function(z,J,$){if(arguments.length!==1)return z=this.root+z,c.call(this,z,J,$),this;if(D(z)){var ne=z;return this.filter(function(re,me){return!me.dir&&ne.test(re)})}var q=this.files[this.root+z];return q&&!q.dir?q:null},folder:function(z){if(!z)return this;if(D(z))return this.filter(function(q,re){return re.dir&&z.test(q)});var J=this.root+z,$=M.call(this,J),ne=this.clone();return ne.root=$.name,ne},remove:function(z){z=this.root+z;var J=this.files[z];if(J||(z.slice(-1)!=="/"&&(z+="/"),J=this.files[z]),J&&!J.dir)delete this.files[z];else for(var $=this.filter(function(q,re){return re.name.slice(0,z.length)===z}),ne=0;ne<$.length;ne++)delete this.files[$[ne].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(z){var J,$={};try{if(($=p.extend(z||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:d.utf8encode})).type=$.type.toLowerCase(),$.compression=$.compression.toUpperCase(),$.type==="binarystring"&&($.type="string"),!$.type)throw new Error("No output type specified.");p.checkSupport($.type),$.platform!=="darwin"&&$.platform!=="freebsd"&&$.platform!=="linux"&&$.platform!=="sunos"||($.platform="UNIX"),$.platform==="win32"&&($.platform="DOS");var ne=$.comment||this.comment||"";J=T.generateWorker(this,$,ne)}catch(q){(J=new h("error")).error(q)}return new m(J,$.type||"string",$.mimeType)},generateAsync:function(z,J){return this.generateInternalStream(z).accumulate(J)},generateNodeStream:function(z,J){return(z=z||{}).type||(z.type="nodebuffer"),this.generateInternalStream(z).toNodejsStream(J)}};i.exports=V},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(o,i,a){i.exports=o("stream")},{stream:void 0}],17:[function(o,i,a){var c=o("./DataReader");function d(p){c.call(this,p);for(var h=0;h<this.data.length;h++)p[h]=255&p[h]}o("../utils").inherits(d,c),d.prototype.byteAt=function(p){return this.data[this.zero+p]},d.prototype.lastIndexOfSignature=function(p){for(var h=p.charCodeAt(0),m=p.charCodeAt(1),y=p.charCodeAt(2),_=p.charCodeAt(3),C=this.length-4;0<=C;--C)if(this.data[C]===h&&this.data[C+1]===m&&this.data[C+2]===y&&this.data[C+3]===_)return C-this.zero;return-1},d.prototype.readAndCheckSignature=function(p){var h=p.charCodeAt(0),m=p.charCodeAt(1),y=p.charCodeAt(2),_=p.charCodeAt(3),C=this.readData(4);return h===C[0]&&m===C[1]&&y===C[2]&&_===C[3]},d.prototype.readData=function(p){if(this.checkOffset(p),p===0)return[];var h=this.data.slice(this.zero+this.index,this.zero+this.index+p);return this.index+=p,h},i.exports=d},{"../utils":32,"./DataReader":18}],18:[function(o,i,a){var c=o("../utils");function d(p){this.data=p,this.length=p.length,this.index=0,this.zero=0}d.prototype={checkOffset:function(p){this.checkIndex(this.index+p)},checkIndex:function(p){if(this.length<this.zero+p||p<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+p+"). Corrupted zip ?")},setIndex:function(p){this.checkIndex(p),this.index=p},skip:function(p){this.setIndex(this.index+p)},byteAt:function(){},readInt:function(p){var h,m=0;for(this.checkOffset(p),h=this.index+p-1;h>=this.index;h--)m=(m<<8)+this.byteAt(h);return this.index+=p,m},readString:function(p){return c.transformTo("string",this.readData(p))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var p=this.readInt(4);return new Date(Date.UTC(1980+(p>>25&127),(p>>21&15)-1,p>>16&31,p>>11&31,p>>5&63,(31&p)<<1))}},i.exports=d},{"../utils":32}],19:[function(o,i,a){var c=o("./Uint8ArrayReader");function d(p){c.call(this,p)}o("../utils").inherits(d,c),d.prototype.readData=function(p){this.checkOffset(p);var h=this.data.slice(this.zero+this.index,this.zero+this.index+p);return this.index+=p,h},i.exports=d},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(o,i,a){var c=o("./DataReader");function d(p){c.call(this,p)}o("../utils").inherits(d,c),d.prototype.byteAt=function(p){return this.data.charCodeAt(this.zero+p)},d.prototype.lastIndexOfSignature=function(p){return this.data.lastIndexOf(p)-this.zero},d.prototype.readAndCheckSignature=function(p){return p===this.readData(4)},d.prototype.readData=function(p){this.checkOffset(p);var h=this.data.slice(this.zero+this.index,this.zero+this.index+p);return this.index+=p,h},i.exports=d},{"../utils":32,"./DataReader":18}],21:[function(o,i,a){var c=o("./ArrayReader");function d(p){c.call(this,p)}o("../utils").inherits(d,c),d.prototype.readData=function(p){if(this.checkOffset(p),p===0)return new Uint8Array(0);var h=this.data.subarray(this.zero+this.index,this.zero+this.index+p);return this.index+=p,h},i.exports=d},{"../utils":32,"./ArrayReader":17}],22:[function(o,i,a){var c=o("../utils"),d=o("../support"),p=o("./ArrayReader"),h=o("./StringReader"),m=o("./NodeBufferReader"),y=o("./Uint8ArrayReader");i.exports=function(_){var C=c.getTypeOf(_);return c.checkSupport(C),C!=="string"||d.uint8array?C==="nodebuffer"?new m(_):d.uint8array?new y(c.transformTo("uint8array",_)):new p(c.transformTo("array",_)):new h(_)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(o,i,a){a.LOCAL_FILE_HEADER="PK",a.CENTRAL_FILE_HEADER="PK",a.CENTRAL_DIRECTORY_END="PK",a.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",a.ZIP64_CENTRAL_DIRECTORY_END="PK",a.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(o,i,a){var c=o("./GenericWorker"),d=o("../utils");function p(h){c.call(this,"ConvertWorker to "+h),this.destType=h}d.inherits(p,c),p.prototype.processChunk=function(h){this.push({data:d.transformTo(this.destType,h.data),meta:h.meta})},i.exports=p},{"../utils":32,"./GenericWorker":28}],25:[function(o,i,a){var c=o("./GenericWorker"),d=o("../crc32");function p(){c.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}o("../utils").inherits(p,c),p.prototype.processChunk=function(h){this.streamInfo.crc32=d(h.data,this.streamInfo.crc32||0),this.push(h)},i.exports=p},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(o,i,a){var c=o("../utils"),d=o("./GenericWorker");function p(h){d.call(this,"DataLengthProbe for "+h),this.propName=h,this.withStreamInfo(h,0)}c.inherits(p,d),p.prototype.processChunk=function(h){if(h){var m=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=m+h.data.length}d.prototype.processChunk.call(this,h)},i.exports=p},{"../utils":32,"./GenericWorker":28}],27:[function(o,i,a){var c=o("../utils"),d=o("./GenericWorker");function p(h){d.call(this,"DataWorker");var m=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,h.then(function(y){m.dataIsReady=!0,m.data=y,m.max=y&&y.length||0,m.type=c.getTypeOf(y),m.isPaused||m._tickAndRepeat()},function(y){m.error(y)})}c.inherits(p,d),p.prototype.cleanUp=function(){d.prototype.cleanUp.call(this),this.data=null},p.prototype.resume=function(){return!!d.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,c.delay(this._tickAndRepeat,[],this)),!0)},p.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(c.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},p.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var h=null,m=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":h=this.data.substring(this.index,m);break;case"uint8array":h=this.data.subarray(this.index,m);break;case"array":case"nodebuffer":h=this.data.slice(this.index,m)}return this.index=m,this.push({data:h,meta:{percent:this.max?this.index/this.max*100:0}})},i.exports=p},{"../utils":32,"./GenericWorker":28}],28:[function(o,i,a){function c(d){this.name=d||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}c.prototype={push:function(d){this.emit("data",d)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(d){this.emit("error",d)}return!0},error:function(d){return!this.isFinished&&(this.isPaused?this.generatedError=d:(this.isFinished=!0,this.emit("error",d),this.previous&&this.previous.error(d),this.cleanUp()),!0)},on:function(d,p){return this._listeners[d].push(p),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(d,p){if(this._listeners[d])for(var h=0;h<this._listeners[d].length;h++)this._listeners[d][h].call(this,p)},pipe:function(d){return d.registerPrevious(this)},registerPrevious:function(d){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=d.streamInfo,this.mergeStreamInfo(),this.previous=d;var p=this;return d.on("data",function(h){p.processChunk(h)}),d.on("end",function(){p.end()}),d.on("error",function(h){p.error(h)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var d=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),d=!0),this.previous&&this.previous.resume(),!d},flush:function(){},processChunk:function(d){this.push(d)},withStreamInfo:function(d,p){return this.extraStreamInfo[d]=p,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var d in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,d)&&(this.streamInfo[d]=this.extraStreamInfo[d])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var d="Worker "+this.name;return this.previous?this.previous+" -> "+d:d}},i.exports=c},{}],29:[function(o,i,a){var c=o("../utils"),d=o("./ConvertWorker"),p=o("./GenericWorker"),h=o("../base64"),m=o("../support"),y=o("../external"),_=null;if(m.nodestream)try{_=o("../nodejs/NodejsStreamOutputAdapter")}catch{}function C(R,w){return new y.Promise(function(A,I){var M=[],D=R._internalType,V=R._outputType,z=R._mimeType;R.on("data",function(J,$){M.push(J),w&&w($)}).on("error",function(J){M=[],I(J)}).on("end",function(){try{var J=function($,ne,q){switch($){case"blob":return c.newBlob(c.transformTo("arraybuffer",ne),q);case"base64":return h.encode(ne);default:return c.transformTo($,ne)}}(V,function($,ne){var q,re=0,me=null,U=0;for(q=0;q<ne.length;q++)U+=ne[q].length;switch($){case"string":return ne.join("");case"array":return Array.prototype.concat.apply([],ne);case"uint8array":for(me=new Uint8Array(U),q=0;q<ne.length;q++)me.set(ne[q],re),re+=ne[q].length;return me;case"nodebuffer":return Buffer.concat(ne);default:throw new Error("concat : unsupported type '"+$+"'")}}(D,M),z);A(J)}catch($){I($)}M=[]}).resume()})}function T(R,w,A){var I=w;switch(w){case"blob":case"arraybuffer":I="uint8array";break;case"base64":I="string"}try{this._internalType=I,this._outputType=w,this._mimeType=A,c.checkSupport(I),this._worker=R.pipe(new d(I)),R.lock()}catch(M){this._worker=new p("error"),this._worker.error(M)}}T.prototype={accumulate:function(R){return C(this,R)},on:function(R,w){var A=this;return R==="data"?this._worker.on(R,function(I){w.call(A,I.data,I.meta)}):this._worker.on(R,function(){c.delay(w,arguments,A)}),this},resume:function(){return c.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(R){if(c.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new _(this,{objectMode:this._outputType!=="nodebuffer"},R)}},i.exports=T},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(o,i,a){if(a.base64=!0,a.array=!0,a.string=!0,a.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",a.nodebuffer=typeof Buffer<"u",a.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")a.blob=!1;else{var c=new ArrayBuffer(0);try{a.blob=new Blob([c],{type:"application/zip"}).size===0}catch{try{var d=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);d.append(c),a.blob=d.getBlob("application/zip").size===0}catch{a.blob=!1}}}try{a.nodestream=!!o("readable-stream").Readable}catch{a.nodestream=!1}},{"readable-stream":16}],31:[function(o,i,a){for(var c=o("./utils"),d=o("./support"),p=o("./nodejsUtils"),h=o("./stream/GenericWorker"),m=new Array(256),y=0;y<256;y++)m[y]=252<=y?6:248<=y?5:240<=y?4:224<=y?3:192<=y?2:1;m[254]=m[254]=1;function _(){h.call(this,"utf-8 decode"),this.leftOver=null}function C(){h.call(this,"utf-8 encode")}a.utf8encode=function(T){return d.nodebuffer?p.newBufferFrom(T,"utf-8"):function(R){var w,A,I,M,D,V=R.length,z=0;for(M=0;M<V;M++)(64512&(A=R.charCodeAt(M)))==55296&&M+1<V&&(64512&(I=R.charCodeAt(M+1)))==56320&&(A=65536+(A-55296<<10)+(I-56320),M++),z+=A<128?1:A<2048?2:A<65536?3:4;for(w=d.uint8array?new Uint8Array(z):new Array(z),M=D=0;D<z;M++)(64512&(A=R.charCodeAt(M)))==55296&&M+1<V&&(64512&(I=R.charCodeAt(M+1)))==56320&&(A=65536+(A-55296<<10)+(I-56320),M++),A<128?w[D++]=A:(A<2048?w[D++]=192|A>>>6:(A<65536?w[D++]=224|A>>>12:(w[D++]=240|A>>>18,w[D++]=128|A>>>12&63),w[D++]=128|A>>>6&63),w[D++]=128|63&A);return w}(T)},a.utf8decode=function(T){return d.nodebuffer?c.transformTo("nodebuffer",T).toString("utf-8"):function(R){var w,A,I,M,D=R.length,V=new Array(2*D);for(w=A=0;w<D;)if((I=R[w++])<128)V[A++]=I;else if(4<(M=m[I]))V[A++]=65533,w+=M-1;else{for(I&=M===2?31:M===3?15:7;1<M&&w<D;)I=I<<6|63&R[w++],M--;1<M?V[A++]=65533:I<65536?V[A++]=I:(I-=65536,V[A++]=55296|I>>10&1023,V[A++]=56320|1023&I)}return V.length!==A&&(V.subarray?V=V.subarray(0,A):V.length=A),c.applyFromCharCode(V)}(T=c.transformTo(d.uint8array?"uint8array":"array",T))},c.inherits(_,h),_.prototype.processChunk=function(T){var R=c.transformTo(d.uint8array?"uint8array":"array",T.data);if(this.leftOver&&this.leftOver.length){if(d.uint8array){var w=R;(R=new Uint8Array(w.length+this.leftOver.length)).set(this.leftOver,0),R.set(w,this.leftOver.length)}else R=this.leftOver.concat(R);this.leftOver=null}var A=function(M,D){var V;for((D=D||M.length)>M.length&&(D=M.length),V=D-1;0<=V&&(192&M[V])==128;)V--;return V<0||V===0?D:V+m[M[V]]>D?V:D}(R),I=R;A!==R.length&&(d.uint8array?(I=R.subarray(0,A),this.leftOver=R.subarray(A,R.length)):(I=R.slice(0,A),this.leftOver=R.slice(A,R.length))),this.push({data:a.utf8decode(I),meta:T.meta})},_.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:a.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},a.Utf8DecodeWorker=_,c.inherits(C,h),C.prototype.processChunk=function(T){this.push({data:a.utf8encode(T.data),meta:T.meta})},a.Utf8EncodeWorker=C},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(o,i,a){var c=o("./support"),d=o("./base64"),p=o("./nodejsUtils"),h=o("./external");function m(w){return w}function y(w,A){for(var I=0;I<w.length;++I)A[I]=255&w.charCodeAt(I);return A}o("setimmediate"),a.newBlob=function(w,A){a.checkSupport("blob");try{return new Blob([w],{type:A})}catch{try{var I=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return I.append(w),I.getBlob(A)}catch{throw new Error("Bug : can't construct the Blob.")}}};var _={stringifyByChunk:function(w,A,I){var M=[],D=0,V=w.length;if(V<=I)return String.fromCharCode.apply(null,w);for(;D<V;)A==="array"||A==="nodebuffer"?M.push(String.fromCharCode.apply(null,w.slice(D,Math.min(D+I,V)))):M.push(String.fromCharCode.apply(null,w.subarray(D,Math.min(D+I,V)))),D+=I;return M.join("")},stringifyByChar:function(w){for(var A="",I=0;I<w.length;I++)A+=String.fromCharCode(w[I]);return A},applyCanBeUsed:{uint8array:function(){try{return c.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return c.nodebuffer&&String.fromCharCode.apply(null,p.allocBuffer(1)).length===1}catch{return!1}}()}};function C(w){var A=65536,I=a.getTypeOf(w),M=!0;if(I==="uint8array"?M=_.applyCanBeUsed.uint8array:I==="nodebuffer"&&(M=_.applyCanBeUsed.nodebuffer),M)for(;1<A;)try{return _.stringifyByChunk(w,I,A)}catch{A=Math.floor(A/2)}return _.stringifyByChar(w)}function T(w,A){for(var I=0;I<w.length;I++)A[I]=w[I];return A}a.applyFromCharCode=C;var R={};R.string={string:m,array:function(w){return y(w,new Array(w.length))},arraybuffer:function(w){return R.string.uint8array(w).buffer},uint8array:function(w){return y(w,new Uint8Array(w.length))},nodebuffer:function(w){return y(w,p.allocBuffer(w.length))}},R.array={string:C,array:m,arraybuffer:function(w){return new Uint8Array(w).buffer},uint8array:function(w){return new Uint8Array(w)},nodebuffer:function(w){return p.newBufferFrom(w)}},R.arraybuffer={string:function(w){return C(new Uint8Array(w))},array:function(w){return T(new Uint8Array(w),new Array(w.byteLength))},arraybuffer:m,uint8array:function(w){return new Uint8Array(w)},nodebuffer:function(w){return p.newBufferFrom(new Uint8Array(w))}},R.uint8array={string:C,array:function(w){return T(w,new Array(w.length))},arraybuffer:function(w){return w.buffer},uint8array:m,nodebuffer:function(w){return p.newBufferFrom(w)}},R.nodebuffer={string:C,array:function(w){return T(w,new Array(w.length))},arraybuffer:function(w){return R.nodebuffer.uint8array(w).buffer},uint8array:function(w){return T(w,new Uint8Array(w.length))},nodebuffer:m},a.transformTo=function(w,A){if(A=A||"",!w)return A;a.checkSupport(w);var I=a.getTypeOf(A);return R[I][w](A)},a.resolve=function(w){for(var A=w.split("/"),I=[],M=0;M<A.length;M++){var D=A[M];D==="."||D===""&&M!==0&&M!==A.length-1||(D===".."?I.pop():I.push(D))}return I.join("/")},a.getTypeOf=function(w){return typeof w=="string"?"string":Object.prototype.toString.call(w)==="[object Array]"?"array":c.nodebuffer&&p.isBuffer(w)?"nodebuffer":c.uint8array&&w instanceof Uint8Array?"uint8array":c.arraybuffer&&w instanceof ArrayBuffer?"arraybuffer":void 0},a.checkSupport=function(w){if(!c[w.toLowerCase()])throw new Error(w+" is not supported by this platform")},a.MAX_VALUE_16BITS=65535,a.MAX_VALUE_32BITS=-1,a.pretty=function(w){var A,I,M="";for(I=0;I<(w||"").length;I++)M+="\\x"+((A=w.charCodeAt(I))<16?"0":"")+A.toString(16).toUpperCase();return M},a.delay=function(w,A,I){setImmediate(function(){w.apply(I||null,A||[])})},a.inherits=function(w,A){function I(){}I.prototype=A.prototype,w.prototype=new I},a.extend=function(){var w,A,I={};for(w=0;w<arguments.length;w++)for(A in arguments[w])Object.prototype.hasOwnProperty.call(arguments[w],A)&&I[A]===void 0&&(I[A]=arguments[w][A]);return I},a.prepareContent=function(w,A,I,M,D){return h.Promise.resolve(A).then(function(V){return c.blob&&(V instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(V))!==-1)&&typeof FileReader<"u"?new h.Promise(function(z,J){var $=new FileReader;$.onload=function(ne){z(ne.target.result)},$.onerror=function(ne){J(ne.target.error)},$.readAsArrayBuffer(V)}):V}).then(function(V){var z=a.getTypeOf(V);return z?(z==="arraybuffer"?V=a.transformTo("uint8array",V):z==="string"&&(D?V=d.decode(V):I&&M!==!0&&(V=function(J){return y(J,c.uint8array?new Uint8Array(J.length):new Array(J.length))}(V))),V):h.Promise.reject(new Error("Can't read the data of '"+w+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(o,i,a){var c=o("./reader/readerFor"),d=o("./utils"),p=o("./signature"),h=o("./zipEntry"),m=o("./support");function y(_){this.files=[],this.loadOptions=_}y.prototype={checkSignature:function(_){if(!this.reader.readAndCheckSignature(_)){this.reader.index-=4;var C=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+d.pretty(C)+", expected "+d.pretty(_)+")")}},isSignature:function(_,C){var T=this.reader.index;this.reader.setIndex(_);var R=this.reader.readString(4)===C;return this.reader.setIndex(T),R},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var _=this.reader.readData(this.zipCommentLength),C=m.uint8array?"uint8array":"array",T=d.transformTo(C,_);this.zipComment=this.loadOptions.decodeFileName(T)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var _,C,T,R=this.zip64EndOfCentralSize-44;0<R;)_=this.reader.readInt(2),C=this.reader.readInt(4),T=this.reader.readData(C),this.zip64ExtensibleData[_]={id:_,length:C,value:T}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var _,C;for(_=0;_<this.files.length;_++)C=this.files[_],this.reader.setIndex(C.localHeaderOffset),this.checkSignature(p.LOCAL_FILE_HEADER),C.readLocalPart(this.reader),C.handleUTF8(),C.processAttributes()},readCentralDir:function(){var _;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(p.CENTRAL_FILE_HEADER);)(_=new h({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(_);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var _=this.reader.lastIndexOfSignature(p.CENTRAL_DIRECTORY_END);if(_<0)throw this.isSignature(0,p.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(_);var C=_;if(this.checkSignature(p.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===d.MAX_VALUE_16BITS||this.diskWithCentralDirStart===d.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===d.MAX_VALUE_16BITS||this.centralDirRecords===d.MAX_VALUE_16BITS||this.centralDirSize===d.MAX_VALUE_32BITS||this.centralDirOffset===d.MAX_VALUE_32BITS){if(this.zip64=!0,(_=this.reader.lastIndexOfSignature(p.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(_),this.checkSignature(p.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,p.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(p.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(p.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var T=this.centralDirOffset+this.centralDirSize;this.zip64&&(T+=20,T+=12+this.zip64EndOfCentralSize);var R=C-T;if(0<R)this.isSignature(C,p.CENTRAL_FILE_HEADER)||(this.reader.zero=R);else if(R<0)throw new Error("Corrupted zip: missing "+Math.abs(R)+" bytes.")},prepareReader:function(_){this.reader=c(_)},load:function(_){this.prepareReader(_),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},i.exports=y},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(o,i,a){var c=o("./reader/readerFor"),d=o("./utils"),p=o("./compressedObject"),h=o("./crc32"),m=o("./utf8"),y=o("./compressions"),_=o("./support");function C(T,R){this.options=T,this.loadOptions=R}C.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(T){var R,w;if(T.skip(22),this.fileNameLength=T.readInt(2),w=T.readInt(2),this.fileName=T.readData(this.fileNameLength),T.skip(w),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((R=function(A){for(var I in y)if(Object.prototype.hasOwnProperty.call(y,I)&&y[I].magic===A)return y[I];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+d.pretty(this.compressionMethod)+" unknown (inner file : "+d.transformTo("string",this.fileName)+")");this.decompressed=new p(this.compressedSize,this.uncompressedSize,this.crc32,R,T.readData(this.compressedSize))},readCentralPart:function(T){this.versionMadeBy=T.readInt(2),T.skip(2),this.bitFlag=T.readInt(2),this.compressionMethod=T.readString(2),this.date=T.readDate(),this.crc32=T.readInt(4),this.compressedSize=T.readInt(4),this.uncompressedSize=T.readInt(4);var R=T.readInt(2);if(this.extraFieldsLength=T.readInt(2),this.fileCommentLength=T.readInt(2),this.diskNumberStart=T.readInt(2),this.internalFileAttributes=T.readInt(2),this.externalFileAttributes=T.readInt(4),this.localHeaderOffset=T.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");T.skip(R),this.readExtraFields(T),this.parseZIP64ExtraField(T),this.fileComment=T.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var T=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),T==0&&(this.dosPermissions=63&this.externalFileAttributes),T==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var T=c(this.extraFields[1].value);this.uncompressedSize===d.MAX_VALUE_32BITS&&(this.uncompressedSize=T.readInt(8)),this.compressedSize===d.MAX_VALUE_32BITS&&(this.compressedSize=T.readInt(8)),this.localHeaderOffset===d.MAX_VALUE_32BITS&&(this.localHeaderOffset=T.readInt(8)),this.diskNumberStart===d.MAX_VALUE_32BITS&&(this.diskNumberStart=T.readInt(4))}},readExtraFields:function(T){var R,w,A,I=T.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});T.index+4<I;)R=T.readInt(2),w=T.readInt(2),A=T.readData(w),this.extraFields[R]={id:R,length:w,value:A};T.setIndex(I)},handleUTF8:function(){var T=_.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=m.utf8decode(this.fileName),this.fileCommentStr=m.utf8decode(this.fileComment);else{var R=this.findExtraFieldUnicodePath();if(R!==null)this.fileNameStr=R;else{var w=d.transformTo(T,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(w)}var A=this.findExtraFieldUnicodeComment();if(A!==null)this.fileCommentStr=A;else{var I=d.transformTo(T,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(I)}}},findExtraFieldUnicodePath:function(){var T=this.extraFields[28789];if(T){var R=c(T.value);return R.readInt(1)!==1||h(this.fileName)!==R.readInt(4)?null:m.utf8decode(R.readData(T.length-5))}return null},findExtraFieldUnicodeComment:function(){var T=this.extraFields[25461];if(T){var R=c(T.value);return R.readInt(1)!==1||h(this.fileComment)!==R.readInt(4)?null:m.utf8decode(R.readData(T.length-5))}return null}},i.exports=C},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(o,i,a){function c(R,w,A){this.name=R,this.dir=A.dir,this.date=A.date,this.comment=A.comment,this.unixPermissions=A.unixPermissions,this.dosPermissions=A.dosPermissions,this._data=w,this._dataBinary=A.binary,this.options={compression:A.compression,compressionOptions:A.compressionOptions}}var d=o("./stream/StreamHelper"),p=o("./stream/DataWorker"),h=o("./utf8"),m=o("./compressedObject"),y=o("./stream/GenericWorker");c.prototype={internalStream:function(R){var w=null,A="string";try{if(!R)throw new Error("No output type specified.");var I=(A=R.toLowerCase())==="string"||A==="text";A!=="binarystring"&&A!=="text"||(A="string"),w=this._decompressWorker();var M=!this._dataBinary;M&&!I&&(w=w.pipe(new h.Utf8EncodeWorker)),!M&&I&&(w=w.pipe(new h.Utf8DecodeWorker))}catch(D){(w=new y("error")).error(D)}return new d(w,A,"")},async:function(R,w){return this.internalStream(R).accumulate(w)},nodeStream:function(R,w){return this.internalStream(R||"nodebuffer").toNodejsStream(w)},_compressWorker:function(R,w){if(this._data instanceof m&&this._data.compression.magic===R.magic)return this._data.getCompressedWorker();var A=this._decompressWorker();return this._dataBinary||(A=A.pipe(new h.Utf8EncodeWorker)),m.createWorkerFrom(A,R,w)},_decompressWorker:function(){return this._data instanceof m?this._data.getContentWorker():this._data instanceof y?this._data:new p(this._data)}};for(var _=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],C=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},T=0;T<_.length;T++)c.prototype[_[T]]=C;i.exports=c},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(o,i,a){(function(c){var d,p,h=c.MutationObserver||c.WebKitMutationObserver;if(h){var m=0,y=new h(R),_=c.document.createTextNode("");y.observe(_,{characterData:!0}),d=function(){_.data=m=++m%2}}else if(c.setImmediate||c.MessageChannel===void 0)d="document"in c&&"onreadystatechange"in c.document.createElement("script")?function(){var w=c.document.createElement("script");w.onreadystatechange=function(){R(),w.onreadystatechange=null,w.parentNode.removeChild(w),w=null},c.document.documentElement.appendChild(w)}:function(){setTimeout(R,0)};else{var C=new c.MessageChannel;C.port1.onmessage=R,d=function(){C.port2.postMessage(0)}}var T=[];function R(){var w,A;p=!0;for(var I=T.length;I;){for(A=T,T=[],w=-1;++w<I;)A[w]();I=T.length}p=!1}i.exports=function(w){T.push(w)!==1||p||d()}}).call(this,typeof Ii<"u"?Ii:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(o,i,a){var c=o("immediate");function d(){}var p={},h=["REJECTED"],m=["FULFILLED"],y=["PENDING"];function _(I){if(typeof I!="function")throw new TypeError("resolver must be a function");this.state=y,this.queue=[],this.outcome=void 0,I!==d&&w(this,I)}function C(I,M,D){this.promise=I,typeof M=="function"&&(this.onFulfilled=M,this.callFulfilled=this.otherCallFulfilled),typeof D=="function"&&(this.onRejected=D,this.callRejected=this.otherCallRejected)}function T(I,M,D){c(function(){var V;try{V=M(D)}catch(z){return p.reject(I,z)}V===I?p.reject(I,new TypeError("Cannot resolve promise with itself")):p.resolve(I,V)})}function R(I){var M=I&&I.then;if(I&&(typeof I=="object"||typeof I=="function")&&typeof M=="function")return function(){M.apply(I,arguments)}}function w(I,M){var D=!1;function V($){D||(D=!0,p.reject(I,$))}function z($){D||(D=!0,p.resolve(I,$))}var J=A(function(){M(z,V)});J.status==="error"&&V(J.value)}function A(I,M){var D={};try{D.value=I(M),D.status="success"}catch(V){D.status="error",D.value=V}return D}(i.exports=_).prototype.finally=function(I){if(typeof I!="function")return this;var M=this.constructor;return this.then(function(D){return M.resolve(I()).then(function(){return D})},function(D){return M.resolve(I()).then(function(){throw D})})},_.prototype.catch=function(I){return this.then(null,I)},_.prototype.then=function(I,M){if(typeof I!="function"&&this.state===m||typeof M!="function"&&this.state===h)return this;var D=new this.constructor(d);return this.state!==y?T(D,this.state===m?I:M,this.outcome):this.queue.push(new C(D,I,M)),D},C.prototype.callFulfilled=function(I){p.resolve(this.promise,I)},C.prototype.otherCallFulfilled=function(I){T(this.promise,this.onFulfilled,I)},C.prototype.callRejected=function(I){p.reject(this.promise,I)},C.prototype.otherCallRejected=function(I){T(this.promise,this.onRejected,I)},p.resolve=function(I,M){var D=A(R,M);if(D.status==="error")return p.reject(I,D.value);var V=D.value;if(V)w(I,V);else{I.state=m,I.outcome=M;for(var z=-1,J=I.queue.length;++z<J;)I.queue[z].callFulfilled(M)}return I},p.reject=function(I,M){I.state=h,I.outcome=M;for(var D=-1,V=I.queue.length;++D<V;)I.queue[D].callRejected(M);return I},_.resolve=function(I){return I instanceof this?I:p.resolve(new this(d),I)},_.reject=function(I){var M=new this(d);return p.reject(M,I)},_.all=function(I){var M=this;if(Object.prototype.toString.call(I)!=="[object Array]")return this.reject(new TypeError("must be an array"));var D=I.length,V=!1;if(!D)return this.resolve([]);for(var z=new Array(D),J=0,$=-1,ne=new this(d);++$<D;)q(I[$],$);return ne;function q(re,me){M.resolve(re).then(function(U){z[me]=U,++J!==D||V||(V=!0,p.resolve(ne,z))},function(U){V||(V=!0,p.reject(ne,U))})}},_.race=function(I){var M=this;if(Object.prototype.toString.call(I)!=="[object Array]")return this.reject(new TypeError("must be an array"));var D=I.length,V=!1;if(!D)return this.resolve([]);for(var z=-1,J=new this(d);++z<D;)$=I[z],M.resolve($).then(function(ne){V||(V=!0,p.resolve(J,ne))},function(ne){V||(V=!0,p.reject(J,ne))});var $;return J}},{immediate:36}],38:[function(o,i,a){var c={};(0,o("./lib/utils/common").assign)(c,o("./lib/deflate"),o("./lib/inflate"),o("./lib/zlib/constants")),i.exports=c},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(o,i,a){var c=o("./zlib/deflate"),d=o("./utils/common"),p=o("./utils/strings"),h=o("./zlib/messages"),m=o("./zlib/zstream"),y=Object.prototype.toString,_=0,C=-1,T=0,R=8;function w(I){if(!(this instanceof w))return new w(I);this.options=d.assign({level:C,method:R,chunkSize:16384,windowBits:15,memLevel:8,strategy:T,to:""},I||{});var M=this.options;M.raw&&0<M.windowBits?M.windowBits=-M.windowBits:M.gzip&&0<M.windowBits&&M.windowBits<16&&(M.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new m,this.strm.avail_out=0;var D=c.deflateInit2(this.strm,M.level,M.method,M.windowBits,M.memLevel,M.strategy);if(D!==_)throw new Error(h[D]);if(M.header&&c.deflateSetHeader(this.strm,M.header),M.dictionary){var V;if(V=typeof M.dictionary=="string"?p.string2buf(M.dictionary):y.call(M.dictionary)==="[object ArrayBuffer]"?new Uint8Array(M.dictionary):M.dictionary,(D=c.deflateSetDictionary(this.strm,V))!==_)throw new Error(h[D]);this._dict_set=!0}}function A(I,M){var D=new w(M);if(D.push(I,!0),D.err)throw D.msg||h[D.err];return D.result}w.prototype.push=function(I,M){var D,V,z=this.strm,J=this.options.chunkSize;if(this.ended)return!1;V=M===~~M?M:M===!0?4:0,typeof I=="string"?z.input=p.string2buf(I):y.call(I)==="[object ArrayBuffer]"?z.input=new Uint8Array(I):z.input=I,z.next_in=0,z.avail_in=z.input.length;do{if(z.avail_out===0&&(z.output=new d.Buf8(J),z.next_out=0,z.avail_out=J),(D=c.deflate(z,V))!==1&&D!==_)return this.onEnd(D),!(this.ended=!0);z.avail_out!==0&&(z.avail_in!==0||V!==4&&V!==2)||(this.options.to==="string"?this.onData(p.buf2binstring(d.shrinkBuf(z.output,z.next_out))):this.onData(d.shrinkBuf(z.output,z.next_out)))}while((0<z.avail_in||z.avail_out===0)&&D!==1);return V===4?(D=c.deflateEnd(this.strm),this.onEnd(D),this.ended=!0,D===_):V!==2||(this.onEnd(_),!(z.avail_out=0))},w.prototype.onData=function(I){this.chunks.push(I)},w.prototype.onEnd=function(I){I===_&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=d.flattenChunks(this.chunks)),this.chunks=[],this.err=I,this.msg=this.strm.msg},a.Deflate=w,a.deflate=A,a.deflateRaw=function(I,M){return(M=M||{}).raw=!0,A(I,M)},a.gzip=function(I,M){return(M=M||{}).gzip=!0,A(I,M)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(o,i,a){var c=o("./zlib/inflate"),d=o("./utils/common"),p=o("./utils/strings"),h=o("./zlib/constants"),m=o("./zlib/messages"),y=o("./zlib/zstream"),_=o("./zlib/gzheader"),C=Object.prototype.toString;function T(w){if(!(this instanceof T))return new T(w);this.options=d.assign({chunkSize:16384,windowBits:0,to:""},w||{});var A=this.options;A.raw&&0<=A.windowBits&&A.windowBits<16&&(A.windowBits=-A.windowBits,A.windowBits===0&&(A.windowBits=-15)),!(0<=A.windowBits&&A.windowBits<16)||w&&w.windowBits||(A.windowBits+=32),15<A.windowBits&&A.windowBits<48&&(15&A.windowBits)==0&&(A.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new y,this.strm.avail_out=0;var I=c.inflateInit2(this.strm,A.windowBits);if(I!==h.Z_OK)throw new Error(m[I]);this.header=new _,c.inflateGetHeader(this.strm,this.header)}function R(w,A){var I=new T(A);if(I.push(w,!0),I.err)throw I.msg||m[I.err];return I.result}T.prototype.push=function(w,A){var I,M,D,V,z,J,$=this.strm,ne=this.options.chunkSize,q=this.options.dictionary,re=!1;if(this.ended)return!1;M=A===~~A?A:A===!0?h.Z_FINISH:h.Z_NO_FLUSH,typeof w=="string"?$.input=p.binstring2buf(w):C.call(w)==="[object ArrayBuffer]"?$.input=new Uint8Array(w):$.input=w,$.next_in=0,$.avail_in=$.input.length;do{if($.avail_out===0&&($.output=new d.Buf8(ne),$.next_out=0,$.avail_out=ne),(I=c.inflate($,h.Z_NO_FLUSH))===h.Z_NEED_DICT&&q&&(J=typeof q=="string"?p.string2buf(q):C.call(q)==="[object ArrayBuffer]"?new Uint8Array(q):q,I=c.inflateSetDictionary(this.strm,J)),I===h.Z_BUF_ERROR&&re===!0&&(I=h.Z_OK,re=!1),I!==h.Z_STREAM_END&&I!==h.Z_OK)return this.onEnd(I),!(this.ended=!0);$.next_out&&($.avail_out!==0&&I!==h.Z_STREAM_END&&($.avail_in!==0||M!==h.Z_FINISH&&M!==h.Z_SYNC_FLUSH)||(this.options.to==="string"?(D=p.utf8border($.output,$.next_out),V=$.next_out-D,z=p.buf2string($.output,D),$.next_out=V,$.avail_out=ne-V,V&&d.arraySet($.output,$.output,D,V,0),this.onData(z)):this.onData(d.shrinkBuf($.output,$.next_out)))),$.avail_in===0&&$.avail_out===0&&(re=!0)}while((0<$.avail_in||$.avail_out===0)&&I!==h.Z_STREAM_END);return I===h.Z_STREAM_END&&(M=h.Z_FINISH),M===h.Z_FINISH?(I=c.inflateEnd(this.strm),this.onEnd(I),this.ended=!0,I===h.Z_OK):M!==h.Z_SYNC_FLUSH||(this.onEnd(h.Z_OK),!($.avail_out=0))},T.prototype.onData=function(w){this.chunks.push(w)},T.prototype.onEnd=function(w){w===h.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=d.flattenChunks(this.chunks)),this.chunks=[],this.err=w,this.msg=this.strm.msg},a.Inflate=T,a.inflate=R,a.inflateRaw=function(w,A){return(A=A||{}).raw=!0,R(w,A)},a.ungzip=R},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(o,i,a){var c=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";a.assign=function(h){for(var m=Array.prototype.slice.call(arguments,1);m.length;){var y=m.shift();if(y){if(typeof y!="object")throw new TypeError(y+"must be non-object");for(var _ in y)y.hasOwnProperty(_)&&(h[_]=y[_])}}return h},a.shrinkBuf=function(h,m){return h.length===m?h:h.subarray?h.subarray(0,m):(h.length=m,h)};var d={arraySet:function(h,m,y,_,C){if(m.subarray&&h.subarray)h.set(m.subarray(y,y+_),C);else for(var T=0;T<_;T++)h[C+T]=m[y+T]},flattenChunks:function(h){var m,y,_,C,T,R;for(m=_=0,y=h.length;m<y;m++)_+=h[m].length;for(R=new Uint8Array(_),m=C=0,y=h.length;m<y;m++)T=h[m],R.set(T,C),C+=T.length;return R}},p={arraySet:function(h,m,y,_,C){for(var T=0;T<_;T++)h[C+T]=m[y+T]},flattenChunks:function(h){return[].concat.apply([],h)}};a.setTyped=function(h){h?(a.Buf8=Uint8Array,a.Buf16=Uint16Array,a.Buf32=Int32Array,a.assign(a,d)):(a.Buf8=Array,a.Buf16=Array,a.Buf32=Array,a.assign(a,p))},a.setTyped(c)},{}],42:[function(o,i,a){var c=o("./common"),d=!0,p=!0;try{String.fromCharCode.apply(null,[0])}catch{d=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{p=!1}for(var h=new c.Buf8(256),m=0;m<256;m++)h[m]=252<=m?6:248<=m?5:240<=m?4:224<=m?3:192<=m?2:1;function y(_,C){if(C<65537&&(_.subarray&&p||!_.subarray&&d))return String.fromCharCode.apply(null,c.shrinkBuf(_,C));for(var T="",R=0;R<C;R++)T+=String.fromCharCode(_[R]);return T}h[254]=h[254]=1,a.string2buf=function(_){var C,T,R,w,A,I=_.length,M=0;for(w=0;w<I;w++)(64512&(T=_.charCodeAt(w)))==55296&&w+1<I&&(64512&(R=_.charCodeAt(w+1)))==56320&&(T=65536+(T-55296<<10)+(R-56320),w++),M+=T<128?1:T<2048?2:T<65536?3:4;for(C=new c.Buf8(M),w=A=0;A<M;w++)(64512&(T=_.charCodeAt(w)))==55296&&w+1<I&&(64512&(R=_.charCodeAt(w+1)))==56320&&(T=65536+(T-55296<<10)+(R-56320),w++),T<128?C[A++]=T:(T<2048?C[A++]=192|T>>>6:(T<65536?C[A++]=224|T>>>12:(C[A++]=240|T>>>18,C[A++]=128|T>>>12&63),C[A++]=128|T>>>6&63),C[A++]=128|63&T);return C},a.buf2binstring=function(_){return y(_,_.length)},a.binstring2buf=function(_){for(var C=new c.Buf8(_.length),T=0,R=C.length;T<R;T++)C[T]=_.charCodeAt(T);return C},a.buf2string=function(_,C){var T,R,w,A,I=C||_.length,M=new Array(2*I);for(T=R=0;T<I;)if((w=_[T++])<128)M[R++]=w;else if(4<(A=h[w]))M[R++]=65533,T+=A-1;else{for(w&=A===2?31:A===3?15:7;1<A&&T<I;)w=w<<6|63&_[T++],A--;1<A?M[R++]=65533:w<65536?M[R++]=w:(w-=65536,M[R++]=55296|w>>10&1023,M[R++]=56320|1023&w)}return y(M,R)},a.utf8border=function(_,C){var T;for((C=C||_.length)>_.length&&(C=_.length),T=C-1;0<=T&&(192&_[T])==128;)T--;return T<0||T===0?C:T+h[_[T]]>C?T:C}},{"./common":41}],43:[function(o,i,a){i.exports=function(c,d,p,h){for(var m=65535&c|0,y=c>>>16&65535|0,_=0;p!==0;){for(p-=_=2e3<p?2e3:p;y=y+(m=m+d[h++]|0)|0,--_;);m%=65521,y%=65521}return m|y<<16|0}},{}],44:[function(o,i,a){i.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(o,i,a){var c=function(){for(var d,p=[],h=0;h<256;h++){d=h;for(var m=0;m<8;m++)d=1&d?3988292384^d>>>1:d>>>1;p[h]=d}return p}();i.exports=function(d,p,h,m){var y=c,_=m+h;d^=-1;for(var C=m;C<_;C++)d=d>>>8^y[255&(d^p[C])];return-1^d}},{}],46:[function(o,i,a){var c,d=o("../utils/common"),p=o("./trees"),h=o("./adler32"),m=o("./crc32"),y=o("./messages"),_=0,C=4,T=0,R=-2,w=-1,A=4,I=2,M=8,D=9,V=286,z=30,J=19,$=2*V+1,ne=15,q=3,re=258,me=re+q+1,U=42,ee=113,E=1,oe=2,he=3,X=4;function j(S,se){return S.msg=y[se],se}function Z(S){return(S<<1)-(4<S?9:0)}function O(S){for(var se=S.length;0<=--se;)S[se]=0}function k(S){var se=S.state,te=se.pending;te>S.avail_out&&(te=S.avail_out),te!==0&&(d.arraySet(S.output,se.pending_buf,se.pending_out,te,S.next_out),S.next_out+=te,se.pending_out+=te,S.total_out+=te,S.avail_out-=te,se.pending-=te,se.pending===0&&(se.pending_out=0))}function P(S,se){p._tr_flush_block(S,0<=S.block_start?S.block_start:-1,S.strstart-S.block_start,se),S.block_start=S.strstart,k(S.strm)}function ae(S,se){S.pending_buf[S.pending++]=se}function le(S,se){S.pending_buf[S.pending++]=se>>>8&255,S.pending_buf[S.pending++]=255&se}function ie(S,se){var te,F,N=S.max_chain_length,H=S.strstart,ue=S.prev_length,ce=S.nice_match,Y=S.strstart>S.w_size-me?S.strstart-(S.w_size-me):0,ge=S.window,Te=S.w_mask,ve=S.prev,Re=S.strstart+re,Ge=ge[H+ue-1],Le=ge[H+ue];S.prev_length>=S.good_match&&(N>>=2),ce>S.lookahead&&(ce=S.lookahead);do if(ge[(te=se)+ue]===Le&&ge[te+ue-1]===Ge&&ge[te]===ge[H]&&ge[++te]===ge[H+1]){H+=2,te++;do;while(ge[++H]===ge[++te]&&ge[++H]===ge[++te]&&ge[++H]===ge[++te]&&ge[++H]===ge[++te]&&ge[++H]===ge[++te]&&ge[++H]===ge[++te]&&ge[++H]===ge[++te]&&ge[++H]===ge[++te]&&H<Re);if(F=re-(Re-H),H=Re-re,ue<F){if(S.match_start=se,ce<=(ue=F))break;Ge=ge[H+ue-1],Le=ge[H+ue]}}while((se=ve[se&Te])>Y&&--N!=0);return ue<=S.lookahead?ue:S.lookahead}function Ae(S){var se,te,F,N,H,ue,ce,Y,ge,Te,ve=S.w_size;do{if(N=S.window_size-S.lookahead-S.strstart,S.strstart>=ve+(ve-me)){for(d.arraySet(S.window,S.window,ve,ve,0),S.match_start-=ve,S.strstart-=ve,S.block_start-=ve,se=te=S.hash_size;F=S.head[--se],S.head[se]=ve<=F?F-ve:0,--te;);for(se=te=ve;F=S.prev[--se],S.prev[se]=ve<=F?F-ve:0,--te;);N+=ve}if(S.strm.avail_in===0)break;if(ue=S.strm,ce=S.window,Y=S.strstart+S.lookahead,ge=N,Te=void 0,Te=ue.avail_in,ge<Te&&(Te=ge),te=Te===0?0:(ue.avail_in-=Te,d.arraySet(ce,ue.input,ue.next_in,Te,Y),ue.state.wrap===1?ue.adler=h(ue.adler,ce,Te,Y):ue.state.wrap===2&&(ue.adler=m(ue.adler,ce,Te,Y)),ue.next_in+=Te,ue.total_in+=Te,Te),S.lookahead+=te,S.lookahead+S.insert>=q)for(H=S.strstart-S.insert,S.ins_h=S.window[H],S.ins_h=(S.ins_h<<S.hash_shift^S.window[H+1])&S.hash_mask;S.insert&&(S.ins_h=(S.ins_h<<S.hash_shift^S.window[H+q-1])&S.hash_mask,S.prev[H&S.w_mask]=S.head[S.ins_h],S.head[S.ins_h]=H,H++,S.insert--,!(S.lookahead+S.insert<q)););}while(S.lookahead<me&&S.strm.avail_in!==0)}function Ne(S,se){for(var te,F;;){if(S.lookahead<me){if(Ae(S),S.lookahead<me&&se===_)return E;if(S.lookahead===0)break}if(te=0,S.lookahead>=q&&(S.ins_h=(S.ins_h<<S.hash_shift^S.window[S.strstart+q-1])&S.hash_mask,te=S.prev[S.strstart&S.w_mask]=S.head[S.ins_h],S.head[S.ins_h]=S.strstart),te!==0&&S.strstart-te<=S.w_size-me&&(S.match_length=ie(S,te)),S.match_length>=q)if(F=p._tr_tally(S,S.strstart-S.match_start,S.match_length-q),S.lookahead-=S.match_length,S.match_length<=S.max_lazy_match&&S.lookahead>=q){for(S.match_length--;S.strstart++,S.ins_h=(S.ins_h<<S.hash_shift^S.window[S.strstart+q-1])&S.hash_mask,te=S.prev[S.strstart&S.w_mask]=S.head[S.ins_h],S.head[S.ins_h]=S.strstart,--S.match_length!=0;);S.strstart++}else S.strstart+=S.match_length,S.match_length=0,S.ins_h=S.window[S.strstart],S.ins_h=(S.ins_h<<S.hash_shift^S.window[S.strstart+1])&S.hash_mask;else F=p._tr_tally(S,0,S.window[S.strstart]),S.lookahead--,S.strstart++;if(F&&(P(S,!1),S.strm.avail_out===0))return E}return S.insert=S.strstart<q-1?S.strstart:q-1,se===C?(P(S,!0),S.strm.avail_out===0?he:X):S.last_lit&&(P(S,!1),S.strm.avail_out===0)?E:oe}function _e(S,se){for(var te,F,N;;){if(S.lookahead<me){if(Ae(S),S.lookahead<me&&se===_)return E;if(S.lookahead===0)break}if(te=0,S.lookahead>=q&&(S.ins_h=(S.ins_h<<S.hash_shift^S.window[S.strstart+q-1])&S.hash_mask,te=S.prev[S.strstart&S.w_mask]=S.head[S.ins_h],S.head[S.ins_h]=S.strstart),S.prev_length=S.match_length,S.prev_match=S.match_start,S.match_length=q-1,te!==0&&S.prev_length<S.max_lazy_match&&S.strstart-te<=S.w_size-me&&(S.match_length=ie(S,te),S.match_length<=5&&(S.strategy===1||S.match_length===q&&4096<S.strstart-S.match_start)&&(S.match_length=q-1)),S.prev_length>=q&&S.match_length<=S.prev_length){for(N=S.strstart+S.lookahead-q,F=p._tr_tally(S,S.strstart-1-S.prev_match,S.prev_length-q),S.lookahead-=S.prev_length-1,S.prev_length-=2;++S.strstart<=N&&(S.ins_h=(S.ins_h<<S.hash_shift^S.window[S.strstart+q-1])&S.hash_mask,te=S.prev[S.strstart&S.w_mask]=S.head[S.ins_h],S.head[S.ins_h]=S.strstart),--S.prev_length!=0;);if(S.match_available=0,S.match_length=q-1,S.strstart++,F&&(P(S,!1),S.strm.avail_out===0))return E}else if(S.match_available){if((F=p._tr_tally(S,0,S.window[S.strstart-1]))&&P(S,!1),S.strstart++,S.lookahead--,S.strm.avail_out===0)return E}else S.match_available=1,S.strstart++,S.lookahead--}return S.match_available&&(F=p._tr_tally(S,0,S.window[S.strstart-1]),S.match_available=0),S.insert=S.strstart<q-1?S.strstart:q-1,se===C?(P(S,!0),S.strm.avail_out===0?he:X):S.last_lit&&(P(S,!1),S.strm.avail_out===0)?E:oe}function Ie(S,se,te,F,N){this.good_length=S,this.max_lazy=se,this.nice_length=te,this.max_chain=F,this.func=N}function ze(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=M,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new d.Buf16(2*$),this.dyn_dtree=new d.Buf16(2*(2*z+1)),this.bl_tree=new d.Buf16(2*(2*J+1)),O(this.dyn_ltree),O(this.dyn_dtree),O(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new d.Buf16(ne+1),this.heap=new d.Buf16(2*V+1),O(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new d.Buf16(2*V+1),O(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function qe(S){var se;return S&&S.state?(S.total_in=S.total_out=0,S.data_type=I,(se=S.state).pending=0,se.pending_out=0,se.wrap<0&&(se.wrap=-se.wrap),se.status=se.wrap?U:ee,S.adler=se.wrap===2?0:1,se.last_flush=_,p._tr_init(se),T):j(S,R)}function Et(S){var se=qe(S);return se===T&&function(te){te.window_size=2*te.w_size,O(te.head),te.max_lazy_match=c[te.level].max_lazy,te.good_match=c[te.level].good_length,te.nice_match=c[te.level].nice_length,te.max_chain_length=c[te.level].max_chain,te.strstart=0,te.block_start=0,te.lookahead=0,te.insert=0,te.match_length=te.prev_length=q-1,te.match_available=0,te.ins_h=0}(S.state),se}function ut(S,se,te,F,N,H){if(!S)return R;var ue=1;if(se===w&&(se=6),F<0?(ue=0,F=-F):15<F&&(ue=2,F-=16),N<1||D<N||te!==M||F<8||15<F||se<0||9<se||H<0||A<H)return j(S,R);F===8&&(F=9);var ce=new ze;return(S.state=ce).strm=S,ce.wrap=ue,ce.gzhead=null,ce.w_bits=F,ce.w_size=1<<ce.w_bits,ce.w_mask=ce.w_size-1,ce.hash_bits=N+7,ce.hash_size=1<<ce.hash_bits,ce.hash_mask=ce.hash_size-1,ce.hash_shift=~~((ce.hash_bits+q-1)/q),ce.window=new d.Buf8(2*ce.w_size),ce.head=new d.Buf16(ce.hash_size),ce.prev=new d.Buf16(ce.w_size),ce.lit_bufsize=1<<N+6,ce.pending_buf_size=4*ce.lit_bufsize,ce.pending_buf=new d.Buf8(ce.pending_buf_size),ce.d_buf=1*ce.lit_bufsize,ce.l_buf=3*ce.lit_bufsize,ce.level=se,ce.strategy=H,ce.method=te,Et(S)}c=[new Ie(0,0,0,0,function(S,se){var te=65535;for(te>S.pending_buf_size-5&&(te=S.pending_buf_size-5);;){if(S.lookahead<=1){if(Ae(S),S.lookahead===0&&se===_)return E;if(S.lookahead===0)break}S.strstart+=S.lookahead,S.lookahead=0;var F=S.block_start+te;if((S.strstart===0||S.strstart>=F)&&(S.lookahead=S.strstart-F,S.strstart=F,P(S,!1),S.strm.avail_out===0)||S.strstart-S.block_start>=S.w_size-me&&(P(S,!1),S.strm.avail_out===0))return E}return S.insert=0,se===C?(P(S,!0),S.strm.avail_out===0?he:X):(S.strstart>S.block_start&&(P(S,!1),S.strm.avail_out),E)}),new Ie(4,4,8,4,Ne),new Ie(4,5,16,8,Ne),new Ie(4,6,32,32,Ne),new Ie(4,4,16,16,_e),new Ie(8,16,32,32,_e),new Ie(8,16,128,128,_e),new Ie(8,32,128,256,_e),new Ie(32,128,258,1024,_e),new Ie(32,258,258,4096,_e)],a.deflateInit=function(S,se){return ut(S,se,M,15,8,0)},a.deflateInit2=ut,a.deflateReset=Et,a.deflateResetKeep=qe,a.deflateSetHeader=function(S,se){return S&&S.state?S.state.wrap!==2?R:(S.state.gzhead=se,T):R},a.deflate=function(S,se){var te,F,N,H;if(!S||!S.state||5<se||se<0)return S?j(S,R):R;if(F=S.state,!S.output||!S.input&&S.avail_in!==0||F.status===666&&se!==C)return j(S,S.avail_out===0?-5:R);if(F.strm=S,te=F.last_flush,F.last_flush=se,F.status===U)if(F.wrap===2)S.adler=0,ae(F,31),ae(F,139),ae(F,8),F.gzhead?(ae(F,(F.gzhead.text?1:0)+(F.gzhead.hcrc?2:0)+(F.gzhead.extra?4:0)+(F.gzhead.name?8:0)+(F.gzhead.comment?16:0)),ae(F,255&F.gzhead.time),ae(F,F.gzhead.time>>8&255),ae(F,F.gzhead.time>>16&255),ae(F,F.gzhead.time>>24&255),ae(F,F.level===9?2:2<=F.strategy||F.level<2?4:0),ae(F,255&F.gzhead.os),F.gzhead.extra&&F.gzhead.extra.length&&(ae(F,255&F.gzhead.extra.length),ae(F,F.gzhead.extra.length>>8&255)),F.gzhead.hcrc&&(S.adler=m(S.adler,F.pending_buf,F.pending,0)),F.gzindex=0,F.status=69):(ae(F,0),ae(F,0),ae(F,0),ae(F,0),ae(F,0),ae(F,F.level===9?2:2<=F.strategy||F.level<2?4:0),ae(F,3),F.status=ee);else{var ue=M+(F.w_bits-8<<4)<<8;ue|=(2<=F.strategy||F.level<2?0:F.level<6?1:F.level===6?2:3)<<6,F.strstart!==0&&(ue|=32),ue+=31-ue%31,F.status=ee,le(F,ue),F.strstart!==0&&(le(F,S.adler>>>16),le(F,65535&S.adler)),S.adler=1}if(F.status===69)if(F.gzhead.extra){for(N=F.pending;F.gzindex<(65535&F.gzhead.extra.length)&&(F.pending!==F.pending_buf_size||(F.gzhead.hcrc&&F.pending>N&&(S.adler=m(S.adler,F.pending_buf,F.pending-N,N)),k(S),N=F.pending,F.pending!==F.pending_buf_size));)ae(F,255&F.gzhead.extra[F.gzindex]),F.gzindex++;F.gzhead.hcrc&&F.pending>N&&(S.adler=m(S.adler,F.pending_buf,F.pending-N,N)),F.gzindex===F.gzhead.extra.length&&(F.gzindex=0,F.status=73)}else F.status=73;if(F.status===73)if(F.gzhead.name){N=F.pending;do{if(F.pending===F.pending_buf_size&&(F.gzhead.hcrc&&F.pending>N&&(S.adler=m(S.adler,F.pending_buf,F.pending-N,N)),k(S),N=F.pending,F.pending===F.pending_buf_size)){H=1;break}H=F.gzindex<F.gzhead.name.length?255&F.gzhead.name.charCodeAt(F.gzindex++):0,ae(F,H)}while(H!==0);F.gzhead.hcrc&&F.pending>N&&(S.adler=m(S.adler,F.pending_buf,F.pending-N,N)),H===0&&(F.gzindex=0,F.status=91)}else F.status=91;if(F.status===91)if(F.gzhead.comment){N=F.pending;do{if(F.pending===F.pending_buf_size&&(F.gzhead.hcrc&&F.pending>N&&(S.adler=m(S.adler,F.pending_buf,F.pending-N,N)),k(S),N=F.pending,F.pending===F.pending_buf_size)){H=1;break}H=F.gzindex<F.gzhead.comment.length?255&F.gzhead.comment.charCodeAt(F.gzindex++):0,ae(F,H)}while(H!==0);F.gzhead.hcrc&&F.pending>N&&(S.adler=m(S.adler,F.pending_buf,F.pending-N,N)),H===0&&(F.status=103)}else F.status=103;if(F.status===103&&(F.gzhead.hcrc?(F.pending+2>F.pending_buf_size&&k(S),F.pending+2<=F.pending_buf_size&&(ae(F,255&S.adler),ae(F,S.adler>>8&255),S.adler=0,F.status=ee)):F.status=ee),F.pending!==0){if(k(S),S.avail_out===0)return F.last_flush=-1,T}else if(S.avail_in===0&&Z(se)<=Z(te)&&se!==C)return j(S,-5);if(F.status===666&&S.avail_in!==0)return j(S,-5);if(S.avail_in!==0||F.lookahead!==0||se!==_&&F.status!==666){var ce=F.strategy===2?function(Y,ge){for(var Te;;){if(Y.lookahead===0&&(Ae(Y),Y.lookahead===0)){if(ge===_)return E;break}if(Y.match_length=0,Te=p._tr_tally(Y,0,Y.window[Y.strstart]),Y.lookahead--,Y.strstart++,Te&&(P(Y,!1),Y.strm.avail_out===0))return E}return Y.insert=0,ge===C?(P(Y,!0),Y.strm.avail_out===0?he:X):Y.last_lit&&(P(Y,!1),Y.strm.avail_out===0)?E:oe}(F,se):F.strategy===3?function(Y,ge){for(var Te,ve,Re,Ge,Le=Y.window;;){if(Y.lookahead<=re){if(Ae(Y),Y.lookahead<=re&&ge===_)return E;if(Y.lookahead===0)break}if(Y.match_length=0,Y.lookahead>=q&&0<Y.strstart&&(ve=Le[Re=Y.strstart-1])===Le[++Re]&&ve===Le[++Re]&&ve===Le[++Re]){Ge=Y.strstart+re;do;while(ve===Le[++Re]&&ve===Le[++Re]&&ve===Le[++Re]&&ve===Le[++Re]&&ve===Le[++Re]&&ve===Le[++Re]&&ve===Le[++Re]&&ve===Le[++Re]&&Re<Ge);Y.match_length=re-(Ge-Re),Y.match_length>Y.lookahead&&(Y.match_length=Y.lookahead)}if(Y.match_length>=q?(Te=p._tr_tally(Y,1,Y.match_length-q),Y.lookahead-=Y.match_length,Y.strstart+=Y.match_length,Y.match_length=0):(Te=p._tr_tally(Y,0,Y.window[Y.strstart]),Y.lookahead--,Y.strstart++),Te&&(P(Y,!1),Y.strm.avail_out===0))return E}return Y.insert=0,ge===C?(P(Y,!0),Y.strm.avail_out===0?he:X):Y.last_lit&&(P(Y,!1),Y.strm.avail_out===0)?E:oe}(F,se):c[F.level].func(F,se);if(ce!==he&&ce!==X||(F.status=666),ce===E||ce===he)return S.avail_out===0&&(F.last_flush=-1),T;if(ce===oe&&(se===1?p._tr_align(F):se!==5&&(p._tr_stored_block(F,0,0,!1),se===3&&(O(F.head),F.lookahead===0&&(F.strstart=0,F.block_start=0,F.insert=0))),k(S),S.avail_out===0))return F.last_flush=-1,T}return se!==C?T:F.wrap<=0?1:(F.wrap===2?(ae(F,255&S.adler),ae(F,S.adler>>8&255),ae(F,S.adler>>16&255),ae(F,S.adler>>24&255),ae(F,255&S.total_in),ae(F,S.total_in>>8&255),ae(F,S.total_in>>16&255),ae(F,S.total_in>>24&255)):(le(F,S.adler>>>16),le(F,65535&S.adler)),k(S),0<F.wrap&&(F.wrap=-F.wrap),F.pending!==0?T:1)},a.deflateEnd=function(S){var se;return S&&S.state?(se=S.state.status)!==U&&se!==69&&se!==73&&se!==91&&se!==103&&se!==ee&&se!==666?j(S,R):(S.state=null,se===ee?j(S,-3):T):R},a.deflateSetDictionary=function(S,se){var te,F,N,H,ue,ce,Y,ge,Te=se.length;if(!S||!S.state||(H=(te=S.state).wrap)===2||H===1&&te.status!==U||te.lookahead)return R;for(H===1&&(S.adler=h(S.adler,se,Te,0)),te.wrap=0,Te>=te.w_size&&(H===0&&(O(te.head),te.strstart=0,te.block_start=0,te.insert=0),ge=new d.Buf8(te.w_size),d.arraySet(ge,se,Te-te.w_size,te.w_size,0),se=ge,Te=te.w_size),ue=S.avail_in,ce=S.next_in,Y=S.input,S.avail_in=Te,S.next_in=0,S.input=se,Ae(te);te.lookahead>=q;){for(F=te.strstart,N=te.lookahead-(q-1);te.ins_h=(te.ins_h<<te.hash_shift^te.window[F+q-1])&te.hash_mask,te.prev[F&te.w_mask]=te.head[te.ins_h],te.head[te.ins_h]=F,F++,--N;);te.strstart=F,te.lookahead=q-1,Ae(te)}return te.strstart+=te.lookahead,te.block_start=te.strstart,te.insert=te.lookahead,te.lookahead=0,te.match_length=te.prev_length=q-1,te.match_available=0,S.next_in=ce,S.input=Y,S.avail_in=ue,te.wrap=H,T},a.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(o,i,a){i.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(o,i,a){i.exports=function(c,d){var p,h,m,y,_,C,T,R,w,A,I,M,D,V,z,J,$,ne,q,re,me,U,ee,E,oe;p=c.state,h=c.next_in,E=c.input,m=h+(c.avail_in-5),y=c.next_out,oe=c.output,_=y-(d-c.avail_out),C=y+(c.avail_out-257),T=p.dmax,R=p.wsize,w=p.whave,A=p.wnext,I=p.window,M=p.hold,D=p.bits,V=p.lencode,z=p.distcode,J=(1<<p.lenbits)-1,$=(1<<p.distbits)-1;e:do{D<15&&(M+=E[h++]<<D,D+=8,M+=E[h++]<<D,D+=8),ne=V[M&J];t:for(;;){if(M>>>=q=ne>>>24,D-=q,(q=ne>>>16&255)===0)oe[y++]=65535&ne;else{if(!(16&q)){if((64&q)==0){ne=V[(65535&ne)+(M&(1<<q)-1)];continue t}if(32&q){p.mode=12;break e}c.msg="invalid literal/length code",p.mode=30;break e}re=65535&ne,(q&=15)&&(D<q&&(M+=E[h++]<<D,D+=8),re+=M&(1<<q)-1,M>>>=q,D-=q),D<15&&(M+=E[h++]<<D,D+=8,M+=E[h++]<<D,D+=8),ne=z[M&$];n:for(;;){if(M>>>=q=ne>>>24,D-=q,!(16&(q=ne>>>16&255))){if((64&q)==0){ne=z[(65535&ne)+(M&(1<<q)-1)];continue n}c.msg="invalid distance code",p.mode=30;break e}if(me=65535&ne,D<(q&=15)&&(M+=E[h++]<<D,(D+=8)<q&&(M+=E[h++]<<D,D+=8)),T<(me+=M&(1<<q)-1)){c.msg="invalid distance too far back",p.mode=30;break e}if(M>>>=q,D-=q,(q=y-_)<me){if(w<(q=me-q)&&p.sane){c.msg="invalid distance too far back",p.mode=30;break e}if(ee=I,(U=0)===A){if(U+=R-q,q<re){for(re-=q;oe[y++]=I[U++],--q;);U=y-me,ee=oe}}else if(A<q){if(U+=R+A-q,(q-=A)<re){for(re-=q;oe[y++]=I[U++],--q;);if(U=0,A<re){for(re-=q=A;oe[y++]=I[U++],--q;);U=y-me,ee=oe}}}else if(U+=A-q,q<re){for(re-=q;oe[y++]=I[U++],--q;);U=y-me,ee=oe}for(;2<re;)oe[y++]=ee[U++],oe[y++]=ee[U++],oe[y++]=ee[U++],re-=3;re&&(oe[y++]=ee[U++],1<re&&(oe[y++]=ee[U++]))}else{for(U=y-me;oe[y++]=oe[U++],oe[y++]=oe[U++],oe[y++]=oe[U++],2<(re-=3););re&&(oe[y++]=oe[U++],1<re&&(oe[y++]=oe[U++]))}break}}break}}while(h<m&&y<C);h-=re=D>>3,M&=(1<<(D-=re<<3))-1,c.next_in=h,c.next_out=y,c.avail_in=h<m?m-h+5:5-(h-m),c.avail_out=y<C?C-y+257:257-(y-C),p.hold=M,p.bits=D}},{}],49:[function(o,i,a){var c=o("../utils/common"),d=o("./adler32"),p=o("./crc32"),h=o("./inffast"),m=o("./inftrees"),y=1,_=2,C=0,T=-2,R=1,w=852,A=592;function I(U){return(U>>>24&255)+(U>>>8&65280)+((65280&U)<<8)+((255&U)<<24)}function M(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new c.Buf16(320),this.work=new c.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function D(U){var ee;return U&&U.state?(ee=U.state,U.total_in=U.total_out=ee.total=0,U.msg="",ee.wrap&&(U.adler=1&ee.wrap),ee.mode=R,ee.last=0,ee.havedict=0,ee.dmax=32768,ee.head=null,ee.hold=0,ee.bits=0,ee.lencode=ee.lendyn=new c.Buf32(w),ee.distcode=ee.distdyn=new c.Buf32(A),ee.sane=1,ee.back=-1,C):T}function V(U){var ee;return U&&U.state?((ee=U.state).wsize=0,ee.whave=0,ee.wnext=0,D(U)):T}function z(U,ee){var E,oe;return U&&U.state?(oe=U.state,ee<0?(E=0,ee=-ee):(E=1+(ee>>4),ee<48&&(ee&=15)),ee&&(ee<8||15<ee)?T:(oe.window!==null&&oe.wbits!==ee&&(oe.window=null),oe.wrap=E,oe.wbits=ee,V(U))):T}function J(U,ee){var E,oe;return U?(oe=new M,(U.state=oe).window=null,(E=z(U,ee))!==C&&(U.state=null),E):T}var $,ne,q=!0;function re(U){if(q){var ee;for($=new c.Buf32(512),ne=new c.Buf32(32),ee=0;ee<144;)U.lens[ee++]=8;for(;ee<256;)U.lens[ee++]=9;for(;ee<280;)U.lens[ee++]=7;for(;ee<288;)U.lens[ee++]=8;for(m(y,U.lens,0,288,$,0,U.work,{bits:9}),ee=0;ee<32;)U.lens[ee++]=5;m(_,U.lens,0,32,ne,0,U.work,{bits:5}),q=!1}U.lencode=$,U.lenbits=9,U.distcode=ne,U.distbits=5}function me(U,ee,E,oe){var he,X=U.state;return X.window===null&&(X.wsize=1<<X.wbits,X.wnext=0,X.whave=0,X.window=new c.Buf8(X.wsize)),oe>=X.wsize?(c.arraySet(X.window,ee,E-X.wsize,X.wsize,0),X.wnext=0,X.whave=X.wsize):(oe<(he=X.wsize-X.wnext)&&(he=oe),c.arraySet(X.window,ee,E-oe,he,X.wnext),(oe-=he)?(c.arraySet(X.window,ee,E-oe,oe,0),X.wnext=oe,X.whave=X.wsize):(X.wnext+=he,X.wnext===X.wsize&&(X.wnext=0),X.whave<X.wsize&&(X.whave+=he))),0}a.inflateReset=V,a.inflateReset2=z,a.inflateResetKeep=D,a.inflateInit=function(U){return J(U,15)},a.inflateInit2=J,a.inflate=function(U,ee){var E,oe,he,X,j,Z,O,k,P,ae,le,ie,Ae,Ne,_e,Ie,ze,qe,Et,ut,S,se,te,F,N=0,H=new c.Buf8(4),ue=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!U||!U.state||!U.output||!U.input&&U.avail_in!==0)return T;(E=U.state).mode===12&&(E.mode=13),j=U.next_out,he=U.output,O=U.avail_out,X=U.next_in,oe=U.input,Z=U.avail_in,k=E.hold,P=E.bits,ae=Z,le=O,se=C;e:for(;;)switch(E.mode){case R:if(E.wrap===0){E.mode=13;break}for(;P<16;){if(Z===0)break e;Z--,k+=oe[X++]<<P,P+=8}if(2&E.wrap&&k===35615){H[E.check=0]=255&k,H[1]=k>>>8&255,E.check=p(E.check,H,2,0),P=k=0,E.mode=2;break}if(E.flags=0,E.head&&(E.head.done=!1),!(1&E.wrap)||(((255&k)<<8)+(k>>8))%31){U.msg="incorrect header check",E.mode=30;break}if((15&k)!=8){U.msg="unknown compression method",E.mode=30;break}if(P-=4,S=8+(15&(k>>>=4)),E.wbits===0)E.wbits=S;else if(S>E.wbits){U.msg="invalid window size",E.mode=30;break}E.dmax=1<<S,U.adler=E.check=1,E.mode=512&k?10:12,P=k=0;break;case 2:for(;P<16;){if(Z===0)break e;Z--,k+=oe[X++]<<P,P+=8}if(E.flags=k,(255&E.flags)!=8){U.msg="unknown compression method",E.mode=30;break}if(57344&E.flags){U.msg="unknown header flags set",E.mode=30;break}E.head&&(E.head.text=k>>8&1),512&E.flags&&(H[0]=255&k,H[1]=k>>>8&255,E.check=p(E.check,H,2,0)),P=k=0,E.mode=3;case 3:for(;P<32;){if(Z===0)break e;Z--,k+=oe[X++]<<P,P+=8}E.head&&(E.head.time=k),512&E.flags&&(H[0]=255&k,H[1]=k>>>8&255,H[2]=k>>>16&255,H[3]=k>>>24&255,E.check=p(E.check,H,4,0)),P=k=0,E.mode=4;case 4:for(;P<16;){if(Z===0)break e;Z--,k+=oe[X++]<<P,P+=8}E.head&&(E.head.xflags=255&k,E.head.os=k>>8),512&E.flags&&(H[0]=255&k,H[1]=k>>>8&255,E.check=p(E.check,H,2,0)),P=k=0,E.mode=5;case 5:if(1024&E.flags){for(;P<16;){if(Z===0)break e;Z--,k+=oe[X++]<<P,P+=8}E.length=k,E.head&&(E.head.extra_len=k),512&E.flags&&(H[0]=255&k,H[1]=k>>>8&255,E.check=p(E.check,H,2,0)),P=k=0}else E.head&&(E.head.extra=null);E.mode=6;case 6:if(1024&E.flags&&(Z<(ie=E.length)&&(ie=Z),ie&&(E.head&&(S=E.head.extra_len-E.length,E.head.extra||(E.head.extra=new Array(E.head.extra_len)),c.arraySet(E.head.extra,oe,X,ie,S)),512&E.flags&&(E.check=p(E.check,oe,ie,X)),Z-=ie,X+=ie,E.length-=ie),E.length))break e;E.length=0,E.mode=7;case 7:if(2048&E.flags){if(Z===0)break e;for(ie=0;S=oe[X+ie++],E.head&&S&&E.length<65536&&(E.head.name+=String.fromCharCode(S)),S&&ie<Z;);if(512&E.flags&&(E.check=p(E.check,oe,ie,X)),Z-=ie,X+=ie,S)break e}else E.head&&(E.head.name=null);E.length=0,E.mode=8;case 8:if(4096&E.flags){if(Z===0)break e;for(ie=0;S=oe[X+ie++],E.head&&S&&E.length<65536&&(E.head.comment+=String.fromCharCode(S)),S&&ie<Z;);if(512&E.flags&&(E.check=p(E.check,oe,ie,X)),Z-=ie,X+=ie,S)break e}else E.head&&(E.head.comment=null);E.mode=9;case 9:if(512&E.flags){for(;P<16;){if(Z===0)break e;Z--,k+=oe[X++]<<P,P+=8}if(k!==(65535&E.check)){U.msg="header crc mismatch",E.mode=30;break}P=k=0}E.head&&(E.head.hcrc=E.flags>>9&1,E.head.done=!0),U.adler=E.check=0,E.mode=12;break;case 10:for(;P<32;){if(Z===0)break e;Z--,k+=oe[X++]<<P,P+=8}U.adler=E.check=I(k),P=k=0,E.mode=11;case 11:if(E.havedict===0)return U.next_out=j,U.avail_out=O,U.next_in=X,U.avail_in=Z,E.hold=k,E.bits=P,2;U.adler=E.check=1,E.mode=12;case 12:if(ee===5||ee===6)break e;case 13:if(E.last){k>>>=7&P,P-=7&P,E.mode=27;break}for(;P<3;){if(Z===0)break e;Z--,k+=oe[X++]<<P,P+=8}switch(E.last=1&k,P-=1,3&(k>>>=1)){case 0:E.mode=14;break;case 1:if(re(E),E.mode=20,ee!==6)break;k>>>=2,P-=2;break e;case 2:E.mode=17;break;case 3:U.msg="invalid block type",E.mode=30}k>>>=2,P-=2;break;case 14:for(k>>>=7&P,P-=7&P;P<32;){if(Z===0)break e;Z--,k+=oe[X++]<<P,P+=8}if((65535&k)!=(k>>>16^65535)){U.msg="invalid stored block lengths",E.mode=30;break}if(E.length=65535&k,P=k=0,E.mode=15,ee===6)break e;case 15:E.mode=16;case 16:if(ie=E.length){if(Z<ie&&(ie=Z),O<ie&&(ie=O),ie===0)break e;c.arraySet(he,oe,X,ie,j),Z-=ie,X+=ie,O-=ie,j+=ie,E.length-=ie;break}E.mode=12;break;case 17:for(;P<14;){if(Z===0)break e;Z--,k+=oe[X++]<<P,P+=8}if(E.nlen=257+(31&k),k>>>=5,P-=5,E.ndist=1+(31&k),k>>>=5,P-=5,E.ncode=4+(15&k),k>>>=4,P-=4,286<E.nlen||30<E.ndist){U.msg="too many length or distance symbols",E.mode=30;break}E.have=0,E.mode=18;case 18:for(;E.have<E.ncode;){for(;P<3;){if(Z===0)break e;Z--,k+=oe[X++]<<P,P+=8}E.lens[ue[E.have++]]=7&k,k>>>=3,P-=3}for(;E.have<19;)E.lens[ue[E.have++]]=0;if(E.lencode=E.lendyn,E.lenbits=7,te={bits:E.lenbits},se=m(0,E.lens,0,19,E.lencode,0,E.work,te),E.lenbits=te.bits,se){U.msg="invalid code lengths set",E.mode=30;break}E.have=0,E.mode=19;case 19:for(;E.have<E.nlen+E.ndist;){for(;Ie=(N=E.lencode[k&(1<<E.lenbits)-1])>>>16&255,ze=65535&N,!((_e=N>>>24)<=P);){if(Z===0)break e;Z--,k+=oe[X++]<<P,P+=8}if(ze<16)k>>>=_e,P-=_e,E.lens[E.have++]=ze;else{if(ze===16){for(F=_e+2;P<F;){if(Z===0)break e;Z--,k+=oe[X++]<<P,P+=8}if(k>>>=_e,P-=_e,E.have===0){U.msg="invalid bit length repeat",E.mode=30;break}S=E.lens[E.have-1],ie=3+(3&k),k>>>=2,P-=2}else if(ze===17){for(F=_e+3;P<F;){if(Z===0)break e;Z--,k+=oe[X++]<<P,P+=8}P-=_e,S=0,ie=3+(7&(k>>>=_e)),k>>>=3,P-=3}else{for(F=_e+7;P<F;){if(Z===0)break e;Z--,k+=oe[X++]<<P,P+=8}P-=_e,S=0,ie=11+(127&(k>>>=_e)),k>>>=7,P-=7}if(E.have+ie>E.nlen+E.ndist){U.msg="invalid bit length repeat",E.mode=30;break}for(;ie--;)E.lens[E.have++]=S}}if(E.mode===30)break;if(E.lens[256]===0){U.msg="invalid code -- missing end-of-block",E.mode=30;break}if(E.lenbits=9,te={bits:E.lenbits},se=m(y,E.lens,0,E.nlen,E.lencode,0,E.work,te),E.lenbits=te.bits,se){U.msg="invalid literal/lengths set",E.mode=30;break}if(E.distbits=6,E.distcode=E.distdyn,te={bits:E.distbits},se=m(_,E.lens,E.nlen,E.ndist,E.distcode,0,E.work,te),E.distbits=te.bits,se){U.msg="invalid distances set",E.mode=30;break}if(E.mode=20,ee===6)break e;case 20:E.mode=21;case 21:if(6<=Z&&258<=O){U.next_out=j,U.avail_out=O,U.next_in=X,U.avail_in=Z,E.hold=k,E.bits=P,h(U,le),j=U.next_out,he=U.output,O=U.avail_out,X=U.next_in,oe=U.input,Z=U.avail_in,k=E.hold,P=E.bits,E.mode===12&&(E.back=-1);break}for(E.back=0;Ie=(N=E.lencode[k&(1<<E.lenbits)-1])>>>16&255,ze=65535&N,!((_e=N>>>24)<=P);){if(Z===0)break e;Z--,k+=oe[X++]<<P,P+=8}if(Ie&&(240&Ie)==0){for(qe=_e,Et=Ie,ut=ze;Ie=(N=E.lencode[ut+((k&(1<<qe+Et)-1)>>qe)])>>>16&255,ze=65535&N,!(qe+(_e=N>>>24)<=P);){if(Z===0)break e;Z--,k+=oe[X++]<<P,P+=8}k>>>=qe,P-=qe,E.back+=qe}if(k>>>=_e,P-=_e,E.back+=_e,E.length=ze,Ie===0){E.mode=26;break}if(32&Ie){E.back=-1,E.mode=12;break}if(64&Ie){U.msg="invalid literal/length code",E.mode=30;break}E.extra=15&Ie,E.mode=22;case 22:if(E.extra){for(F=E.extra;P<F;){if(Z===0)break e;Z--,k+=oe[X++]<<P,P+=8}E.length+=k&(1<<E.extra)-1,k>>>=E.extra,P-=E.extra,E.back+=E.extra}E.was=E.length,E.mode=23;case 23:for(;Ie=(N=E.distcode[k&(1<<E.distbits)-1])>>>16&255,ze=65535&N,!((_e=N>>>24)<=P);){if(Z===0)break e;Z--,k+=oe[X++]<<P,P+=8}if((240&Ie)==0){for(qe=_e,Et=Ie,ut=ze;Ie=(N=E.distcode[ut+((k&(1<<qe+Et)-1)>>qe)])>>>16&255,ze=65535&N,!(qe+(_e=N>>>24)<=P);){if(Z===0)break e;Z--,k+=oe[X++]<<P,P+=8}k>>>=qe,P-=qe,E.back+=qe}if(k>>>=_e,P-=_e,E.back+=_e,64&Ie){U.msg="invalid distance code",E.mode=30;break}E.offset=ze,E.extra=15&Ie,E.mode=24;case 24:if(E.extra){for(F=E.extra;P<F;){if(Z===0)break e;Z--,k+=oe[X++]<<P,P+=8}E.offset+=k&(1<<E.extra)-1,k>>>=E.extra,P-=E.extra,E.back+=E.extra}if(E.offset>E.dmax){U.msg="invalid distance too far back",E.mode=30;break}E.mode=25;case 25:if(O===0)break e;if(ie=le-O,E.offset>ie){if((ie=E.offset-ie)>E.whave&&E.sane){U.msg="invalid distance too far back",E.mode=30;break}Ae=ie>E.wnext?(ie-=E.wnext,E.wsize-ie):E.wnext-ie,ie>E.length&&(ie=E.length),Ne=E.window}else Ne=he,Ae=j-E.offset,ie=E.length;for(O<ie&&(ie=O),O-=ie,E.length-=ie;he[j++]=Ne[Ae++],--ie;);E.length===0&&(E.mode=21);break;case 26:if(O===0)break e;he[j++]=E.length,O--,E.mode=21;break;case 27:if(E.wrap){for(;P<32;){if(Z===0)break e;Z--,k|=oe[X++]<<P,P+=8}if(le-=O,U.total_out+=le,E.total+=le,le&&(U.adler=E.check=E.flags?p(E.check,he,le,j-le):d(E.check,he,le,j-le)),le=O,(E.flags?k:I(k))!==E.check){U.msg="incorrect data check",E.mode=30;break}P=k=0}E.mode=28;case 28:if(E.wrap&&E.flags){for(;P<32;){if(Z===0)break e;Z--,k+=oe[X++]<<P,P+=8}if(k!==(4294967295&E.total)){U.msg="incorrect length check",E.mode=30;break}P=k=0}E.mode=29;case 29:se=1;break e;case 30:se=-3;break e;case 31:return-4;case 32:default:return T}return U.next_out=j,U.avail_out=O,U.next_in=X,U.avail_in=Z,E.hold=k,E.bits=P,(E.wsize||le!==U.avail_out&&E.mode<30&&(E.mode<27||ee!==4))&&me(U,U.output,U.next_out,le-U.avail_out)?(E.mode=31,-4):(ae-=U.avail_in,le-=U.avail_out,U.total_in+=ae,U.total_out+=le,E.total+=le,E.wrap&&le&&(U.adler=E.check=E.flags?p(E.check,he,le,U.next_out-le):d(E.check,he,le,U.next_out-le)),U.data_type=E.bits+(E.last?64:0)+(E.mode===12?128:0)+(E.mode===20||E.mode===15?256:0),(ae==0&&le===0||ee===4)&&se===C&&(se=-5),se)},a.inflateEnd=function(U){if(!U||!U.state)return T;var ee=U.state;return ee.window&&(ee.window=null),U.state=null,C},a.inflateGetHeader=function(U,ee){var E;return U&&U.state?(2&(E=U.state).wrap)==0?T:((E.head=ee).done=!1,C):T},a.inflateSetDictionary=function(U,ee){var E,oe=ee.length;return U&&U.state?(E=U.state).wrap!==0&&E.mode!==11?T:E.mode===11&&d(1,ee,oe,0)!==E.check?-3:me(U,ee,oe,oe)?(E.mode=31,-4):(E.havedict=1,C):T},a.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(o,i,a){var c=o("../utils/common"),d=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],p=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],h=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],m=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];i.exports=function(y,_,C,T,R,w,A,I){var M,D,V,z,J,$,ne,q,re,me=I.bits,U=0,ee=0,E=0,oe=0,he=0,X=0,j=0,Z=0,O=0,k=0,P=null,ae=0,le=new c.Buf16(16),ie=new c.Buf16(16),Ae=null,Ne=0;for(U=0;U<=15;U++)le[U]=0;for(ee=0;ee<T;ee++)le[_[C+ee]]++;for(he=me,oe=15;1<=oe&&le[oe]===0;oe--);if(oe<he&&(he=oe),oe===0)return R[w++]=20971520,R[w++]=20971520,I.bits=1,0;for(E=1;E<oe&&le[E]===0;E++);for(he<E&&(he=E),U=Z=1;U<=15;U++)if(Z<<=1,(Z-=le[U])<0)return-1;if(0<Z&&(y===0||oe!==1))return-1;for(ie[1]=0,U=1;U<15;U++)ie[U+1]=ie[U]+le[U];for(ee=0;ee<T;ee++)_[C+ee]!==0&&(A[ie[_[C+ee]]++]=ee);if($=y===0?(P=Ae=A,19):y===1?(P=d,ae-=257,Ae=p,Ne-=257,256):(P=h,Ae=m,-1),U=E,J=w,j=ee=k=0,V=-1,z=(O=1<<(X=he))-1,y===1&&852<O||y===2&&592<O)return 1;for(;;){for(ne=U-j,re=A[ee]<$?(q=0,A[ee]):A[ee]>$?(q=Ae[Ne+A[ee]],P[ae+A[ee]]):(q=96,0),M=1<<U-j,E=D=1<<X;R[J+(k>>j)+(D-=M)]=ne<<24|q<<16|re|0,D!==0;);for(M=1<<U-1;k&M;)M>>=1;if(M!==0?(k&=M-1,k+=M):k=0,ee++,--le[U]==0){if(U===oe)break;U=_[C+A[ee]]}if(he<U&&(k&z)!==V){for(j===0&&(j=he),J+=E,Z=1<<(X=U-j);X+j<oe&&!((Z-=le[X+j])<=0);)X++,Z<<=1;if(O+=1<<X,y===1&&852<O||y===2&&592<O)return 1;R[V=k&z]=he<<24|X<<16|J-w|0}}return k!==0&&(R[J+k]=U-j<<24|64<<16|0),I.bits=he,0}},{"../utils/common":41}],51:[function(o,i,a){i.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(o,i,a){var c=o("../utils/common"),d=0,p=1;function h(N){for(var H=N.length;0<=--H;)N[H]=0}var m=0,y=29,_=256,C=_+1+y,T=30,R=19,w=2*C+1,A=15,I=16,M=7,D=256,V=16,z=17,J=18,$=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],ne=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],q=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],re=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],me=new Array(2*(C+2));h(me);var U=new Array(2*T);h(U);var ee=new Array(512);h(ee);var E=new Array(256);h(E);var oe=new Array(y);h(oe);var he,X,j,Z=new Array(T);function O(N,H,ue,ce,Y){this.static_tree=N,this.extra_bits=H,this.extra_base=ue,this.elems=ce,this.max_length=Y,this.has_stree=N&&N.length}function k(N,H){this.dyn_tree=N,this.max_code=0,this.stat_desc=H}function P(N){return N<256?ee[N]:ee[256+(N>>>7)]}function ae(N,H){N.pending_buf[N.pending++]=255&H,N.pending_buf[N.pending++]=H>>>8&255}function le(N,H,ue){N.bi_valid>I-ue?(N.bi_buf|=H<<N.bi_valid&65535,ae(N,N.bi_buf),N.bi_buf=H>>I-N.bi_valid,N.bi_valid+=ue-I):(N.bi_buf|=H<<N.bi_valid&65535,N.bi_valid+=ue)}function ie(N,H,ue){le(N,ue[2*H],ue[2*H+1])}function Ae(N,H){for(var ue=0;ue|=1&N,N>>>=1,ue<<=1,0<--H;);return ue>>>1}function Ne(N,H,ue){var ce,Y,ge=new Array(A+1),Te=0;for(ce=1;ce<=A;ce++)ge[ce]=Te=Te+ue[ce-1]<<1;for(Y=0;Y<=H;Y++){var ve=N[2*Y+1];ve!==0&&(N[2*Y]=Ae(ge[ve]++,ve))}}function _e(N){var H;for(H=0;H<C;H++)N.dyn_ltree[2*H]=0;for(H=0;H<T;H++)N.dyn_dtree[2*H]=0;for(H=0;H<R;H++)N.bl_tree[2*H]=0;N.dyn_ltree[2*D]=1,N.opt_len=N.static_len=0,N.last_lit=N.matches=0}function Ie(N){8<N.bi_valid?ae(N,N.bi_buf):0<N.bi_valid&&(N.pending_buf[N.pending++]=N.bi_buf),N.bi_buf=0,N.bi_valid=0}function ze(N,H,ue,ce){var Y=2*H,ge=2*ue;return N[Y]<N[ge]||N[Y]===N[ge]&&ce[H]<=ce[ue]}function qe(N,H,ue){for(var ce=N.heap[ue],Y=ue<<1;Y<=N.heap_len&&(Y<N.heap_len&&ze(H,N.heap[Y+1],N.heap[Y],N.depth)&&Y++,!ze(H,ce,N.heap[Y],N.depth));)N.heap[ue]=N.heap[Y],ue=Y,Y<<=1;N.heap[ue]=ce}function Et(N,H,ue){var ce,Y,ge,Te,ve=0;if(N.last_lit!==0)for(;ce=N.pending_buf[N.d_buf+2*ve]<<8|N.pending_buf[N.d_buf+2*ve+1],Y=N.pending_buf[N.l_buf+ve],ve++,ce===0?ie(N,Y,H):(ie(N,(ge=E[Y])+_+1,H),(Te=$[ge])!==0&&le(N,Y-=oe[ge],Te),ie(N,ge=P(--ce),ue),(Te=ne[ge])!==0&&le(N,ce-=Z[ge],Te)),ve<N.last_lit;);ie(N,D,H)}function ut(N,H){var ue,ce,Y,ge=H.dyn_tree,Te=H.stat_desc.static_tree,ve=H.stat_desc.has_stree,Re=H.stat_desc.elems,Ge=-1;for(N.heap_len=0,N.heap_max=w,ue=0;ue<Re;ue++)ge[2*ue]!==0?(N.heap[++N.heap_len]=Ge=ue,N.depth[ue]=0):ge[2*ue+1]=0;for(;N.heap_len<2;)ge[2*(Y=N.heap[++N.heap_len]=Ge<2?++Ge:0)]=1,N.depth[Y]=0,N.opt_len--,ve&&(N.static_len-=Te[2*Y+1]);for(H.max_code=Ge,ue=N.heap_len>>1;1<=ue;ue--)qe(N,ge,ue);for(Y=Re;ue=N.heap[1],N.heap[1]=N.heap[N.heap_len--],qe(N,ge,1),ce=N.heap[1],N.heap[--N.heap_max]=ue,N.heap[--N.heap_max]=ce,ge[2*Y]=ge[2*ue]+ge[2*ce],N.depth[Y]=(N.depth[ue]>=N.depth[ce]?N.depth[ue]:N.depth[ce])+1,ge[2*ue+1]=ge[2*ce+1]=Y,N.heap[1]=Y++,qe(N,ge,1),2<=N.heap_len;);N.heap[--N.heap_max]=N.heap[1],function(Le,gt){var Bt,ct,Mn,Ke,Pn,Mo,kt=gt.dyn_tree,Xn=gt.max_code,Po=gt.stat_desc.static_tree,No=gt.stat_desc.has_stree,Do=gt.stat_desc.extra_bits,jt=gt.stat_desc.extra_base,Pt=gt.stat_desc.max_length,Nn=0;for(Ke=0;Ke<=A;Ke++)Le.bl_count[Ke]=0;for(kt[2*Le.heap[Le.heap_max]+1]=0,Bt=Le.heap_max+1;Bt<w;Bt++)Pt<(Ke=kt[2*kt[2*(ct=Le.heap[Bt])+1]+1]+1)&&(Ke=Pt,Nn++),kt[2*ct+1]=Ke,Xn<ct||(Le.bl_count[Ke]++,Pn=0,jt<=ct&&(Pn=Do[ct-jt]),Mo=kt[2*ct],Le.opt_len+=Mo*(Ke+Pn),No&&(Le.static_len+=Mo*(Po[2*ct+1]+Pn)));if(Nn!==0){do{for(Ke=Pt-1;Le.bl_count[Ke]===0;)Ke--;Le.bl_count[Ke]--,Le.bl_count[Ke+1]+=2,Le.bl_count[Pt]--,Nn-=2}while(0<Nn);for(Ke=Pt;Ke!==0;Ke--)for(ct=Le.bl_count[Ke];ct!==0;)Xn<(Mn=Le.heap[--Bt])||(kt[2*Mn+1]!==Ke&&(Le.opt_len+=(Ke-kt[2*Mn+1])*kt[2*Mn],kt[2*Mn+1]=Ke),ct--)}}(N,H),Ne(ge,Ge,N.bl_count)}function S(N,H,ue){var ce,Y,ge=-1,Te=H[1],ve=0,Re=7,Ge=4;for(Te===0&&(Re=138,Ge=3),H[2*(ue+1)+1]=65535,ce=0;ce<=ue;ce++)Y=Te,Te=H[2*(ce+1)+1],++ve<Re&&Y===Te||(ve<Ge?N.bl_tree[2*Y]+=ve:Y!==0?(Y!==ge&&N.bl_tree[2*Y]++,N.bl_tree[2*V]++):ve<=10?N.bl_tree[2*z]++:N.bl_tree[2*J]++,ge=Y,Ge=(ve=0)===Te?(Re=138,3):Y===Te?(Re=6,3):(Re=7,4))}function se(N,H,ue){var ce,Y,ge=-1,Te=H[1],ve=0,Re=7,Ge=4;for(Te===0&&(Re=138,Ge=3),ce=0;ce<=ue;ce++)if(Y=Te,Te=H[2*(ce+1)+1],!(++ve<Re&&Y===Te)){if(ve<Ge)for(;ie(N,Y,N.bl_tree),--ve!=0;);else Y!==0?(Y!==ge&&(ie(N,Y,N.bl_tree),ve--),ie(N,V,N.bl_tree),le(N,ve-3,2)):ve<=10?(ie(N,z,N.bl_tree),le(N,ve-3,3)):(ie(N,J,N.bl_tree),le(N,ve-11,7));ge=Y,Ge=(ve=0)===Te?(Re=138,3):Y===Te?(Re=6,3):(Re=7,4)}}h(Z);var te=!1;function F(N,H,ue,ce){le(N,(m<<1)+(ce?1:0),3),function(Y,ge,Te,ve){Ie(Y),ae(Y,Te),ae(Y,~Te),c.arraySet(Y.pending_buf,Y.window,ge,Te,Y.pending),Y.pending+=Te}(N,H,ue)}a._tr_init=function(N){te||(function(){var H,ue,ce,Y,ge,Te=new Array(A+1);for(Y=ce=0;Y<y-1;Y++)for(oe[Y]=ce,H=0;H<1<<$[Y];H++)E[ce++]=Y;for(E[ce-1]=Y,Y=ge=0;Y<16;Y++)for(Z[Y]=ge,H=0;H<1<<ne[Y];H++)ee[ge++]=Y;for(ge>>=7;Y<T;Y++)for(Z[Y]=ge<<7,H=0;H<1<<ne[Y]-7;H++)ee[256+ge++]=Y;for(ue=0;ue<=A;ue++)Te[ue]=0;for(H=0;H<=143;)me[2*H+1]=8,H++,Te[8]++;for(;H<=255;)me[2*H+1]=9,H++,Te[9]++;for(;H<=279;)me[2*H+1]=7,H++,Te[7]++;for(;H<=287;)me[2*H+1]=8,H++,Te[8]++;for(Ne(me,C+1,Te),H=0;H<T;H++)U[2*H+1]=5,U[2*H]=Ae(H,5);he=new O(me,$,_+1,C,A),X=new O(U,ne,0,T,A),j=new O(new Array(0),q,0,R,M)}(),te=!0),N.l_desc=new k(N.dyn_ltree,he),N.d_desc=new k(N.dyn_dtree,X),N.bl_desc=new k(N.bl_tree,j),N.bi_buf=0,N.bi_valid=0,_e(N)},a._tr_stored_block=F,a._tr_flush_block=function(N,H,ue,ce){var Y,ge,Te=0;0<N.level?(N.strm.data_type===2&&(N.strm.data_type=function(ve){var Re,Ge=4093624447;for(Re=0;Re<=31;Re++,Ge>>>=1)if(1&Ge&&ve.dyn_ltree[2*Re]!==0)return d;if(ve.dyn_ltree[18]!==0||ve.dyn_ltree[20]!==0||ve.dyn_ltree[26]!==0)return p;for(Re=32;Re<_;Re++)if(ve.dyn_ltree[2*Re]!==0)return p;return d}(N)),ut(N,N.l_desc),ut(N,N.d_desc),Te=function(ve){var Re;for(S(ve,ve.dyn_ltree,ve.l_desc.max_code),S(ve,ve.dyn_dtree,ve.d_desc.max_code),ut(ve,ve.bl_desc),Re=R-1;3<=Re&&ve.bl_tree[2*re[Re]+1]===0;Re--);return ve.opt_len+=3*(Re+1)+5+5+4,Re}(N),Y=N.opt_len+3+7>>>3,(ge=N.static_len+3+7>>>3)<=Y&&(Y=ge)):Y=ge=ue+5,ue+4<=Y&&H!==-1?F(N,H,ue,ce):N.strategy===4||ge===Y?(le(N,2+(ce?1:0),3),Et(N,me,U)):(le(N,4+(ce?1:0),3),function(ve,Re,Ge,Le){var gt;for(le(ve,Re-257,5),le(ve,Ge-1,5),le(ve,Le-4,4),gt=0;gt<Le;gt++)le(ve,ve.bl_tree[2*re[gt]+1],3);se(ve,ve.dyn_ltree,Re-1),se(ve,ve.dyn_dtree,Ge-1)}(N,N.l_desc.max_code+1,N.d_desc.max_code+1,Te+1),Et(N,N.dyn_ltree,N.dyn_dtree)),_e(N),ce&&Ie(N)},a._tr_tally=function(N,H,ue){return N.pending_buf[N.d_buf+2*N.last_lit]=H>>>8&255,N.pending_buf[N.d_buf+2*N.last_lit+1]=255&H,N.pending_buf[N.l_buf+N.last_lit]=255&ue,N.last_lit++,H===0?N.dyn_ltree[2*ue]++:(N.matches++,H--,N.dyn_ltree[2*(E[ue]+_+1)]++,N.dyn_dtree[2*P(H)]++),N.last_lit===N.lit_bufsize-1},a._tr_align=function(N){le(N,2,3),ie(N,D,me),function(H){H.bi_valid===16?(ae(H,H.bi_buf),H.bi_buf=0,H.bi_valid=0):8<=H.bi_valid&&(H.pending_buf[H.pending++]=255&H.bi_buf,H.bi_buf>>=8,H.bi_valid-=8)}(N)}},{"../utils/common":41}],53:[function(o,i,a){i.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(o,i,a){(function(c){(function(d,p){if(!d.setImmediate){var h,m,y,_,C=1,T={},R=!1,w=d.document,A=Object.getPrototypeOf&&Object.getPrototypeOf(d);A=A&&A.setTimeout?A:d,h={}.toString.call(d.process)==="[object process]"?function(V){process.nextTick(function(){M(V)})}:function(){if(d.postMessage&&!d.importScripts){var V=!0,z=d.onmessage;return d.onmessage=function(){V=!1},d.postMessage("","*"),d.onmessage=z,V}}()?(_="setImmediate$"+Math.random()+"$",d.addEventListener?d.addEventListener("message",D,!1):d.attachEvent("onmessage",D),function(V){d.postMessage(_+V,"*")}):d.MessageChannel?((y=new MessageChannel).port1.onmessage=function(V){M(V.data)},function(V){y.port2.postMessage(V)}):w&&"onreadystatechange"in w.createElement("script")?(m=w.documentElement,function(V){var z=w.createElement("script");z.onreadystatechange=function(){M(V),z.onreadystatechange=null,m.removeChild(z),z=null},m.appendChild(z)}):function(V){setTimeout(M,0,V)},A.setImmediate=function(V){typeof V!="function"&&(V=new Function(""+V));for(var z=new Array(arguments.length-1),J=0;J<z.length;J++)z[J]=arguments[J+1];var $={callback:V,args:z};return T[C]=$,h(C),C++},A.clearImmediate=I}function I(V){delete T[V]}function M(V){if(R)setTimeout(M,0,V);else{var z=T[V];if(z){R=!0;try{(function(J){var $=J.callback,ne=J.args;switch(ne.length){case 0:$();break;case 1:$(ne[0]);break;case 2:$(ne[0],ne[1]);break;case 3:$(ne[0],ne[1],ne[2]);break;default:$.apply(p,ne)}})(z)}finally{I(V),R=!1}}}}function D(V){V.source===d&&typeof V.data=="string"&&V.data.indexOf(_)===0&&M(+V.data.slice(_.length))}})(typeof self>"u"?c===void 0?this:c:self)}).call(this,typeof Ii<"u"?Ii:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}(Al)),Al.exports}var Xh=Qh();const cd=Hl(Xh);var Kn=(t=>(t.PIXEL="PIXEL",t.STICK_FIGURE="STICK_FIGURE",t))(Kn||{});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let jh,em;function tm(){return{geminiUrl:jh,vertexUrl:em}}function nm(t,e,o,i){var a,c;if(!t?.baseUrl){const d=tm();return e?(a=d.vertexUrl)!==null&&a!==void 0?a:o:(c=d.geminiUrl)!==null&&c!==void 0?c:i}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Zn{}function ke(t,e){const o=/\{([^}]+)\}/g;return t.replace(o,(i,a)=>{if(Object.prototype.hasOwnProperty.call(e,a)){const c=e[a];return c!=null?String(c):""}else throw new Error(`Key '${a}' not found in valueMap.`)})}function l(t,e,o){for(let c=0;c<e.length-1;c++){const d=e[c];if(d.endsWith("[]")){const p=d.slice(0,-2);if(!(p in t))if(Array.isArray(o))t[p]=Array.from({length:o.length},()=>({}));else throw new Error(`Value must be a list given an array path ${d}`);if(Array.isArray(t[p])){const h=t[p];if(Array.isArray(o))for(let m=0;m<h.length;m++){const y=h[m];l(y,e.slice(c+1),o[m])}else for(const m of h)l(m,e.slice(c+1),o)}return}else if(d.endsWith("[0]")){const p=d.slice(0,-3);p in t||(t[p]=[{}]);const h=t[p];l(h[0],e.slice(c+1),o);return}(!t[d]||typeof t[d]!="object")&&(t[d]={}),t=t[d]}const i=e[e.length-1],a=t[i];if(a!==void 0){if(!o||typeof o=="object"&&Object.keys(o).length===0||o===a)return;if(typeof a=="object"&&typeof o=="object"&&a!==null&&o!==null)Object.assign(a,o);else throw new Error(`Cannot set value for an existing key. Key: ${i}`)}else t[i]=o}function s(t,e){try{if(e.length===1&&e[0]==="_self")return t;for(let o=0;o<e.length;o++){if(typeof t!="object"||t===null)return;const i=e[o];if(i.endsWith("[]")){const a=i.slice(0,-2);if(a in t){const c=t[a];return Array.isArray(c)?c.map(d=>s(d,e.slice(o+1))):void 0}else return}else t=t[i]}return t}catch(o){if(o instanceof TypeError)return;throw o}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ml(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var bc;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(bc||(bc={}));var Hc;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(Hc||(Hc={}));var Rn;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(Rn||(Rn={}));var qc;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT"})(qc||(qc={}));var $c;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})($c||($c={}));var Oc;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(Oc||(Oc={}));var Jc;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(Jc||(Jc={}));var Wc;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(Wc||(Wc={}));var Kc;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Kc||(Kc={}));var Yc;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Yc||(Yc={}));var Zc;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR"})(Zc||(Zc={}));var Qc;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL"})(Qc||(Qc={}));var Xc;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(Xc||(Xc={}));var jc;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(jc||(jc={}));var ef;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY"})(ef||(ef={}));var tf;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(tf||(tf={}));var Li;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Li||(Li={}));var nf;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(nf||(nf={}));var Pl;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Pl||(Pl={}));var of;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(of||(of={}));var rf;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(rf||(rf={}));var sf;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(sf||(sf={}));var lf;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(lf||(lf={}));var af;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE"})(af||(af={}));var uf;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(uf||(uf={}));var cf;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(cf||(cf={}));var ff;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(ff||(ff={}));var df;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(df||(df={}));var pf;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(pf||(pf={}));var hf;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(hf||(hf={}));var mf;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(mf||(mf={}));var gf;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(gf||(gf={}));var yf;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(yf||(yf={}));var vf;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(vf||(vf={}));var _f;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(_f||(_f={}));var Cf;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Cf||(Cf={}));var Tf;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Tf||(Tf={}));var Sf;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(Sf||(Sf={}));var wf;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(wf||(wf={}));var xf;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(xf||(xf={}));var Ef;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Ef||(Ef={}));var So;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(So||(So={}));class Nl{constructor(e){const o={};for(const i of e.headers.entries())o[i[0]]=i[1];this.headers=o,this.responseInternal=e}json(){return this.responseInternal.json()}}class yr{get text(){var e,o,i,a,c,d,p,h;if(((a=(i=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||i===void 0?void 0:i.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let m="",y=!1;const _=[];for(const C of(h=(p=(d=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||d===void 0?void 0:d.content)===null||p===void 0?void 0:p.parts)!==null&&h!==void 0?h:[]){for(const[T,R]of Object.entries(C))T!=="text"&&T!=="thought"&&(R!==null||R!==void 0)&&_.push(T);if(typeof C.text=="string"){if(typeof C.thought=="boolean"&&C.thought)continue;y=!0,m+=C.text}}return _.length>0&&console.warn(`there are non-text parts ${_} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),y?m:void 0}get data(){var e,o,i,a,c,d,p,h;if(((a=(i=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||i===void 0?void 0:i.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let m="";const y=[];for(const _ of(h=(p=(d=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||d===void 0?void 0:d.content)===null||p===void 0?void 0:p.parts)!==null&&h!==void 0?h:[]){for(const[C,T]of Object.entries(_))C!=="inlineData"&&(T!==null||T!==void 0)&&y.push(C);_.inlineData&&typeof _.inlineData.data=="string"&&(m+=atob(_.inlineData.data))}return y.length>0&&console.warn(`there are non-data parts ${y} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),m.length>0?btoa(m):void 0}get functionCalls(){var e,o,i,a,c,d,p,h;if(((a=(i=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||i===void 0?void 0:i.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const m=(h=(p=(d=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||d===void 0?void 0:d.content)===null||p===void 0?void 0:p.parts)===null||h===void 0?void 0:h.filter(y=>y.functionCall).map(y=>y.functionCall).filter(y=>y!==void 0);if(m?.length!==0)return m}get executableCode(){var e,o,i,a,c,d,p,h,m;if(((a=(i=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||i===void 0?void 0:i.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const y=(h=(p=(d=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||d===void 0?void 0:d.content)===null||p===void 0?void 0:p.parts)===null||h===void 0?void 0:h.filter(_=>_.executableCode).map(_=>_.executableCode).filter(_=>_!==void 0);if(y?.length!==0)return(m=y?.[0])===null||m===void 0?void 0:m.code}get codeExecutionResult(){var e,o,i,a,c,d,p,h,m;if(((a=(i=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||i===void 0?void 0:i.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const y=(h=(p=(d=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||d===void 0?void 0:d.content)===null||p===void 0?void 0:p.parts)===null||h===void 0?void 0:h.filter(_=>_.codeExecutionResult).map(_=>_.codeExecutionResult).filter(_=>_!==void 0);if(y?.length!==0)return(m=y?.[0])===null||m===void 0?void 0:m.output}}class kf{}class If{}class om{}class rm{}class Af{}class Rf{}class Mf{}class im{}class Pf{}class Nf{}class Df{}class Lf{}class sm{}class lm{}class am{}class Ff{}class um{get text(){var e,o,i;let a="",c=!1;const d=[];for(const p of(i=(o=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&i!==void 0?i:[]){for(const[h,m]of Object.entries(p))h!=="text"&&h!=="thought"&&m!==null&&d.push(h);if(typeof p.text=="string"){if(typeof p.thought=="boolean"&&p.thought)continue;c=!0,a+=p.text}}return d.length>0&&console.warn(`there are non-text parts ${d} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),c?a:void 0}get data(){var e,o,i;let a="";const c=[];for(const d of(i=(o=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&i!==void 0?i:[]){for(const[p,h]of Object.entries(d))p!=="inlineData"&&h!==null&&c.push(p);d.inlineData&&typeof d.inlineData.data=="string"&&(a+=atob(d.inlineData.data))}return c.length>0&&console.warn(`there are non-data parts ${c} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),a.length>0?btoa(a):void 0}}class Fi{_fromAPIResponse({apiResponse:e,isVertexAI:o}){const i=new Fi;if(i.name=e.name,i.metadata=e.metadata,i.done=e.done,i.error=e.error,o){const a=e.response;if(a){const c=new Pf,d=a.videos;c.generatedVideos=d?.map(p=>({video:{uri:p.gcsUri,videoBytes:p.bytesBase64Encoded?Ml(p.bytesBase64Encoded):void 0,mimeType:p.mimeType}})),c.raiMediaFilteredCount=a.raiMediaFilteredCount,c.raiMediaFilteredReasons=a.raiMediaFilteredReasons,i.response=c}}else{const a=e.response;if(a){const c=new Pf,d=a.generateVideoResponse,p=d?.generatedSamples;c.generatedVideos=p?.map(h=>{const m=h.video;return{video:{uri:m?.uri,videoBytes:m?.encodedVideo?Ml(m?.encodedVideo):void 0,mimeType:h.encoding}}}),c.raiMediaFilteredCount=d?.raiMediaFilteredCount,c.raiMediaFilteredReasons=d?.raiMediaFilteredReasons,i.response=c}}return i}}class cm{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function He(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const o=e.split("/",2);return`publishers/${o[0]}/models/${o[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function fd(t,e){const o=He(t,e);return o?o.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${o}`:o.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${o}`:o:""}function dd(t){return Array.isArray(t)?t.map(e=>Ui(e)):[Ui(t)]}function Ui(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function pd(t){const e=Ui(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function hd(t){const e=Ui(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Uf(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function md(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>Uf(e)):[Uf(t)]}function Dl(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function Vf(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function zf(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function mt(t){if(t==null)throw new Error("ContentUnion is required");return Dl(t)?t:{role:"user",parts:md(t)}}function gd(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(o=>{const i=mt(o);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]});if(t.isVertexAI()){const o=mt(e);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]}return Array.isArray(e)?e.map(o=>mt(o)):[mt(e)]}function zt(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(Vf(t)||zf(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[mt(t)]}const e=[],o=[],i=Dl(t[0]);for(const a of t){const c=Dl(a);if(c!=i)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(c)e.push(a);else{if(Vf(a)||zf(a))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");o.push(a)}}return i||e.push({role:"user",parts:md(o)}),e}function fm(t,e){t.includes("null")&&(e.nullable=!0);const o=t.filter(i=>i!=="null");if(o.length===1)e.type=Object.values(Rn).includes(o[0].toUpperCase())?o[0].toUpperCase():Rn.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const i of o)e.anyOf.push({type:Object.values(Rn).includes(i.toUpperCase())?i.toUpperCase():Rn.TYPE_UNSPECIFIED})}}function wo(t){const e={},o=["items"],i=["anyOf"],a=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const c=t.anyOf;c!=null&&c.length==2&&(c[0].type==="null"?(e.nullable=!0,t=c[1]):c[1].type==="null"&&(e.nullable=!0,t=c[0])),t.type instanceof Array&&fm(t.type,e);for(const[d,p]of Object.entries(t))if(p!=null)if(d=="type"){if(p==="null")throw new Error("type: null can not be the only possible type for the field.");if(p instanceof Array)continue;e.type=Object.values(Rn).includes(p.toUpperCase())?p.toUpperCase():Rn.TYPE_UNSPECIFIED}else if(o.includes(d))e[d]=wo(p);else if(i.includes(d)){const h=[];for(const m of p){if(m.type=="null"){e.nullable=!0;continue}h.push(wo(m))}e[d]=h}else if(a.includes(d)){const h={};for(const[m,y]of Object.entries(p))h[m]=wo(y);e[d]=h}else{if(d==="additionalProperties")continue;e[d]=p}return e}function $l(t){return wo(t)}function Ol(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function Jl(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function ko(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=wo(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=wo(e.response));return t}function Io(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const o of t)e.push(o);return e}function dm(t,e,o,i=1){const a=!e.startsWith(`${o}/`)&&e.split("/").length===i;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${o}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:a?`projects/${t.getProject()}/locations/${t.getLocation()}/${o}/${e}`:e:a?`${o}/${e}`:e}function un(t,e){if(typeof e!="string")throw new Error("name must be a string");return dm(t,e,"cachedContents")}function yd(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function Qn(t){return Ml(t)}function pm(t){return t!=null&&typeof t=="object"&&"name"in t}function hm(t){return t!=null&&typeof t=="object"&&"video"in t}function mm(t){return t!=null&&typeof t=="object"&&"uri"in t}function vd(t){var e;let o;if(pm(t)&&(o=t.name),!(mm(t)&&(o=t.uri,o===void 0))&&!(hm(t)&&(o=(e=t.video)===null||e===void 0?void 0:e.uri,o===void 0))){if(typeof t=="string"&&(o=t),o===void 0)throw new Error("Could not extract file name from the provided input.");if(o.startsWith("https://")){const a=o.split("files/")[1].match(/[a-z0-9]+/);if(a===null)throw new Error(`Could not extract file name from URI ${o}`);o=a[0]}else o.startsWith("files/")&&(o=o.split("files/")[1]);return o}}function _d(t,e){let o;return t.isVertexAI()?o=e?"publishers/google/models":"models":o=e?"models":"tunedModels",o}function Cd(t){for(const e of["models","tunedModels","publisherModels"])if(gm(t,e))return t[e];return[]}function gm(t,e){return t!==null&&typeof t=="object"&&e in t}function ym(t,e={}){const o=t,i={name:o.name,description:o.description,parametersJsonSchema:o.inputSchema};return e.behavior&&(i.behavior=e.behavior),{functionDeclarations:[i]}}function vm(t,e={}){const o=[],i=new Set;for(const a of t){const c=a.name;if(i.has(c))throw new Error(`Duplicate function name ${c} found in MCP tools. Please ensure function names are unique.`);i.add(c);const d=ym(a,e);d.functionDeclarations&&o.push(...d.functionDeclarations)}return{functionDeclarations:o}}function Td(t,e){if(typeof e!="string"&&!Array.isArray(e)){if(t&&t.isVertexAI()){if(e.gcsUri&&e.bigqueryUri)throw new Error("Only one of `gcsUri` or `bigqueryUri` can be set.");if(!e.gcsUri&&!e.bigqueryUri)throw new Error("One of `gcsUri` or `bigqueryUri` must be set.")}else{if(e.inlinedRequests&&e.fileName)throw new Error("Only one of `inlinedRequests` or `fileName` can be set.");if(!e.inlinedRequests&&!e.fileName)throw new Error("One of `inlinedRequests` or `fileName` must be set.")}return e}else{if(Array.isArray(e))return{inlinedRequests:e};if(typeof e=="string"){if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:[e]};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};if(e.startsWith("files/"))return{fileName:e}}}throw new Error(`Unsupported source: ${e}`)}function _m(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function Ao(t,e){const o=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(o))return o.split("/").pop();throw new Error(`Invalid batch job name: ${o}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(o))return o.split("/").pop();if(/^\d+$/.test(o))return o;throw new Error(`Invalid batch job name: ${o}.`)}function Sd(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Cm(t){const e={},o=s(t,["fps"]);o!=null&&l(e,["fps"],o);const i=s(t,["endOffset"]);i!=null&&l(e,["endOffset"],i);const a=s(t,["startOffset"]);return a!=null&&l(e,["startOffset"],a),e}function Tm(t){const e={};if(s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(t,["data"]);o!=null&&l(e,["data"],o);const i=s(t,["mimeType"]);return i!=null&&l(e,["mimeType"],i),e}function Sm(t){const e={};if(s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(t,["fileUri"]);o!=null&&l(e,["fileUri"],o);const i=s(t,["mimeType"]);return i!=null&&l(e,["mimeType"],i),e}function wm(t){const e={},o=s(t,["videoMetadata"]);o!=null&&l(e,["videoMetadata"],Cm(o));const i=s(t,["thought"]);i!=null&&l(e,["thought"],i);const a=s(t,["inlineData"]);a!=null&&l(e,["inlineData"],Tm(a));const c=s(t,["fileData"]);c!=null&&l(e,["fileData"],Sm(c));const d=s(t,["thoughtSignature"]);d!=null&&l(e,["thoughtSignature"],d);const p=s(t,["codeExecutionResult"]);p!=null&&l(e,["codeExecutionResult"],p);const h=s(t,["executableCode"]);h!=null&&l(e,["executableCode"],h);const m=s(t,["functionCall"]);m!=null&&l(e,["functionCall"],m);const y=s(t,["functionResponse"]);y!=null&&l(e,["functionResponse"],y);const _=s(t,["text"]);return _!=null&&l(e,["text"],_),e}function wd(t){const e={},o=s(t,["parts"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(c=>wm(c))),l(e,["parts"],a)}const i=s(t,["role"]);return i!=null&&l(e,["role"],i),e}function xm(t){const e={},o=s(t,["anyOf"]);o!=null&&l(e,["anyOf"],o);const i=s(t,["default"]);i!=null&&l(e,["default"],i);const a=s(t,["description"]);a!=null&&l(e,["description"],a);const c=s(t,["enum"]);c!=null&&l(e,["enum"],c);const d=s(t,["example"]);d!=null&&l(e,["example"],d);const p=s(t,["format"]);p!=null&&l(e,["format"],p);const h=s(t,["items"]);h!=null&&l(e,["items"],h);const m=s(t,["maxItems"]);m!=null&&l(e,["maxItems"],m);const y=s(t,["maxLength"]);y!=null&&l(e,["maxLength"],y);const _=s(t,["maxProperties"]);_!=null&&l(e,["maxProperties"],_);const C=s(t,["maximum"]);C!=null&&l(e,["maximum"],C);const T=s(t,["minItems"]);T!=null&&l(e,["minItems"],T);const R=s(t,["minLength"]);R!=null&&l(e,["minLength"],R);const w=s(t,["minProperties"]);w!=null&&l(e,["minProperties"],w);const A=s(t,["minimum"]);A!=null&&l(e,["minimum"],A);const I=s(t,["nullable"]);I!=null&&l(e,["nullable"],I);const M=s(t,["pattern"]);M!=null&&l(e,["pattern"],M);const D=s(t,["properties"]);D!=null&&l(e,["properties"],D);const V=s(t,["propertyOrdering"]);V!=null&&l(e,["propertyOrdering"],V);const z=s(t,["required"]);z!=null&&l(e,["required"],z);const J=s(t,["title"]);J!=null&&l(e,["title"],J);const $=s(t,["type"]);return $!=null&&l(e,["type"],$),e}function Em(t){const e={};if(s(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=s(t,["category"]);o!=null&&l(e,["category"],o);const i=s(t,["threshold"]);return i!=null&&l(e,["threshold"],i),e}function km(t){const e={},o=s(t,["behavior"]);o!=null&&l(e,["behavior"],o);const i=s(t,["description"]);i!=null&&l(e,["description"],i);const a=s(t,["name"]);a!=null&&l(e,["name"],a);const c=s(t,["parameters"]);c!=null&&l(e,["parameters"],c);const d=s(t,["parametersJsonSchema"]);d!=null&&l(e,["parametersJsonSchema"],d);const p=s(t,["response"]);p!=null&&l(e,["response"],p);const h=s(t,["responseJsonSchema"]);return h!=null&&l(e,["responseJsonSchema"],h),e}function Im(t){const e={},o=s(t,["startTime"]);o!=null&&l(e,["startTime"],o);const i=s(t,["endTime"]);return i!=null&&l(e,["endTime"],i),e}function Am(t){const e={},o=s(t,["timeRangeFilter"]);return o!=null&&l(e,["timeRangeFilter"],Im(o)),e}function Rm(t){const e={},o=s(t,["mode"]);o!=null&&l(e,["mode"],o);const i=s(t,["dynamicThreshold"]);return i!=null&&l(e,["dynamicThreshold"],i),e}function Mm(t){const e={},o=s(t,["dynamicRetrievalConfig"]);return o!=null&&l(e,["dynamicRetrievalConfig"],Rm(o)),e}function Pm(){return{}}function Nm(t){const e={},o=s(t,["functionDeclarations"]);if(o!=null){let h=o;Array.isArray(h)&&(h=h.map(m=>km(m))),l(e,["functionDeclarations"],h)}if(s(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=s(t,["googleSearch"]);i!=null&&l(e,["googleSearch"],Am(i));const a=s(t,["googleSearchRetrieval"]);if(a!=null&&l(e,["googleSearchRetrieval"],Mm(a)),s(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(s(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");s(t,["urlContext"])!=null&&l(e,["urlContext"],Pm());const d=s(t,["codeExecution"]);d!=null&&l(e,["codeExecution"],d);const p=s(t,["computerUse"]);return p!=null&&l(e,["computerUse"],p),e}function Dm(t){const e={},o=s(t,["mode"]);o!=null&&l(e,["mode"],o);const i=s(t,["allowedFunctionNames"]);return i!=null&&l(e,["allowedFunctionNames"],i),e}function Lm(t){const e={},o=s(t,["latitude"]);o!=null&&l(e,["latitude"],o);const i=s(t,["longitude"]);return i!=null&&l(e,["longitude"],i),e}function Fm(t){const e={},o=s(t,["latLng"]);o!=null&&l(e,["latLng"],Lm(o));const i=s(t,["languageCode"]);return i!=null&&l(e,["languageCode"],i),e}function Um(t){const e={},o=s(t,["functionCallingConfig"]);o!=null&&l(e,["functionCallingConfig"],Dm(o));const i=s(t,["retrievalConfig"]);return i!=null&&l(e,["retrievalConfig"],Fm(i)),e}function Vm(t){const e={},o=s(t,["voiceName"]);return o!=null&&l(e,["voiceName"],o),e}function xd(t){const e={},o=s(t,["prebuiltVoiceConfig"]);return o!=null&&l(e,["prebuiltVoiceConfig"],Vm(o)),e}function zm(t){const e={},o=s(t,["speaker"]);o!=null&&l(e,["speaker"],o);const i=s(t,["voiceConfig"]);return i!=null&&l(e,["voiceConfig"],xd(i)),e}function Bm(t){const e={},o=s(t,["speakerVoiceConfigs"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(a=>zm(a))),l(e,["speakerVoiceConfigs"],i)}return e}function Gm(t){const e={},o=s(t,["voiceConfig"]);o!=null&&l(e,["voiceConfig"],xd(o));const i=s(t,["multiSpeakerVoiceConfig"]);i!=null&&l(e,["multiSpeakerVoiceConfig"],Bm(i));const a=s(t,["languageCode"]);return a!=null&&l(e,["languageCode"],a),e}function bm(t){const e={},o=s(t,["includeThoughts"]);o!=null&&l(e,["includeThoughts"],o);const i=s(t,["thinkingBudget"]);return i!=null&&l(e,["thinkingBudget"],i),e}function Hm(t,e,o){const i={},a=s(e,["systemInstruction"]);o!==void 0&&a!=null&&l(o,["systemInstruction"],wd(mt(a)));const c=s(e,["temperature"]);c!=null&&l(i,["temperature"],c);const d=s(e,["topP"]);d!=null&&l(i,["topP"],d);const p=s(e,["topK"]);p!=null&&l(i,["topK"],p);const h=s(e,["candidateCount"]);h!=null&&l(i,["candidateCount"],h);const m=s(e,["maxOutputTokens"]);m!=null&&l(i,["maxOutputTokens"],m);const y=s(e,["stopSequences"]);y!=null&&l(i,["stopSequences"],y);const _=s(e,["responseLogprobs"]);_!=null&&l(i,["responseLogprobs"],_);const C=s(e,["logprobs"]);C!=null&&l(i,["logprobs"],C);const T=s(e,["presencePenalty"]);T!=null&&l(i,["presencePenalty"],T);const R=s(e,["frequencyPenalty"]);R!=null&&l(i,["frequencyPenalty"],R);const w=s(e,["seed"]);w!=null&&l(i,["seed"],w);const A=s(e,["responseMimeType"]);A!=null&&l(i,["responseMimeType"],A);const I=s(e,["responseSchema"]);I!=null&&l(i,["responseSchema"],xm($l(I)));const M=s(e,["responseJsonSchema"]);if(M!=null&&l(i,["responseJsonSchema"],M),s(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(s(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const D=s(e,["safetySettings"]);if(o!==void 0&&D!=null){let me=D;Array.isArray(me)&&(me=me.map(U=>Em(U))),l(o,["safetySettings"],me)}const V=s(e,["tools"]);if(o!==void 0&&V!=null){let me=Io(V);Array.isArray(me)&&(me=me.map(U=>Nm(ko(U)))),l(o,["tools"],me)}const z=s(e,["toolConfig"]);if(o!==void 0&&z!=null&&l(o,["toolConfig"],Um(z)),s(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const J=s(e,["cachedContent"]);o!==void 0&&J!=null&&l(o,["cachedContent"],un(t,J));const $=s(e,["responseModalities"]);$!=null&&l(i,["responseModalities"],$);const ne=s(e,["mediaResolution"]);ne!=null&&l(i,["mediaResolution"],ne);const q=s(e,["speechConfig"]);if(q!=null&&l(i,["speechConfig"],Gm(Ol(q))),s(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const re=s(e,["thinkingConfig"]);return re!=null&&l(i,["thinkingConfig"],bm(re)),i}function qm(t,e){const o={},i=s(e,["model"]);i!=null&&l(o,["request","model"],He(t,i));const a=s(e,["contents"]);if(a!=null){let d=zt(a);Array.isArray(d)&&(d=d.map(p=>wd(p))),l(o,["request","contents"],d)}const c=s(e,["config"]);return c!=null&&l(o,["request","generationConfig"],Hm(t,c,o)),o}function $m(t,e){const o={};if(s(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(s(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(s(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const i=s(e,["fileName"]);i!=null&&l(o,["fileName"],i);const a=s(e,["inlinedRequests"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(d=>qm(t,d))),l(o,["requests","requests"],c)}return o}function Om(t,e){const o={},i=s(t,["displayName"]);if(e!==void 0&&i!=null&&l(e,["batch","displayName"],i),s(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return o}function Jm(t,e){const o={},i=s(e,["model"]);i!=null&&l(o,["_url","model"],He(t,i));const a=s(e,["src"]);a!=null&&l(o,["batch","inputConfig"],$m(t,Td(t,a)));const c=s(e,["config"]);return c!=null&&l(o,["config"],Om(c,o)),o}function Wm(t,e){const o={},i=s(e,["name"]);i!=null&&l(o,["_url","name"],Ao(t,i));const a=s(e,["config"]);return a!=null&&l(o,["config"],a),o}function Km(t,e){const o={},i=s(e,["name"]);i!=null&&l(o,["_url","name"],Ao(t,i));const a=s(e,["config"]);return a!=null&&l(o,["config"],a),o}function Ym(t,e){const o={},i=s(t,["pageSize"]);e!==void 0&&i!=null&&l(e,["_query","pageSize"],i);const a=s(t,["pageToken"]);if(e!==void 0&&a!=null&&l(e,["_query","pageToken"],a),s(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return o}function Zm(t){const e={},o=s(t,["config"]);return o!=null&&l(e,["config"],Ym(o,e)),e}function Qm(t,e){const o={},i=s(e,["name"]);i!=null&&l(o,["_url","name"],Ao(t,i));const a=s(e,["config"]);return a!=null&&l(o,["config"],a),o}function Xm(t){const e={},o=s(t,["format"]);o!=null&&l(e,["instancesFormat"],o);const i=s(t,["gcsUri"]);i!=null&&l(e,["gcsSource","uris"],i);const a=s(t,["bigqueryUri"]);if(a!=null&&l(e,["bigquerySource","inputUri"],a),s(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(s(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function jm(t){const e={},o=s(t,["format"]);o!=null&&l(e,["predictionsFormat"],o);const i=s(t,["gcsUri"]);i!=null&&l(e,["gcsDestination","outputUriPrefix"],i);const a=s(t,["bigqueryUri"]);if(a!=null&&l(e,["bigqueryDestination","outputUri"],a),s(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(s(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");return e}function eg(t,e){const o={},i=s(t,["displayName"]);e!==void 0&&i!=null&&l(e,["displayName"],i);const a=s(t,["dest"]);return e!==void 0&&a!=null&&l(e,["outputConfig"],jm(_m(a))),o}function tg(t,e){const o={},i=s(e,["model"]);i!=null&&l(o,["model"],He(t,i));const a=s(e,["src"]);a!=null&&l(o,["inputConfig"],Xm(Td(t,a)));const c=s(e,["config"]);return c!=null&&l(o,["config"],eg(c,o)),o}function ng(t,e){const o={},i=s(e,["name"]);i!=null&&l(o,["_url","name"],Ao(t,i));const a=s(e,["config"]);return a!=null&&l(o,["config"],a),o}function og(t,e){const o={},i=s(e,["name"]);i!=null&&l(o,["_url","name"],Ao(t,i));const a=s(e,["config"]);return a!=null&&l(o,["config"],a),o}function rg(t,e){const o={},i=s(t,["pageSize"]);e!==void 0&&i!=null&&l(e,["_query","pageSize"],i);const a=s(t,["pageToken"]);e!==void 0&&a!=null&&l(e,["_query","pageToken"],a);const c=s(t,["filter"]);return e!==void 0&&c!=null&&l(e,["_query","filter"],c),o}function ig(t){const e={},o=s(t,["config"]);return o!=null&&l(e,["config"],rg(o,e)),e}function sg(t,e){const o={},i=s(e,["name"]);i!=null&&l(o,["_url","name"],Ao(t,i));const a=s(e,["config"]);return a!=null&&l(o,["config"],a),o}function lg(t){const e={},o=s(t,["fps"]);o!=null&&l(e,["fps"],o);const i=s(t,["endOffset"]);i!=null&&l(e,["endOffset"],i);const a=s(t,["startOffset"]);return a!=null&&l(e,["startOffset"],a),e}function ag(t){const e={},o=s(t,["data"]);o!=null&&l(e,["data"],o);const i=s(t,["mimeType"]);return i!=null&&l(e,["mimeType"],i),e}function ug(t){const e={},o=s(t,["fileUri"]);o!=null&&l(e,["fileUri"],o);const i=s(t,["mimeType"]);return i!=null&&l(e,["mimeType"],i),e}function cg(t){const e={},o=s(t,["videoMetadata"]);o!=null&&l(e,["videoMetadata"],lg(o));const i=s(t,["thought"]);i!=null&&l(e,["thought"],i);const a=s(t,["inlineData"]);a!=null&&l(e,["inlineData"],ag(a));const c=s(t,["fileData"]);c!=null&&l(e,["fileData"],ug(c));const d=s(t,["thoughtSignature"]);d!=null&&l(e,["thoughtSignature"],d);const p=s(t,["codeExecutionResult"]);p!=null&&l(e,["codeExecutionResult"],p);const h=s(t,["executableCode"]);h!=null&&l(e,["executableCode"],h);const m=s(t,["functionCall"]);m!=null&&l(e,["functionCall"],m);const y=s(t,["functionResponse"]);y!=null&&l(e,["functionResponse"],y);const _=s(t,["text"]);return _!=null&&l(e,["text"],_),e}function fg(t){const e={},o=s(t,["parts"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(c=>cg(c))),l(e,["parts"],a)}const i=s(t,["role"]);return i!=null&&l(e,["role"],i),e}function dg(t){const e={},o=s(t,["citationSources"]);return o!=null&&l(e,["citations"],o),e}function pg(t){const e={},o=s(t,["retrievedUrl"]);o!=null&&l(e,["retrievedUrl"],o);const i=s(t,["urlRetrievalStatus"]);return i!=null&&l(e,["urlRetrievalStatus"],i),e}function hg(t){const e={},o=s(t,["urlMetadata"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(a=>pg(a))),l(e,["urlMetadata"],i)}return e}function mg(t){const e={},o=s(t,["content"]);o!=null&&l(e,["content"],fg(o));const i=s(t,["citationMetadata"]);i!=null&&l(e,["citationMetadata"],dg(i));const a=s(t,["tokenCount"]);a!=null&&l(e,["tokenCount"],a);const c=s(t,["finishReason"]);c!=null&&l(e,["finishReason"],c);const d=s(t,["urlContextMetadata"]);d!=null&&l(e,["urlContextMetadata"],hg(d));const p=s(t,["avgLogprobs"]);p!=null&&l(e,["avgLogprobs"],p);const h=s(t,["groundingMetadata"]);h!=null&&l(e,["groundingMetadata"],h);const m=s(t,["index"]);m!=null&&l(e,["index"],m);const y=s(t,["logprobsResult"]);y!=null&&l(e,["logprobsResult"],y);const _=s(t,["safetyRatings"]);return _!=null&&l(e,["safetyRatings"],_),e}function gg(t){const e={},o=s(t,["sdkHttpResponse"]);o!=null&&l(e,["sdkHttpResponse"],o);const i=s(t,["candidates"]);if(i!=null){let p=i;Array.isArray(p)&&(p=p.map(h=>mg(h))),l(e,["candidates"],p)}const a=s(t,["modelVersion"]);a!=null&&l(e,["modelVersion"],a);const c=s(t,["promptFeedback"]);c!=null&&l(e,["promptFeedback"],c);const d=s(t,["usageMetadata"]);return d!=null&&l(e,["usageMetadata"],d),e}function Ed(t){const e={},o=s(t,["details"]);o!=null&&l(e,["details"],o);const i=s(t,["code"]);i!=null&&l(e,["code"],i);const a=s(t,["message"]);return a!=null&&l(e,["message"],a),e}function yg(t){const e={},o=s(t,["response"]);o!=null&&l(e,["response"],gg(o));const i=s(t,["error"]);return i!=null&&l(e,["error"],Ed(i)),e}function vg(t){const e={},o=s(t,["responsesFile"]);o!=null&&l(e,["fileName"],o);const i=s(t,["inlinedResponses","inlinedResponses"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(c=>yg(c))),l(e,["inlinedResponses"],a)}return e}function Ll(t){const e={},o=s(t,["name"]);o!=null&&l(e,["name"],o);const i=s(t,["metadata","displayName"]);i!=null&&l(e,["displayName"],i);const a=s(t,["metadata","state"]);a!=null&&l(e,["state"],Sd(a));const c=s(t,["metadata","createTime"]);c!=null&&l(e,["createTime"],c);const d=s(t,["metadata","endTime"]);d!=null&&l(e,["endTime"],d);const p=s(t,["metadata","updateTime"]);p!=null&&l(e,["updateTime"],p);const h=s(t,["metadata","model"]);h!=null&&l(e,["model"],h);const m=s(t,["metadata","output"]);return m!=null&&l(e,["dest"],vg(m)),e}function _g(t){const e={},o=s(t,["sdkHttpResponse"]);o!=null&&l(e,["sdkHttpResponse"],o);const i=s(t,["nextPageToken"]);i!=null&&l(e,["nextPageToken"],i);const a=s(t,["operations"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(d=>Ll(d))),l(e,["batchJobs"],c)}return e}function Cg(t){const e={},o=s(t,["name"]);o!=null&&l(e,["name"],o);const i=s(t,["done"]);i!=null&&l(e,["done"],i);const a=s(t,["error"]);return a!=null&&l(e,["error"],Ed(a)),e}function kd(t){const e={},o=s(t,["details"]);o!=null&&l(e,["details"],o);const i=s(t,["code"]);i!=null&&l(e,["code"],i);const a=s(t,["message"]);return a!=null&&l(e,["message"],a),e}function Tg(t){const e={},o=s(t,["instancesFormat"]);o!=null&&l(e,["format"],o);const i=s(t,["gcsSource","uris"]);i!=null&&l(e,["gcsUri"],i);const a=s(t,["bigquerySource","inputUri"]);return a!=null&&l(e,["bigqueryUri"],a),e}function Sg(t){const e={},o=s(t,["predictionsFormat"]);o!=null&&l(e,["format"],o);const i=s(t,["gcsDestination","outputUriPrefix"]);i!=null&&l(e,["gcsUri"],i);const a=s(t,["bigqueryDestination","outputUri"]);return a!=null&&l(e,["bigqueryUri"],a),e}function Fl(t){const e={},o=s(t,["name"]);o!=null&&l(e,["name"],o);const i=s(t,["displayName"]);i!=null&&l(e,["displayName"],i);const a=s(t,["state"]);a!=null&&l(e,["state"],Sd(a));const c=s(t,["error"]);c!=null&&l(e,["error"],kd(c));const d=s(t,["createTime"]);d!=null&&l(e,["createTime"],d);const p=s(t,["startTime"]);p!=null&&l(e,["startTime"],p);const h=s(t,["endTime"]);h!=null&&l(e,["endTime"],h);const m=s(t,["updateTime"]);m!=null&&l(e,["updateTime"],m);const y=s(t,["model"]);y!=null&&l(e,["model"],y);const _=s(t,["inputConfig"]);_!=null&&l(e,["src"],Tg(_));const C=s(t,["outputConfig"]);return C!=null&&l(e,["dest"],Sg(C)),e}function wg(t){const e={},o=s(t,["sdkHttpResponse"]);o!=null&&l(e,["sdkHttpResponse"],o);const i=s(t,["nextPageToken"]);i!=null&&l(e,["nextPageToken"],i);const a=s(t,["batchPredictionJobs"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(d=>Fl(d))),l(e,["batchJobs"],c)}return e}function xg(t){const e={},o=s(t,["name"]);o!=null&&l(e,["name"],o);const i=s(t,["done"]);i!=null&&l(e,["done"],i);const a=s(t,["error"]);return a!=null&&l(e,["error"],kd(a)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Yn;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(Yn||(Yn={}));class _r{constructor(e,o,i,a){this.pageInternal=[],this.paramsInternal={},this.requestInternal=o,this.init(e,i,a)}init(e,o,i){var a,c;this.nameInternal=e,this.pageInternal=o[this.nameInternal]||[],this.sdkHttpResponseInternal=o?.sdkHttpResponse,this.idxInternal=0;let d={config:{}};!i||Object.keys(i).length===0?d={config:{}}:typeof i=="object"?d=Object.assign({},i):d=i,d.config&&(d.config.pageToken=o.nextPageToken),this.paramsInternal=d,this.pageInternalSize=(c=(a=d.config)===null||a===void 0?void 0:a.pageSize)!==null&&c!==void 0?c:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Eg extends Zn{constructor(e){super(),this.apiClient=e,this.create=async o=>{if(this.apiClient.isVertexAI()){const a=Date.now().toString();if(Array.isArray(o.src))throw new Error("InlinedRequest[] is not supported in Vertex AI. Please use Google Cloud Storage URI or BigQuery URI instead.");if(o.config=o.config||{},o.config.displayName===void 0&&(o.config.displayName="genaiBatchJob_${timestampStr}"),o.config.dest===void 0&&typeof o.src=="string")if(o.src.startsWith("gs://")&&o.src.endsWith(".jsonl"))o.config.dest=`${o.src.slice(0,-6)}/dest`;else if(o.src.startsWith("bq://"))o.config.dest=`${o.src}_dest_${a}`;else throw new Error("Unsupported source:"+o.src)}return await this.createInternal(o)},this.list=async(o={})=>new _r(Yn.PAGED_ITEM_BATCH_JOBS,i=>this.listInternal(i),await this.listInternal(o),o)}async createInternal(e){var o,i,a,c;let d,p="",h={};if(this.apiClient.isVertexAI()){const m=tg(this.apiClient,e);return p=ke("batchPredictionJobs",m._url),h=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:h,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),d.then(y=>Fl(y))}else{const m=Jm(this.apiClient,e);return p=ke("{model}:batchGenerateContent",m._url),h=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:h,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json()),d.then(y=>Ll(y))}}async get(e){var o,i,a,c;let d,p="",h={};if(this.apiClient.isVertexAI()){const m=ng(this.apiClient,e);return p=ke("batchPredictionJobs/{name}",m._url),h=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:h,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),d.then(y=>Fl(y))}else{const m=Wm(this.apiClient,e);return p=ke("batches/{name}",m._url),h=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:h,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json()),d.then(y=>Ll(y))}}async cancel(e){var o,i,a,c;let d="",p={};if(this.apiClient.isVertexAI()){const h=og(this.apiClient,e);d=ke("batchPredictionJobs/{name}:cancel",h._url),p=h._query,delete h.config,delete h._url,delete h._query,await this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}else{const h=Km(this.apiClient,e);d=ke("batches/{name}:cancel",h._url),p=h._query,delete h.config,delete h._url,delete h._query,await this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal})}}async listInternal(e){var o,i,a,c;let d,p="",h={};if(this.apiClient.isVertexAI()){const m=ig(e);return p=ke("batchPredictionJobs",m._url),h=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:h,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(_=>{const C=_;return C.sdkHttpResponse={headers:y.headers},C})),d.then(y=>{const _=wg(y),C=new Ff;return Object.assign(C,_),C})}else{const m=Zm(e);return p=ke("batches",m._url),h=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:h,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json().then(_=>{const C=_;return C.sdkHttpResponse={headers:y.headers},C})),d.then(y=>{const _=_g(y),C=new Ff;return Object.assign(C,_),C})}}async delete(e){var o,i,a,c;let d,p="",h={};if(this.apiClient.isVertexAI()){const m=sg(this.apiClient,e);return p=ke("batchPredictionJobs/{name}",m._url),h=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:h,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),d.then(y=>xg(y))}else{const m=Qm(this.apiClient,e);return p=ke("batches/{name}",m._url),h=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:h,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json()),d.then(y=>Cg(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function kg(t){const e={},o=s(t,["fps"]);o!=null&&l(e,["fps"],o);const i=s(t,["endOffset"]);i!=null&&l(e,["endOffset"],i);const a=s(t,["startOffset"]);return a!=null&&l(e,["startOffset"],a),e}function Ig(t){const e={};if(s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(t,["data"]);o!=null&&l(e,["data"],o);const i=s(t,["mimeType"]);return i!=null&&l(e,["mimeType"],i),e}function Ag(t){const e={};if(s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(t,["fileUri"]);o!=null&&l(e,["fileUri"],o);const i=s(t,["mimeType"]);return i!=null&&l(e,["mimeType"],i),e}function Rg(t){const e={},o=s(t,["videoMetadata"]);o!=null&&l(e,["videoMetadata"],kg(o));const i=s(t,["thought"]);i!=null&&l(e,["thought"],i);const a=s(t,["inlineData"]);a!=null&&l(e,["inlineData"],Ig(a));const c=s(t,["fileData"]);c!=null&&l(e,["fileData"],Ag(c));const d=s(t,["thoughtSignature"]);d!=null&&l(e,["thoughtSignature"],d);const p=s(t,["codeExecutionResult"]);p!=null&&l(e,["codeExecutionResult"],p);const h=s(t,["executableCode"]);h!=null&&l(e,["executableCode"],h);const m=s(t,["functionCall"]);m!=null&&l(e,["functionCall"],m);const y=s(t,["functionResponse"]);y!=null&&l(e,["functionResponse"],y);const _=s(t,["text"]);return _!=null&&l(e,["text"],_),e}function Bf(t){const e={},o=s(t,["parts"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(c=>Rg(c))),l(e,["parts"],a)}const i=s(t,["role"]);return i!=null&&l(e,["role"],i),e}function Mg(t){const e={},o=s(t,["behavior"]);o!=null&&l(e,["behavior"],o);const i=s(t,["description"]);i!=null&&l(e,["description"],i);const a=s(t,["name"]);a!=null&&l(e,["name"],a);const c=s(t,["parameters"]);c!=null&&l(e,["parameters"],c);const d=s(t,["parametersJsonSchema"]);d!=null&&l(e,["parametersJsonSchema"],d);const p=s(t,["response"]);p!=null&&l(e,["response"],p);const h=s(t,["responseJsonSchema"]);return h!=null&&l(e,["responseJsonSchema"],h),e}function Pg(t){const e={},o=s(t,["startTime"]);o!=null&&l(e,["startTime"],o);const i=s(t,["endTime"]);return i!=null&&l(e,["endTime"],i),e}function Ng(t){const e={},o=s(t,["timeRangeFilter"]);return o!=null&&l(e,["timeRangeFilter"],Pg(o)),e}function Dg(t){const e={},o=s(t,["mode"]);o!=null&&l(e,["mode"],o);const i=s(t,["dynamicThreshold"]);return i!=null&&l(e,["dynamicThreshold"],i),e}function Lg(t){const e={},o=s(t,["dynamicRetrievalConfig"]);return o!=null&&l(e,["dynamicRetrievalConfig"],Dg(o)),e}function Fg(){return{}}function Ug(t){const e={},o=s(t,["functionDeclarations"]);if(o!=null){let h=o;Array.isArray(h)&&(h=h.map(m=>Mg(m))),l(e,["functionDeclarations"],h)}if(s(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=s(t,["googleSearch"]);i!=null&&l(e,["googleSearch"],Ng(i));const a=s(t,["googleSearchRetrieval"]);if(a!=null&&l(e,["googleSearchRetrieval"],Lg(a)),s(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(s(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");s(t,["urlContext"])!=null&&l(e,["urlContext"],Fg());const d=s(t,["codeExecution"]);d!=null&&l(e,["codeExecution"],d);const p=s(t,["computerUse"]);return p!=null&&l(e,["computerUse"],p),e}function Vg(t){const e={},o=s(t,["mode"]);o!=null&&l(e,["mode"],o);const i=s(t,["allowedFunctionNames"]);return i!=null&&l(e,["allowedFunctionNames"],i),e}function zg(t){const e={},o=s(t,["latitude"]);o!=null&&l(e,["latitude"],o);const i=s(t,["longitude"]);return i!=null&&l(e,["longitude"],i),e}function Bg(t){const e={},o=s(t,["latLng"]);o!=null&&l(e,["latLng"],zg(o));const i=s(t,["languageCode"]);return i!=null&&l(e,["languageCode"],i),e}function Gg(t){const e={},o=s(t,["functionCallingConfig"]);o!=null&&l(e,["functionCallingConfig"],Vg(o));const i=s(t,["retrievalConfig"]);return i!=null&&l(e,["retrievalConfig"],Bg(i)),e}function bg(t,e){const o={},i=s(t,["ttl"]);e!==void 0&&i!=null&&l(e,["ttl"],i);const a=s(t,["expireTime"]);e!==void 0&&a!=null&&l(e,["expireTime"],a);const c=s(t,["displayName"]);e!==void 0&&c!=null&&l(e,["displayName"],c);const d=s(t,["contents"]);if(e!==void 0&&d!=null){let y=zt(d);Array.isArray(y)&&(y=y.map(_=>Bf(_))),l(e,["contents"],y)}const p=s(t,["systemInstruction"]);e!==void 0&&p!=null&&l(e,["systemInstruction"],Bf(mt(p)));const h=s(t,["tools"]);if(e!==void 0&&h!=null){let y=h;Array.isArray(y)&&(y=y.map(_=>Ug(_))),l(e,["tools"],y)}const m=s(t,["toolConfig"]);if(e!==void 0&&m!=null&&l(e,["toolConfig"],Gg(m)),s(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return o}function Hg(t,e){const o={},i=s(e,["model"]);i!=null&&l(o,["model"],fd(t,i));const a=s(e,["config"]);return a!=null&&l(o,["config"],bg(a,o)),o}function qg(t,e){const o={},i=s(e,["name"]);i!=null&&l(o,["_url","name"],un(t,i));const a=s(e,["config"]);return a!=null&&l(o,["config"],a),o}function $g(t,e){const o={},i=s(e,["name"]);i!=null&&l(o,["_url","name"],un(t,i));const a=s(e,["config"]);return a!=null&&l(o,["config"],a),o}function Og(t,e){const o={},i=s(t,["ttl"]);e!==void 0&&i!=null&&l(e,["ttl"],i);const a=s(t,["expireTime"]);return e!==void 0&&a!=null&&l(e,["expireTime"],a),o}function Jg(t,e){const o={},i=s(e,["name"]);i!=null&&l(o,["_url","name"],un(t,i));const a=s(e,["config"]);return a!=null&&l(o,["config"],Og(a,o)),o}function Wg(t,e){const o={},i=s(t,["pageSize"]);e!==void 0&&i!=null&&l(e,["_query","pageSize"],i);const a=s(t,["pageToken"]);return e!==void 0&&a!=null&&l(e,["_query","pageToken"],a),o}function Kg(t){const e={},o=s(t,["config"]);return o!=null&&l(e,["config"],Wg(o,e)),e}function Yg(t){const e={},o=s(t,["fps"]);o!=null&&l(e,["fps"],o);const i=s(t,["endOffset"]);i!=null&&l(e,["endOffset"],i);const a=s(t,["startOffset"]);return a!=null&&l(e,["startOffset"],a),e}function Zg(t){const e={},o=s(t,["displayName"]);o!=null&&l(e,["displayName"],o);const i=s(t,["data"]);i!=null&&l(e,["data"],i);const a=s(t,["mimeType"]);return a!=null&&l(e,["mimeType"],a),e}function Qg(t){const e={},o=s(t,["displayName"]);o!=null&&l(e,["displayName"],o);const i=s(t,["fileUri"]);i!=null&&l(e,["fileUri"],i);const a=s(t,["mimeType"]);return a!=null&&l(e,["mimeType"],a),e}function Xg(t){const e={},o=s(t,["videoMetadata"]);o!=null&&l(e,["videoMetadata"],Yg(o));const i=s(t,["thought"]);i!=null&&l(e,["thought"],i);const a=s(t,["inlineData"]);a!=null&&l(e,["inlineData"],Zg(a));const c=s(t,["fileData"]);c!=null&&l(e,["fileData"],Qg(c));const d=s(t,["thoughtSignature"]);d!=null&&l(e,["thoughtSignature"],d);const p=s(t,["codeExecutionResult"]);p!=null&&l(e,["codeExecutionResult"],p);const h=s(t,["executableCode"]);h!=null&&l(e,["executableCode"],h);const m=s(t,["functionCall"]);m!=null&&l(e,["functionCall"],m);const y=s(t,["functionResponse"]);y!=null&&l(e,["functionResponse"],y);const _=s(t,["text"]);return _!=null&&l(e,["text"],_),e}function Gf(t){const e={},o=s(t,["parts"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(c=>Xg(c))),l(e,["parts"],a)}const i=s(t,["role"]);return i!=null&&l(e,["role"],i),e}function jg(t){const e={};if(s(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=s(t,["description"]);o!=null&&l(e,["description"],o);const i=s(t,["name"]);i!=null&&l(e,["name"],i);const a=s(t,["parameters"]);a!=null&&l(e,["parameters"],a);const c=s(t,["parametersJsonSchema"]);c!=null&&l(e,["parametersJsonSchema"],c);const d=s(t,["response"]);d!=null&&l(e,["response"],d);const p=s(t,["responseJsonSchema"]);return p!=null&&l(e,["responseJsonSchema"],p),e}function ey(t){const e={},o=s(t,["startTime"]);o!=null&&l(e,["startTime"],o);const i=s(t,["endTime"]);return i!=null&&l(e,["endTime"],i),e}function ty(t){const e={},o=s(t,["timeRangeFilter"]);return o!=null&&l(e,["timeRangeFilter"],ey(o)),e}function ny(t){const e={},o=s(t,["mode"]);o!=null&&l(e,["mode"],o);const i=s(t,["dynamicThreshold"]);return i!=null&&l(e,["dynamicThreshold"],i),e}function oy(t){const e={},o=s(t,["dynamicRetrievalConfig"]);return o!=null&&l(e,["dynamicRetrievalConfig"],ny(o)),e}function ry(){return{}}function iy(t){const e={},o=s(t,["apiKeyString"]);return o!=null&&l(e,["apiKeyString"],o),e}function sy(t){const e={},o=s(t,["apiKeyConfig"]);o!=null&&l(e,["apiKeyConfig"],iy(o));const i=s(t,["authType"]);i!=null&&l(e,["authType"],i);const a=s(t,["googleServiceAccountConfig"]);a!=null&&l(e,["googleServiceAccountConfig"],a);const c=s(t,["httpBasicAuthConfig"]);c!=null&&l(e,["httpBasicAuthConfig"],c);const d=s(t,["oauthConfig"]);d!=null&&l(e,["oauthConfig"],d);const p=s(t,["oidcConfig"]);return p!=null&&l(e,["oidcConfig"],p),e}function ly(t){const e={},o=s(t,["authConfig"]);return o!=null&&l(e,["authConfig"],sy(o)),e}function ay(){return{}}function uy(t){const e={},o=s(t,["functionDeclarations"]);if(o!=null){let _=o;Array.isArray(_)&&(_=_.map(C=>jg(C))),l(e,["functionDeclarations"],_)}const i=s(t,["retrieval"]);i!=null&&l(e,["retrieval"],i);const a=s(t,["googleSearch"]);a!=null&&l(e,["googleSearch"],ty(a));const c=s(t,["googleSearchRetrieval"]);c!=null&&l(e,["googleSearchRetrieval"],oy(c)),s(t,["enterpriseWebSearch"])!=null&&l(e,["enterpriseWebSearch"],ry());const p=s(t,["googleMaps"]);p!=null&&l(e,["googleMaps"],ly(p)),s(t,["urlContext"])!=null&&l(e,["urlContext"],ay());const m=s(t,["codeExecution"]);m!=null&&l(e,["codeExecution"],m);const y=s(t,["computerUse"]);return y!=null&&l(e,["computerUse"],y),e}function cy(t){const e={},o=s(t,["mode"]);o!=null&&l(e,["mode"],o);const i=s(t,["allowedFunctionNames"]);return i!=null&&l(e,["allowedFunctionNames"],i),e}function fy(t){const e={},o=s(t,["latitude"]);o!=null&&l(e,["latitude"],o);const i=s(t,["longitude"]);return i!=null&&l(e,["longitude"],i),e}function dy(t){const e={},o=s(t,["latLng"]);o!=null&&l(e,["latLng"],fy(o));const i=s(t,["languageCode"]);return i!=null&&l(e,["languageCode"],i),e}function py(t){const e={},o=s(t,["functionCallingConfig"]);o!=null&&l(e,["functionCallingConfig"],cy(o));const i=s(t,["retrievalConfig"]);return i!=null&&l(e,["retrievalConfig"],dy(i)),e}function hy(t,e){const o={},i=s(t,["ttl"]);e!==void 0&&i!=null&&l(e,["ttl"],i);const a=s(t,["expireTime"]);e!==void 0&&a!=null&&l(e,["expireTime"],a);const c=s(t,["displayName"]);e!==void 0&&c!=null&&l(e,["displayName"],c);const d=s(t,["contents"]);if(e!==void 0&&d!=null){let _=zt(d);Array.isArray(_)&&(_=_.map(C=>Gf(C))),l(e,["contents"],_)}const p=s(t,["systemInstruction"]);e!==void 0&&p!=null&&l(e,["systemInstruction"],Gf(mt(p)));const h=s(t,["tools"]);if(e!==void 0&&h!=null){let _=h;Array.isArray(_)&&(_=_.map(C=>uy(C))),l(e,["tools"],_)}const m=s(t,["toolConfig"]);e!==void 0&&m!=null&&l(e,["toolConfig"],py(m));const y=s(t,["kmsKeyName"]);return e!==void 0&&y!=null&&l(e,["encryption_spec","kmsKeyName"],y),o}function my(t,e){const o={},i=s(e,["model"]);i!=null&&l(o,["model"],fd(t,i));const a=s(e,["config"]);return a!=null&&l(o,["config"],hy(a,o)),o}function gy(t,e){const o={},i=s(e,["name"]);i!=null&&l(o,["_url","name"],un(t,i));const a=s(e,["config"]);return a!=null&&l(o,["config"],a),o}function yy(t,e){const o={},i=s(e,["name"]);i!=null&&l(o,["_url","name"],un(t,i));const a=s(e,["config"]);return a!=null&&l(o,["config"],a),o}function vy(t,e){const o={},i=s(t,["ttl"]);e!==void 0&&i!=null&&l(e,["ttl"],i);const a=s(t,["expireTime"]);return e!==void 0&&a!=null&&l(e,["expireTime"],a),o}function _y(t,e){const o={},i=s(e,["name"]);i!=null&&l(o,["_url","name"],un(t,i));const a=s(e,["config"]);return a!=null&&l(o,["config"],vy(a,o)),o}function Cy(t,e){const o={},i=s(t,["pageSize"]);e!==void 0&&i!=null&&l(e,["_query","pageSize"],i);const a=s(t,["pageToken"]);return e!==void 0&&a!=null&&l(e,["_query","pageToken"],a),o}function Ty(t){const e={},o=s(t,["config"]);return o!=null&&l(e,["config"],Cy(o,e)),e}function Ni(t){const e={},o=s(t,["name"]);o!=null&&l(e,["name"],o);const i=s(t,["displayName"]);i!=null&&l(e,["displayName"],i);const a=s(t,["model"]);a!=null&&l(e,["model"],a);const c=s(t,["createTime"]);c!=null&&l(e,["createTime"],c);const d=s(t,["updateTime"]);d!=null&&l(e,["updateTime"],d);const p=s(t,["expireTime"]);p!=null&&l(e,["expireTime"],p);const h=s(t,["usageMetadata"]);return h!=null&&l(e,["usageMetadata"],h),e}function Sy(){return{}}function wy(t){const e={},o=s(t,["sdkHttpResponse"]);o!=null&&l(e,["sdkHttpResponse"],o);const i=s(t,["nextPageToken"]);i!=null&&l(e,["nextPageToken"],i);const a=s(t,["cachedContents"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(d=>Ni(d))),l(e,["cachedContents"],c)}return e}function Di(t){const e={},o=s(t,["name"]);o!=null&&l(e,["name"],o);const i=s(t,["displayName"]);i!=null&&l(e,["displayName"],i);const a=s(t,["model"]);a!=null&&l(e,["model"],a);const c=s(t,["createTime"]);c!=null&&l(e,["createTime"],c);const d=s(t,["updateTime"]);d!=null&&l(e,["updateTime"],d);const p=s(t,["expireTime"]);p!=null&&l(e,["expireTime"],p);const h=s(t,["usageMetadata"]);return h!=null&&l(e,["usageMetadata"],h),e}function xy(){return{}}function Ey(t){const e={},o=s(t,["sdkHttpResponse"]);o!=null&&l(e,["sdkHttpResponse"],o);const i=s(t,["nextPageToken"]);i!=null&&l(e,["nextPageToken"],i);const a=s(t,["cachedContents"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(d=>Di(d))),l(e,["cachedContents"],c)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ky extends Zn{constructor(e){super(),this.apiClient=e,this.list=async(o={})=>new _r(Yn.PAGED_ITEM_CACHED_CONTENTS,i=>this.listInternal(i),await this.listInternal(o),o)}async create(e){var o,i,a,c;let d,p="",h={};if(this.apiClient.isVertexAI()){const m=my(this.apiClient,e);return p=ke("cachedContents",m._url),h=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:h,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),d.then(y=>Di(y))}else{const m=Hg(this.apiClient,e);return p=ke("cachedContents",m._url),h=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:h,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json()),d.then(y=>Ni(y))}}async get(e){var o,i,a,c;let d,p="",h={};if(this.apiClient.isVertexAI()){const m=gy(this.apiClient,e);return p=ke("{name}",m._url),h=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:h,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),d.then(y=>Di(y))}else{const m=qg(this.apiClient,e);return p=ke("{name}",m._url),h=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:h,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json()),d.then(y=>Ni(y))}}async delete(e){var o,i,a,c;let d,p="",h={};if(this.apiClient.isVertexAI()){const m=yy(this.apiClient,e);return p=ke("{name}",m._url),h=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:h,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),d.then(()=>{const y=xy(),_=new Df;return Object.assign(_,y),_})}else{const m=$g(this.apiClient,e);return p=ke("{name}",m._url),h=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:h,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json()),d.then(()=>{const y=Sy(),_=new Df;return Object.assign(_,y),_})}}async update(e){var o,i,a,c;let d,p="",h={};if(this.apiClient.isVertexAI()){const m=_y(this.apiClient,e);return p=ke("{name}",m._url),h=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:h,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),d.then(y=>Di(y))}else{const m=Jg(this.apiClient,e);return p=ke("{name}",m._url),h=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:h,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json()),d.then(y=>Ni(y))}}async listInternal(e){var o,i,a,c;let d,p="",h={};if(this.apiClient.isVertexAI()){const m=Ty(e);return p=ke("cachedContents",m._url),h=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:h,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(_=>{const C=_;return C.sdkHttpResponse={headers:y.headers},C})),d.then(y=>{const _=Ey(y),C=new Lf;return Object.assign(C,_),C})}else{const m=Kg(e);return p=ke("cachedContents",m._url),h=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:h,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json().then(_=>{const C=_;return C.sdkHttpResponse={headers:y.headers},C})),d.then(y=>{const _=wy(y),C=new Lf;return Object.assign(C,_),C})}}}function bf(t){var e=typeof Symbol=="function"&&Symbol.iterator,o=e&&t[e],i=0;if(o)return o.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function We(t){return this instanceof We?(this.v=t,this):new We(t)}function xo(t,e,o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=o.apply(t,e||[]),a,c=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),p("next"),p("throw"),p("return",d),a[Symbol.asyncIterator]=function(){return this},a;function d(T){return function(R){return Promise.resolve(R).then(T,_)}}function p(T,R){i[T]&&(a[T]=function(w){return new Promise(function(A,I){c.push([T,w,A,I])>1||h(T,w)})},R&&(a[T]=R(a[T])))}function h(T,R){try{m(i[T](R))}catch(w){C(c[0][3],w)}}function m(T){T.value instanceof We?Promise.resolve(T.value.v).then(y,_):C(c[0][2],T)}function y(T){h("next",T)}function _(T){h("throw",T)}function C(T,R){T(R),c.shift(),c.length&&h(c[0][0],c[0][1])}}function vr(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],o;return e?e.call(t):(t=typeof bf=="function"?bf(t):t[Symbol.iterator](),o={},i("next"),i("throw"),i("return"),o[Symbol.asyncIterator]=function(){return this},o);function i(c){o[c]=t[c]&&function(d){return new Promise(function(p,h){d=t[c](d),a(p,h,d.done,d.value)})}}function a(c,d,p,h){Promise.resolve(h).then(function(m){c({value:m,done:p})},d)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Iy(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const o=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return o===void 0?!1:Id(o)}function Id(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0||!e.thought&&e.text!==void 0&&e.text==="")return!1;return!0}function Ay(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function Hf(t){if(t===void 0||t.length===0)return[];const e=[],o=t.length;let i=0;for(;i<o;)if(t[i].role==="user")e.push(t[i]),i++;else{const a=[];let c=!0;for(;i<o&&t[i].role==="model";)a.push(t[i]),c&&!Id(t[i])&&(c=!1),i++;c?e.push(...a):e.pop()}return e}class Ry{constructor(e,o){this.modelsModule=e,this.apiClient=o}create(e){return new My(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class My{constructor(e,o,i,a={},c=[]){this.apiClient=e,this.modelsModule=o,this.model=i,this.config=a,this.history=c,this.sendPromise=Promise.resolve(),Ay(c)}async sendMessage(e){var o;await this.sendPromise;const i=mt(e.message),a=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(i),config:(o=e.config)!==null&&o!==void 0?o:this.config});return this.sendPromise=(async()=>{var c,d,p;const h=await a,m=(d=(c=h.candidates)===null||c===void 0?void 0:c[0])===null||d===void 0?void 0:d.content,y=h.automaticFunctionCallingHistory,_=this.getHistory(!0).length;let C=[];y!=null&&(C=(p=y.slice(_))!==null&&p!==void 0?p:[]);const T=m?[m]:[];this.recordHistory(i,T,C)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),a}async sendMessageStream(e){var o;await this.sendPromise;const i=mt(e.message),a=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(i),config:(o=e.config)!==null&&o!==void 0?o:this.config});this.sendPromise=a.then(()=>{}).catch(()=>{});const c=await a;return this.processStreamResponse(c,i)}getHistory(e=!1){const o=e?Hf(this.history):this.history;return structuredClone(o)}processStreamResponse(e,o){var i,a;return xo(this,arguments,function*(){var d,p,h,m;const y=[];try{for(var _=!0,C=vr(e),T;T=yield We(C.next()),d=T.done,!d;_=!0){m=T.value,_=!1;const R=m;if(Iy(R)){const w=(a=(i=R.candidates)===null||i===void 0?void 0:i[0])===null||a===void 0?void 0:a.content;w!==void 0&&y.push(w)}yield yield We(R)}}catch(R){p={error:R}}finally{try{!_&&!d&&(h=C.return)&&(yield We(h.call(C)))}finally{if(p)throw p.error}}this.recordHistory(o,y)})}recordHistory(e,o,i){let a=[];o.length>0&&o.every(c=>c.role!==void 0)?a=o:a.push({role:"model",parts:[]}),i&&i.length>0?this.history.push(...Hf(i)):this.history.push(e),this.history.push(...a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Vi extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Vi.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Py(t,e){const o={},i=s(t,["pageSize"]);e!==void 0&&i!=null&&l(e,["_query","pageSize"],i);const a=s(t,["pageToken"]);return e!==void 0&&a!=null&&l(e,["_query","pageToken"],a),o}function Ny(t){const e={},o=s(t,["config"]);return o!=null&&l(e,["config"],Py(o,e)),e}function Dy(t){const e={},o=s(t,["details"]);o!=null&&l(e,["details"],o);const i=s(t,["message"]);i!=null&&l(e,["message"],i);const a=s(t,["code"]);return a!=null&&l(e,["code"],a),e}function Ly(t){const e={},o=s(t,["name"]);o!=null&&l(e,["name"],o);const i=s(t,["displayName"]);i!=null&&l(e,["displayName"],i);const a=s(t,["mimeType"]);a!=null&&l(e,["mimeType"],a);const c=s(t,["sizeBytes"]);c!=null&&l(e,["sizeBytes"],c);const d=s(t,["createTime"]);d!=null&&l(e,["createTime"],d);const p=s(t,["expirationTime"]);p!=null&&l(e,["expirationTime"],p);const h=s(t,["updateTime"]);h!=null&&l(e,["updateTime"],h);const m=s(t,["sha256Hash"]);m!=null&&l(e,["sha256Hash"],m);const y=s(t,["uri"]);y!=null&&l(e,["uri"],y);const _=s(t,["downloadUri"]);_!=null&&l(e,["downloadUri"],_);const C=s(t,["state"]);C!=null&&l(e,["state"],C);const T=s(t,["source"]);T!=null&&l(e,["source"],T);const R=s(t,["videoMetadata"]);R!=null&&l(e,["videoMetadata"],R);const w=s(t,["error"]);return w!=null&&l(e,["error"],Dy(w)),e}function Fy(t){const e={},o=s(t,["file"]);o!=null&&l(e,["file"],Ly(o));const i=s(t,["config"]);return i!=null&&l(e,["config"],i),e}function Uy(t){const e={},o=s(t,["name"]);o!=null&&l(e,["_url","file"],vd(o));const i=s(t,["config"]);return i!=null&&l(e,["config"],i),e}function Vy(t){const e={},o=s(t,["name"]);o!=null&&l(e,["_url","file"],vd(o));const i=s(t,["config"]);return i!=null&&l(e,["config"],i),e}function zy(t){const e={},o=s(t,["details"]);o!=null&&l(e,["details"],o);const i=s(t,["message"]);i!=null&&l(e,["message"],i);const a=s(t,["code"]);return a!=null&&l(e,["code"],a),e}function Ul(t){const e={},o=s(t,["name"]);o!=null&&l(e,["name"],o);const i=s(t,["displayName"]);i!=null&&l(e,["displayName"],i);const a=s(t,["mimeType"]);a!=null&&l(e,["mimeType"],a);const c=s(t,["sizeBytes"]);c!=null&&l(e,["sizeBytes"],c);const d=s(t,["createTime"]);d!=null&&l(e,["createTime"],d);const p=s(t,["expirationTime"]);p!=null&&l(e,["expirationTime"],p);const h=s(t,["updateTime"]);h!=null&&l(e,["updateTime"],h);const m=s(t,["sha256Hash"]);m!=null&&l(e,["sha256Hash"],m);const y=s(t,["uri"]);y!=null&&l(e,["uri"],y);const _=s(t,["downloadUri"]);_!=null&&l(e,["downloadUri"],_);const C=s(t,["state"]);C!=null&&l(e,["state"],C);const T=s(t,["source"]);T!=null&&l(e,["source"],T);const R=s(t,["videoMetadata"]);R!=null&&l(e,["videoMetadata"],R);const w=s(t,["error"]);return w!=null&&l(e,["error"],zy(w)),e}function By(t){const e={},o=s(t,["sdkHttpResponse"]);o!=null&&l(e,["sdkHttpResponse"],o);const i=s(t,["nextPageToken"]);i!=null&&l(e,["nextPageToken"],i);const a=s(t,["files"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(d=>Ul(d))),l(e,["files"],c)}return e}function Gy(t){const e={},o=s(t,["sdkHttpResponse"]);return o!=null&&l(e,["sdkHttpResponse"],o),e}function by(){return{}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Hy extends Zn{constructor(e){super(),this.apiClient=e,this.list=async(o={})=>new _r(Yn.PAGED_ITEM_FILES,i=>this.listInternal(i),await this.listInternal(o),o)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(o=>Ul(o))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var o,i;let a,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=Ny(e);return c=ke("files",p._url),d=p._query,delete p.config,delete p._url,delete p._query,a=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),a.then(h=>{const m=By(h),y=new sm;return Object.assign(y,m),y})}}async createInternal(e){var o,i;let a,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=Fy(e);return c=ke("upload/v1beta/files",p._url),d=p._query,delete p.config,delete p._url,delete p._query,a=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),a.then(h=>{const m=Gy(h),y=new lm;return Object.assign(y,m),y})}}async get(e){var o,i;let a,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=Uy(e);return c=ke("files/{file}",p._url),d=p._query,delete p.config,delete p._url,delete p._query,a=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),a.then(h=>Ul(h))}}async delete(e){var o,i;let a,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=Vy(e);return c=ke("files/{file}",p._url),d=p._query,delete p.config,delete p._url,delete p._query,a=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),a.then(()=>{const h=by(),m=new am;return Object.assign(m,h),m})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qy(t){const e={},o=s(t,["voiceName"]);return o!=null&&l(e,["voiceName"],o),e}function Ad(t){const e={},o=s(t,["prebuiltVoiceConfig"]);return o!=null&&l(e,["prebuiltVoiceConfig"],qy(o)),e}function $y(t){const e={},o=s(t,["speaker"]);o!=null&&l(e,["speaker"],o);const i=s(t,["voiceConfig"]);return i!=null&&l(e,["voiceConfig"],Ad(i)),e}function Oy(t){const e={},o=s(t,["speakerVoiceConfigs"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(a=>$y(a))),l(e,["speakerVoiceConfigs"],i)}return e}function Jy(t){const e={},o=s(t,["voiceConfig"]);o!=null&&l(e,["voiceConfig"],Ad(o));const i=s(t,["multiSpeakerVoiceConfig"]);i!=null&&l(e,["multiSpeakerVoiceConfig"],Oy(i));const a=s(t,["languageCode"]);return a!=null&&l(e,["languageCode"],a),e}function Wy(t){const e={},o=s(t,["fps"]);o!=null&&l(e,["fps"],o);const i=s(t,["endOffset"]);i!=null&&l(e,["endOffset"],i);const a=s(t,["startOffset"]);return a!=null&&l(e,["startOffset"],a),e}function Ky(t){const e={};if(s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(t,["data"]);o!=null&&l(e,["data"],o);const i=s(t,["mimeType"]);return i!=null&&l(e,["mimeType"],i),e}function Yy(t){const e={};if(s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(t,["fileUri"]);o!=null&&l(e,["fileUri"],o);const i=s(t,["mimeType"]);return i!=null&&l(e,["mimeType"],i),e}function Zy(t){const e={},o=s(t,["videoMetadata"]);o!=null&&l(e,["videoMetadata"],Wy(o));const i=s(t,["thought"]);i!=null&&l(e,["thought"],i);const a=s(t,["inlineData"]);a!=null&&l(e,["inlineData"],Ky(a));const c=s(t,["fileData"]);c!=null&&l(e,["fileData"],Yy(c));const d=s(t,["thoughtSignature"]);d!=null&&l(e,["thoughtSignature"],d);const p=s(t,["codeExecutionResult"]);p!=null&&l(e,["codeExecutionResult"],p);const h=s(t,["executableCode"]);h!=null&&l(e,["executableCode"],h);const m=s(t,["functionCall"]);m!=null&&l(e,["functionCall"],m);const y=s(t,["functionResponse"]);y!=null&&l(e,["functionResponse"],y);const _=s(t,["text"]);return _!=null&&l(e,["text"],_),e}function Qy(t){const e={},o=s(t,["parts"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(c=>Zy(c))),l(e,["parts"],a)}const i=s(t,["role"]);return i!=null&&l(e,["role"],i),e}function Xy(t){const e={},o=s(t,["behavior"]);o!=null&&l(e,["behavior"],o);const i=s(t,["description"]);i!=null&&l(e,["description"],i);const a=s(t,["name"]);a!=null&&l(e,["name"],a);const c=s(t,["parameters"]);c!=null&&l(e,["parameters"],c);const d=s(t,["parametersJsonSchema"]);d!=null&&l(e,["parametersJsonSchema"],d);const p=s(t,["response"]);p!=null&&l(e,["response"],p);const h=s(t,["responseJsonSchema"]);return h!=null&&l(e,["responseJsonSchema"],h),e}function jy(t){const e={},o=s(t,["startTime"]);o!=null&&l(e,["startTime"],o);const i=s(t,["endTime"]);return i!=null&&l(e,["endTime"],i),e}function ev(t){const e={},o=s(t,["timeRangeFilter"]);return o!=null&&l(e,["timeRangeFilter"],jy(o)),e}function tv(t){const e={},o=s(t,["mode"]);o!=null&&l(e,["mode"],o);const i=s(t,["dynamicThreshold"]);return i!=null&&l(e,["dynamicThreshold"],i),e}function nv(t){const e={},o=s(t,["dynamicRetrievalConfig"]);return o!=null&&l(e,["dynamicRetrievalConfig"],tv(o)),e}function ov(){return{}}function rv(t){const e={},o=s(t,["functionDeclarations"]);if(o!=null){let h=o;Array.isArray(h)&&(h=h.map(m=>Xy(m))),l(e,["functionDeclarations"],h)}if(s(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=s(t,["googleSearch"]);i!=null&&l(e,["googleSearch"],ev(i));const a=s(t,["googleSearchRetrieval"]);if(a!=null&&l(e,["googleSearchRetrieval"],nv(a)),s(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(s(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");s(t,["urlContext"])!=null&&l(e,["urlContext"],ov());const d=s(t,["codeExecution"]);d!=null&&l(e,["codeExecution"],d);const p=s(t,["computerUse"]);return p!=null&&l(e,["computerUse"],p),e}function iv(t){const e={},o=s(t,["handle"]);if(o!=null&&l(e,["handle"],o),s(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function qf(){return{}}function sv(t){const e={},o=s(t,["disabled"]);o!=null&&l(e,["disabled"],o);const i=s(t,["startOfSpeechSensitivity"]);i!=null&&l(e,["startOfSpeechSensitivity"],i);const a=s(t,["endOfSpeechSensitivity"]);a!=null&&l(e,["endOfSpeechSensitivity"],a);const c=s(t,["prefixPaddingMs"]);c!=null&&l(e,["prefixPaddingMs"],c);const d=s(t,["silenceDurationMs"]);return d!=null&&l(e,["silenceDurationMs"],d),e}function lv(t){const e={},o=s(t,["automaticActivityDetection"]);o!=null&&l(e,["automaticActivityDetection"],sv(o));const i=s(t,["activityHandling"]);i!=null&&l(e,["activityHandling"],i);const a=s(t,["turnCoverage"]);return a!=null&&l(e,["turnCoverage"],a),e}function av(t){const e={},o=s(t,["targetTokens"]);return o!=null&&l(e,["targetTokens"],o),e}function uv(t){const e={},o=s(t,["triggerTokens"]);o!=null&&l(e,["triggerTokens"],o);const i=s(t,["slidingWindow"]);return i!=null&&l(e,["slidingWindow"],av(i)),e}function cv(t){const e={},o=s(t,["proactiveAudio"]);return o!=null&&l(e,["proactiveAudio"],o),e}function fv(t,e){const o={},i=s(t,["generationConfig"]);e!==void 0&&i!=null&&l(e,["setup","generationConfig"],i);const a=s(t,["responseModalities"]);e!==void 0&&a!=null&&l(e,["setup","generationConfig","responseModalities"],a);const c=s(t,["temperature"]);e!==void 0&&c!=null&&l(e,["setup","generationConfig","temperature"],c);const d=s(t,["topP"]);e!==void 0&&d!=null&&l(e,["setup","generationConfig","topP"],d);const p=s(t,["topK"]);e!==void 0&&p!=null&&l(e,["setup","generationConfig","topK"],p);const h=s(t,["maxOutputTokens"]);e!==void 0&&h!=null&&l(e,["setup","generationConfig","maxOutputTokens"],h);const m=s(t,["mediaResolution"]);e!==void 0&&m!=null&&l(e,["setup","generationConfig","mediaResolution"],m);const y=s(t,["seed"]);e!==void 0&&y!=null&&l(e,["setup","generationConfig","seed"],y);const _=s(t,["speechConfig"]);e!==void 0&&_!=null&&l(e,["setup","generationConfig","speechConfig"],Jy(Jl(_)));const C=s(t,["enableAffectiveDialog"]);e!==void 0&&C!=null&&l(e,["setup","generationConfig","enableAffectiveDialog"],C);const T=s(t,["systemInstruction"]);e!==void 0&&T!=null&&l(e,["setup","systemInstruction"],Qy(mt(T)));const R=s(t,["tools"]);if(e!==void 0&&R!=null){let z=Io(R);Array.isArray(z)&&(z=z.map(J=>rv(ko(J)))),l(e,["setup","tools"],z)}const w=s(t,["sessionResumption"]);e!==void 0&&w!=null&&l(e,["setup","sessionResumption"],iv(w));const A=s(t,["inputAudioTranscription"]);e!==void 0&&A!=null&&l(e,["setup","inputAudioTranscription"],qf());const I=s(t,["outputAudioTranscription"]);e!==void 0&&I!=null&&l(e,["setup","outputAudioTranscription"],qf());const M=s(t,["realtimeInputConfig"]);e!==void 0&&M!=null&&l(e,["setup","realtimeInputConfig"],lv(M));const D=s(t,["contextWindowCompression"]);e!==void 0&&D!=null&&l(e,["setup","contextWindowCompression"],uv(D));const V=s(t,["proactivity"]);return e!==void 0&&V!=null&&l(e,["setup","proactivity"],cv(V)),o}function dv(t,e){const o={},i=s(e,["model"]);i!=null&&l(o,["setup","model"],He(t,i));const a=s(e,["config"]);return a!=null&&l(o,["config"],fv(a,o)),o}function pv(){return{}}function hv(){return{}}function mv(t){const e={},o=s(t,["media"]);o!=null&&l(e,["mediaChunks"],dd(o));const i=s(t,["audio"]);i!=null&&l(e,["audio"],hd(i));const a=s(t,["audioStreamEnd"]);a!=null&&l(e,["audioStreamEnd"],a);const c=s(t,["video"]);c!=null&&l(e,["video"],pd(c));const d=s(t,["text"]);return d!=null&&l(e,["text"],d),s(t,["activityStart"])!=null&&l(e,["activityStart"],pv()),s(t,["activityEnd"])!=null&&l(e,["activityEnd"],hv()),e}function Rd(t){const e={},o=s(t,["text"]);o!=null&&l(e,["text"],o);const i=s(t,["weight"]);return i!=null&&l(e,["weight"],i),e}function gv(t){const e={},o=s(t,["weightedPrompts"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(a=>Rd(a))),l(e,["weightedPrompts"],i)}return e}function Md(t){const e={},o=s(t,["temperature"]);o!=null&&l(e,["temperature"],o);const i=s(t,["topK"]);i!=null&&l(e,["topK"],i);const a=s(t,["seed"]);a!=null&&l(e,["seed"],a);const c=s(t,["guidance"]);c!=null&&l(e,["guidance"],c);const d=s(t,["bpm"]);d!=null&&l(e,["bpm"],d);const p=s(t,["density"]);p!=null&&l(e,["density"],p);const h=s(t,["brightness"]);h!=null&&l(e,["brightness"],h);const m=s(t,["scale"]);m!=null&&l(e,["scale"],m);const y=s(t,["muteBass"]);y!=null&&l(e,["muteBass"],y);const _=s(t,["muteDrums"]);_!=null&&l(e,["muteDrums"],_);const C=s(t,["onlyBassAndDrums"]);return C!=null&&l(e,["onlyBassAndDrums"],C),e}function yv(t){const e={},o=s(t,["musicGenerationConfig"]);return o!=null&&l(e,["musicGenerationConfig"],Md(o)),e}function Pd(t){const e={},o=s(t,["model"]);return o!=null&&l(e,["model"],o),e}function Nd(t){const e={},o=s(t,["weightedPrompts"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(a=>Rd(a))),l(e,["weightedPrompts"],i)}return e}function Vl(t){const e={},o=s(t,["setup"]);o!=null&&l(e,["setup"],Pd(o));const i=s(t,["clientContent"]);i!=null&&l(e,["clientContent"],Nd(i));const a=s(t,["musicGenerationConfig"]);a!=null&&l(e,["musicGenerationConfig"],Md(a));const c=s(t,["playbackControl"]);return c!=null&&l(e,["playbackControl"],c),e}function vv(t){const e={},o=s(t,["voiceName"]);return o!=null&&l(e,["voiceName"],o),e}function _v(t){const e={},o=s(t,["prebuiltVoiceConfig"]);return o!=null&&l(e,["prebuiltVoiceConfig"],vv(o)),e}function Cv(t){const e={},o=s(t,["voiceConfig"]);if(o!=null&&l(e,["voiceConfig"],_v(o)),s(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const i=s(t,["languageCode"]);return i!=null&&l(e,["languageCode"],i),e}function Tv(t){const e={},o=s(t,["fps"]);o!=null&&l(e,["fps"],o);const i=s(t,["endOffset"]);i!=null&&l(e,["endOffset"],i);const a=s(t,["startOffset"]);return a!=null&&l(e,["startOffset"],a),e}function Sv(t){const e={},o=s(t,["displayName"]);o!=null&&l(e,["displayName"],o);const i=s(t,["data"]);i!=null&&l(e,["data"],i);const a=s(t,["mimeType"]);return a!=null&&l(e,["mimeType"],a),e}function wv(t){const e={},o=s(t,["displayName"]);o!=null&&l(e,["displayName"],o);const i=s(t,["fileUri"]);i!=null&&l(e,["fileUri"],i);const a=s(t,["mimeType"]);return a!=null&&l(e,["mimeType"],a),e}function xv(t){const e={},o=s(t,["videoMetadata"]);o!=null&&l(e,["videoMetadata"],Tv(o));const i=s(t,["thought"]);i!=null&&l(e,["thought"],i);const a=s(t,["inlineData"]);a!=null&&l(e,["inlineData"],Sv(a));const c=s(t,["fileData"]);c!=null&&l(e,["fileData"],wv(c));const d=s(t,["thoughtSignature"]);d!=null&&l(e,["thoughtSignature"],d);const p=s(t,["codeExecutionResult"]);p!=null&&l(e,["codeExecutionResult"],p);const h=s(t,["executableCode"]);h!=null&&l(e,["executableCode"],h);const m=s(t,["functionCall"]);m!=null&&l(e,["functionCall"],m);const y=s(t,["functionResponse"]);y!=null&&l(e,["functionResponse"],y);const _=s(t,["text"]);return _!=null&&l(e,["text"],_),e}function Ev(t){const e={},o=s(t,["parts"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(c=>xv(c))),l(e,["parts"],a)}const i=s(t,["role"]);return i!=null&&l(e,["role"],i),e}function kv(t){const e={};if(s(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=s(t,["description"]);o!=null&&l(e,["description"],o);const i=s(t,["name"]);i!=null&&l(e,["name"],i);const a=s(t,["parameters"]);a!=null&&l(e,["parameters"],a);const c=s(t,["parametersJsonSchema"]);c!=null&&l(e,["parametersJsonSchema"],c);const d=s(t,["response"]);d!=null&&l(e,["response"],d);const p=s(t,["responseJsonSchema"]);return p!=null&&l(e,["responseJsonSchema"],p),e}function Iv(t){const e={},o=s(t,["startTime"]);o!=null&&l(e,["startTime"],o);const i=s(t,["endTime"]);return i!=null&&l(e,["endTime"],i),e}function Av(t){const e={},o=s(t,["timeRangeFilter"]);return o!=null&&l(e,["timeRangeFilter"],Iv(o)),e}function Rv(t){const e={},o=s(t,["mode"]);o!=null&&l(e,["mode"],o);const i=s(t,["dynamicThreshold"]);return i!=null&&l(e,["dynamicThreshold"],i),e}function Mv(t){const e={},o=s(t,["dynamicRetrievalConfig"]);return o!=null&&l(e,["dynamicRetrievalConfig"],Rv(o)),e}function Pv(){return{}}function Nv(t){const e={},o=s(t,["apiKeyString"]);return o!=null&&l(e,["apiKeyString"],o),e}function Dv(t){const e={},o=s(t,["apiKeyConfig"]);o!=null&&l(e,["apiKeyConfig"],Nv(o));const i=s(t,["authType"]);i!=null&&l(e,["authType"],i);const a=s(t,["googleServiceAccountConfig"]);a!=null&&l(e,["googleServiceAccountConfig"],a);const c=s(t,["httpBasicAuthConfig"]);c!=null&&l(e,["httpBasicAuthConfig"],c);const d=s(t,["oauthConfig"]);d!=null&&l(e,["oauthConfig"],d);const p=s(t,["oidcConfig"]);return p!=null&&l(e,["oidcConfig"],p),e}function Lv(t){const e={},o=s(t,["authConfig"]);return o!=null&&l(e,["authConfig"],Dv(o)),e}function Fv(){return{}}function Uv(t){const e={},o=s(t,["functionDeclarations"]);if(o!=null){let _=o;Array.isArray(_)&&(_=_.map(C=>kv(C))),l(e,["functionDeclarations"],_)}const i=s(t,["retrieval"]);i!=null&&l(e,["retrieval"],i);const a=s(t,["googleSearch"]);a!=null&&l(e,["googleSearch"],Av(a));const c=s(t,["googleSearchRetrieval"]);c!=null&&l(e,["googleSearchRetrieval"],Mv(c)),s(t,["enterpriseWebSearch"])!=null&&l(e,["enterpriseWebSearch"],Pv());const p=s(t,["googleMaps"]);p!=null&&l(e,["googleMaps"],Lv(p)),s(t,["urlContext"])!=null&&l(e,["urlContext"],Fv());const m=s(t,["codeExecution"]);m!=null&&l(e,["codeExecution"],m);const y=s(t,["computerUse"]);return y!=null&&l(e,["computerUse"],y),e}function Vv(t){const e={},o=s(t,["handle"]);o!=null&&l(e,["handle"],o);const i=s(t,["transparent"]);return i!=null&&l(e,["transparent"],i),e}function $f(){return{}}function zv(t){const e={},o=s(t,["disabled"]);o!=null&&l(e,["disabled"],o);const i=s(t,["startOfSpeechSensitivity"]);i!=null&&l(e,["startOfSpeechSensitivity"],i);const a=s(t,["endOfSpeechSensitivity"]);a!=null&&l(e,["endOfSpeechSensitivity"],a);const c=s(t,["prefixPaddingMs"]);c!=null&&l(e,["prefixPaddingMs"],c);const d=s(t,["silenceDurationMs"]);return d!=null&&l(e,["silenceDurationMs"],d),e}function Bv(t){const e={},o=s(t,["automaticActivityDetection"]);o!=null&&l(e,["automaticActivityDetection"],zv(o));const i=s(t,["activityHandling"]);i!=null&&l(e,["activityHandling"],i);const a=s(t,["turnCoverage"]);return a!=null&&l(e,["turnCoverage"],a),e}function Gv(t){const e={},o=s(t,["targetTokens"]);return o!=null&&l(e,["targetTokens"],o),e}function bv(t){const e={},o=s(t,["triggerTokens"]);o!=null&&l(e,["triggerTokens"],o);const i=s(t,["slidingWindow"]);return i!=null&&l(e,["slidingWindow"],Gv(i)),e}function Hv(t){const e={},o=s(t,["proactiveAudio"]);return o!=null&&l(e,["proactiveAudio"],o),e}function qv(t,e){const o={},i=s(t,["generationConfig"]);e!==void 0&&i!=null&&l(e,["setup","generationConfig"],i);const a=s(t,["responseModalities"]);e!==void 0&&a!=null&&l(e,["setup","generationConfig","responseModalities"],a);const c=s(t,["temperature"]);e!==void 0&&c!=null&&l(e,["setup","generationConfig","temperature"],c);const d=s(t,["topP"]);e!==void 0&&d!=null&&l(e,["setup","generationConfig","topP"],d);const p=s(t,["topK"]);e!==void 0&&p!=null&&l(e,["setup","generationConfig","topK"],p);const h=s(t,["maxOutputTokens"]);e!==void 0&&h!=null&&l(e,["setup","generationConfig","maxOutputTokens"],h);const m=s(t,["mediaResolution"]);e!==void 0&&m!=null&&l(e,["setup","generationConfig","mediaResolution"],m);const y=s(t,["seed"]);e!==void 0&&y!=null&&l(e,["setup","generationConfig","seed"],y);const _=s(t,["speechConfig"]);e!==void 0&&_!=null&&l(e,["setup","generationConfig","speechConfig"],Cv(Jl(_)));const C=s(t,["enableAffectiveDialog"]);e!==void 0&&C!=null&&l(e,["setup","generationConfig","enableAffectiveDialog"],C);const T=s(t,["systemInstruction"]);e!==void 0&&T!=null&&l(e,["setup","systemInstruction"],Ev(mt(T)));const R=s(t,["tools"]);if(e!==void 0&&R!=null){let z=Io(R);Array.isArray(z)&&(z=z.map(J=>Uv(ko(J)))),l(e,["setup","tools"],z)}const w=s(t,["sessionResumption"]);e!==void 0&&w!=null&&l(e,["setup","sessionResumption"],Vv(w));const A=s(t,["inputAudioTranscription"]);e!==void 0&&A!=null&&l(e,["setup","inputAudioTranscription"],$f());const I=s(t,["outputAudioTranscription"]);e!==void 0&&I!=null&&l(e,["setup","outputAudioTranscription"],$f());const M=s(t,["realtimeInputConfig"]);e!==void 0&&M!=null&&l(e,["setup","realtimeInputConfig"],Bv(M));const D=s(t,["contextWindowCompression"]);e!==void 0&&D!=null&&l(e,["setup","contextWindowCompression"],bv(D));const V=s(t,["proactivity"]);return e!==void 0&&V!=null&&l(e,["setup","proactivity"],Hv(V)),o}function $v(t,e){const o={},i=s(e,["model"]);i!=null&&l(o,["setup","model"],He(t,i));const a=s(e,["config"]);return a!=null&&l(o,["config"],qv(a,o)),o}function Ov(){return{}}function Jv(){return{}}function Wv(t){const e={},o=s(t,["media"]);o!=null&&l(e,["mediaChunks"],dd(o));const i=s(t,["audio"]);i!=null&&l(e,["audio"],hd(i));const a=s(t,["audioStreamEnd"]);a!=null&&l(e,["audioStreamEnd"],a);const c=s(t,["video"]);c!=null&&l(e,["video"],pd(c));const d=s(t,["text"]);return d!=null&&l(e,["text"],d),s(t,["activityStart"])!=null&&l(e,["activityStart"],Ov()),s(t,["activityEnd"])!=null&&l(e,["activityEnd"],Jv()),e}function Kv(){return{}}function Yv(t){const e={},o=s(t,["fps"]);o!=null&&l(e,["fps"],o);const i=s(t,["endOffset"]);i!=null&&l(e,["endOffset"],i);const a=s(t,["startOffset"]);return a!=null&&l(e,["startOffset"],a),e}function Zv(t){const e={},o=s(t,["data"]);o!=null&&l(e,["data"],o);const i=s(t,["mimeType"]);return i!=null&&l(e,["mimeType"],i),e}function Qv(t){const e={},o=s(t,["fileUri"]);o!=null&&l(e,["fileUri"],o);const i=s(t,["mimeType"]);return i!=null&&l(e,["mimeType"],i),e}function Xv(t){const e={},o=s(t,["videoMetadata"]);o!=null&&l(e,["videoMetadata"],Yv(o));const i=s(t,["thought"]);i!=null&&l(e,["thought"],i);const a=s(t,["inlineData"]);a!=null&&l(e,["inlineData"],Zv(a));const c=s(t,["fileData"]);c!=null&&l(e,["fileData"],Qv(c));const d=s(t,["thoughtSignature"]);d!=null&&l(e,["thoughtSignature"],d);const p=s(t,["codeExecutionResult"]);p!=null&&l(e,["codeExecutionResult"],p);const h=s(t,["executableCode"]);h!=null&&l(e,["executableCode"],h);const m=s(t,["functionCall"]);m!=null&&l(e,["functionCall"],m);const y=s(t,["functionResponse"]);y!=null&&l(e,["functionResponse"],y);const _=s(t,["text"]);return _!=null&&l(e,["text"],_),e}function jv(t){const e={},o=s(t,["parts"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(c=>Xv(c))),l(e,["parts"],a)}const i=s(t,["role"]);return i!=null&&l(e,["role"],i),e}function Of(t){const e={},o=s(t,["text"]);o!=null&&l(e,["text"],o);const i=s(t,["finished"]);return i!=null&&l(e,["finished"],i),e}function e0(t){const e={},o=s(t,["retrievedUrl"]);o!=null&&l(e,["retrievedUrl"],o);const i=s(t,["urlRetrievalStatus"]);return i!=null&&l(e,["urlRetrievalStatus"],i),e}function t0(t){const e={},o=s(t,["urlMetadata"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(a=>e0(a))),l(e,["urlMetadata"],i)}return e}function n0(t){const e={},o=s(t,["modelTurn"]);o!=null&&l(e,["modelTurn"],jv(o));const i=s(t,["turnComplete"]);i!=null&&l(e,["turnComplete"],i);const a=s(t,["interrupted"]);a!=null&&l(e,["interrupted"],a);const c=s(t,["groundingMetadata"]);c!=null&&l(e,["groundingMetadata"],c);const d=s(t,["generationComplete"]);d!=null&&l(e,["generationComplete"],d);const p=s(t,["inputTranscription"]);p!=null&&l(e,["inputTranscription"],Of(p));const h=s(t,["outputTranscription"]);h!=null&&l(e,["outputTranscription"],Of(h));const m=s(t,["urlContextMetadata"]);return m!=null&&l(e,["urlContextMetadata"],t0(m)),e}function o0(t){const e={},o=s(t,["id"]);o!=null&&l(e,["id"],o);const i=s(t,["args"]);i!=null&&l(e,["args"],i);const a=s(t,["name"]);return a!=null&&l(e,["name"],a),e}function r0(t){const e={},o=s(t,["functionCalls"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(a=>o0(a))),l(e,["functionCalls"],i)}return e}function i0(t){const e={},o=s(t,["ids"]);return o!=null&&l(e,["ids"],o),e}function Mi(t){const e={},o=s(t,["modality"]);o!=null&&l(e,["modality"],o);const i=s(t,["tokenCount"]);return i!=null&&l(e,["tokenCount"],i),e}function s0(t){const e={},o=s(t,["promptTokenCount"]);o!=null&&l(e,["promptTokenCount"],o);const i=s(t,["cachedContentTokenCount"]);i!=null&&l(e,["cachedContentTokenCount"],i);const a=s(t,["responseTokenCount"]);a!=null&&l(e,["responseTokenCount"],a);const c=s(t,["toolUsePromptTokenCount"]);c!=null&&l(e,["toolUsePromptTokenCount"],c);const d=s(t,["thoughtsTokenCount"]);d!=null&&l(e,["thoughtsTokenCount"],d);const p=s(t,["totalTokenCount"]);p!=null&&l(e,["totalTokenCount"],p);const h=s(t,["promptTokensDetails"]);if(h!=null){let C=h;Array.isArray(C)&&(C=C.map(T=>Mi(T))),l(e,["promptTokensDetails"],C)}const m=s(t,["cacheTokensDetails"]);if(m!=null){let C=m;Array.isArray(C)&&(C=C.map(T=>Mi(T))),l(e,["cacheTokensDetails"],C)}const y=s(t,["responseTokensDetails"]);if(y!=null){let C=y;Array.isArray(C)&&(C=C.map(T=>Mi(T))),l(e,["responseTokensDetails"],C)}const _=s(t,["toolUsePromptTokensDetails"]);if(_!=null){let C=_;Array.isArray(C)&&(C=C.map(T=>Mi(T))),l(e,["toolUsePromptTokensDetails"],C)}return e}function l0(t){const e={},o=s(t,["timeLeft"]);return o!=null&&l(e,["timeLeft"],o),e}function a0(t){const e={},o=s(t,["newHandle"]);o!=null&&l(e,["newHandle"],o);const i=s(t,["resumable"]);i!=null&&l(e,["resumable"],i);const a=s(t,["lastConsumedClientMessageIndex"]);return a!=null&&l(e,["lastConsumedClientMessageIndex"],a),e}function u0(t){const e={};s(t,["setupComplete"])!=null&&l(e,["setupComplete"],Kv());const i=s(t,["serverContent"]);i!=null&&l(e,["serverContent"],n0(i));const a=s(t,["toolCall"]);a!=null&&l(e,["toolCall"],r0(a));const c=s(t,["toolCallCancellation"]);c!=null&&l(e,["toolCallCancellation"],i0(c));const d=s(t,["usageMetadata"]);d!=null&&l(e,["usageMetadata"],s0(d));const p=s(t,["goAway"]);p!=null&&l(e,["goAway"],l0(p));const h=s(t,["sessionResumptionUpdate"]);return h!=null&&l(e,["sessionResumptionUpdate"],a0(h)),e}function c0(){return{}}function f0(t){const e={},o=s(t,["text"]);o!=null&&l(e,["text"],o);const i=s(t,["weight"]);return i!=null&&l(e,["weight"],i),e}function d0(t){const e={},o=s(t,["weightedPrompts"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(a=>f0(a))),l(e,["weightedPrompts"],i)}return e}function p0(t){const e={},o=s(t,["temperature"]);o!=null&&l(e,["temperature"],o);const i=s(t,["topK"]);i!=null&&l(e,["topK"],i);const a=s(t,["seed"]);a!=null&&l(e,["seed"],a);const c=s(t,["guidance"]);c!=null&&l(e,["guidance"],c);const d=s(t,["bpm"]);d!=null&&l(e,["bpm"],d);const p=s(t,["density"]);p!=null&&l(e,["density"],p);const h=s(t,["brightness"]);h!=null&&l(e,["brightness"],h);const m=s(t,["scale"]);m!=null&&l(e,["scale"],m);const y=s(t,["muteBass"]);y!=null&&l(e,["muteBass"],y);const _=s(t,["muteDrums"]);_!=null&&l(e,["muteDrums"],_);const C=s(t,["onlyBassAndDrums"]);return C!=null&&l(e,["onlyBassAndDrums"],C),e}function h0(t){const e={},o=s(t,["clientContent"]);o!=null&&l(e,["clientContent"],d0(o));const i=s(t,["musicGenerationConfig"]);return i!=null&&l(e,["musicGenerationConfig"],p0(i)),e}function m0(t){const e={},o=s(t,["data"]);o!=null&&l(e,["data"],o);const i=s(t,["mimeType"]);i!=null&&l(e,["mimeType"],i);const a=s(t,["sourceMetadata"]);return a!=null&&l(e,["sourceMetadata"],h0(a)),e}function g0(t){const e={},o=s(t,["audioChunks"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(a=>m0(a))),l(e,["audioChunks"],i)}return e}function y0(t){const e={},o=s(t,["text"]);o!=null&&l(e,["text"],o);const i=s(t,["filteredReason"]);return i!=null&&l(e,["filteredReason"],i),e}function v0(t){const e={};s(t,["setupComplete"])!=null&&l(e,["setupComplete"],c0());const i=s(t,["serverContent"]);i!=null&&l(e,["serverContent"],g0(i));const a=s(t,["filteredPrompt"]);return a!=null&&l(e,["filteredPrompt"],y0(a)),e}function _0(t){const e={},o=s(t,["sessionId"]);return o!=null&&l(e,["sessionId"],o),e}function C0(t){const e={},o=s(t,["fps"]);o!=null&&l(e,["fps"],o);const i=s(t,["endOffset"]);i!=null&&l(e,["endOffset"],i);const a=s(t,["startOffset"]);return a!=null&&l(e,["startOffset"],a),e}function T0(t){const e={},o=s(t,["displayName"]);o!=null&&l(e,["displayName"],o);const i=s(t,["data"]);i!=null&&l(e,["data"],i);const a=s(t,["mimeType"]);return a!=null&&l(e,["mimeType"],a),e}function S0(t){const e={},o=s(t,["displayName"]);o!=null&&l(e,["displayName"],o);const i=s(t,["fileUri"]);i!=null&&l(e,["fileUri"],i);const a=s(t,["mimeType"]);return a!=null&&l(e,["mimeType"],a),e}function w0(t){const e={},o=s(t,["videoMetadata"]);o!=null&&l(e,["videoMetadata"],C0(o));const i=s(t,["thought"]);i!=null&&l(e,["thought"],i);const a=s(t,["inlineData"]);a!=null&&l(e,["inlineData"],T0(a));const c=s(t,["fileData"]);c!=null&&l(e,["fileData"],S0(c));const d=s(t,["thoughtSignature"]);d!=null&&l(e,["thoughtSignature"],d);const p=s(t,["codeExecutionResult"]);p!=null&&l(e,["codeExecutionResult"],p);const h=s(t,["executableCode"]);h!=null&&l(e,["executableCode"],h);const m=s(t,["functionCall"]);m!=null&&l(e,["functionCall"],m);const y=s(t,["functionResponse"]);y!=null&&l(e,["functionResponse"],y);const _=s(t,["text"]);return _!=null&&l(e,["text"],_),e}function x0(t){const e={},o=s(t,["parts"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(c=>w0(c))),l(e,["parts"],a)}const i=s(t,["role"]);return i!=null&&l(e,["role"],i),e}function Jf(t){const e={},o=s(t,["text"]);o!=null&&l(e,["text"],o);const i=s(t,["finished"]);return i!=null&&l(e,["finished"],i),e}function E0(t){const e={},o=s(t,["modelTurn"]);o!=null&&l(e,["modelTurn"],x0(o));const i=s(t,["turnComplete"]);i!=null&&l(e,["turnComplete"],i);const a=s(t,["interrupted"]);a!=null&&l(e,["interrupted"],a);const c=s(t,["groundingMetadata"]);c!=null&&l(e,["groundingMetadata"],c);const d=s(t,["generationComplete"]);d!=null&&l(e,["generationComplete"],d);const p=s(t,["inputTranscription"]);p!=null&&l(e,["inputTranscription"],Jf(p));const h=s(t,["outputTranscription"]);return h!=null&&l(e,["outputTranscription"],Jf(h)),e}function k0(t){const e={},o=s(t,["args"]);o!=null&&l(e,["args"],o);const i=s(t,["name"]);return i!=null&&l(e,["name"],i),e}function I0(t){const e={},o=s(t,["functionCalls"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(a=>k0(a))),l(e,["functionCalls"],i)}return e}function A0(t){const e={},o=s(t,["ids"]);return o!=null&&l(e,["ids"],o),e}function Pi(t){const e={},o=s(t,["modality"]);o!=null&&l(e,["modality"],o);const i=s(t,["tokenCount"]);return i!=null&&l(e,["tokenCount"],i),e}function R0(t){const e={},o=s(t,["promptTokenCount"]);o!=null&&l(e,["promptTokenCount"],o);const i=s(t,["cachedContentTokenCount"]);i!=null&&l(e,["cachedContentTokenCount"],i);const a=s(t,["candidatesTokenCount"]);a!=null&&l(e,["responseTokenCount"],a);const c=s(t,["toolUsePromptTokenCount"]);c!=null&&l(e,["toolUsePromptTokenCount"],c);const d=s(t,["thoughtsTokenCount"]);d!=null&&l(e,["thoughtsTokenCount"],d);const p=s(t,["totalTokenCount"]);p!=null&&l(e,["totalTokenCount"],p);const h=s(t,["promptTokensDetails"]);if(h!=null){let T=h;Array.isArray(T)&&(T=T.map(R=>Pi(R))),l(e,["promptTokensDetails"],T)}const m=s(t,["cacheTokensDetails"]);if(m!=null){let T=m;Array.isArray(T)&&(T=T.map(R=>Pi(R))),l(e,["cacheTokensDetails"],T)}const y=s(t,["candidatesTokensDetails"]);if(y!=null){let T=y;Array.isArray(T)&&(T=T.map(R=>Pi(R))),l(e,["responseTokensDetails"],T)}const _=s(t,["toolUsePromptTokensDetails"]);if(_!=null){let T=_;Array.isArray(T)&&(T=T.map(R=>Pi(R))),l(e,["toolUsePromptTokensDetails"],T)}const C=s(t,["trafficType"]);return C!=null&&l(e,["trafficType"],C),e}function M0(t){const e={},o=s(t,["timeLeft"]);return o!=null&&l(e,["timeLeft"],o),e}function P0(t){const e={},o=s(t,["newHandle"]);o!=null&&l(e,["newHandle"],o);const i=s(t,["resumable"]);i!=null&&l(e,["resumable"],i);const a=s(t,["lastConsumedClientMessageIndex"]);return a!=null&&l(e,["lastConsumedClientMessageIndex"],a),e}function N0(t){const e={},o=s(t,["setupComplete"]);o!=null&&l(e,["setupComplete"],_0(o));const i=s(t,["serverContent"]);i!=null&&l(e,["serverContent"],E0(i));const a=s(t,["toolCall"]);a!=null&&l(e,["toolCall"],I0(a));const c=s(t,["toolCallCancellation"]);c!=null&&l(e,["toolCallCancellation"],A0(c));const d=s(t,["usageMetadata"]);d!=null&&l(e,["usageMetadata"],R0(d));const p=s(t,["goAway"]);p!=null&&l(e,["goAway"],M0(p));const h=s(t,["sessionResumptionUpdate"]);return h!=null&&l(e,["sessionResumptionUpdate"],P0(h)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function D0(t){const e={},o=s(t,["fps"]);o!=null&&l(e,["fps"],o);const i=s(t,["endOffset"]);i!=null&&l(e,["endOffset"],i);const a=s(t,["startOffset"]);return a!=null&&l(e,["startOffset"],a),e}function L0(t){const e={};if(s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(t,["data"]);o!=null&&l(e,["data"],o);const i=s(t,["mimeType"]);return i!=null&&l(e,["mimeType"],i),e}function F0(t){const e={};if(s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(t,["fileUri"]);o!=null&&l(e,["fileUri"],o);const i=s(t,["mimeType"]);return i!=null&&l(e,["mimeType"],i),e}function U0(t){const e={},o=s(t,["videoMetadata"]);o!=null&&l(e,["videoMetadata"],D0(o));const i=s(t,["thought"]);i!=null&&l(e,["thought"],i);const a=s(t,["inlineData"]);a!=null&&l(e,["inlineData"],L0(a));const c=s(t,["fileData"]);c!=null&&l(e,["fileData"],F0(c));const d=s(t,["thoughtSignature"]);d!=null&&l(e,["thoughtSignature"],d);const p=s(t,["codeExecutionResult"]);p!=null&&l(e,["codeExecutionResult"],p);const h=s(t,["executableCode"]);h!=null&&l(e,["executableCode"],h);const m=s(t,["functionCall"]);m!=null&&l(e,["functionCall"],m);const y=s(t,["functionResponse"]);y!=null&&l(e,["functionResponse"],y);const _=s(t,["text"]);return _!=null&&l(e,["text"],_),e}function zi(t){const e={},o=s(t,["parts"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(c=>U0(c))),l(e,["parts"],a)}const i=s(t,["role"]);return i!=null&&l(e,["role"],i),e}function V0(t){const e={},o=s(t,["anyOf"]);o!=null&&l(e,["anyOf"],o);const i=s(t,["default"]);i!=null&&l(e,["default"],i);const a=s(t,["description"]);a!=null&&l(e,["description"],a);const c=s(t,["enum"]);c!=null&&l(e,["enum"],c);const d=s(t,["example"]);d!=null&&l(e,["example"],d);const p=s(t,["format"]);p!=null&&l(e,["format"],p);const h=s(t,["items"]);h!=null&&l(e,["items"],h);const m=s(t,["maxItems"]);m!=null&&l(e,["maxItems"],m);const y=s(t,["maxLength"]);y!=null&&l(e,["maxLength"],y);const _=s(t,["maxProperties"]);_!=null&&l(e,["maxProperties"],_);const C=s(t,["maximum"]);C!=null&&l(e,["maximum"],C);const T=s(t,["minItems"]);T!=null&&l(e,["minItems"],T);const R=s(t,["minLength"]);R!=null&&l(e,["minLength"],R);const w=s(t,["minProperties"]);w!=null&&l(e,["minProperties"],w);const A=s(t,["minimum"]);A!=null&&l(e,["minimum"],A);const I=s(t,["nullable"]);I!=null&&l(e,["nullable"],I);const M=s(t,["pattern"]);M!=null&&l(e,["pattern"],M);const D=s(t,["properties"]);D!=null&&l(e,["properties"],D);const V=s(t,["propertyOrdering"]);V!=null&&l(e,["propertyOrdering"],V);const z=s(t,["required"]);z!=null&&l(e,["required"],z);const J=s(t,["title"]);J!=null&&l(e,["title"],J);const $=s(t,["type"]);return $!=null&&l(e,["type"],$),e}function z0(t){const e={};if(s(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=s(t,["category"]);o!=null&&l(e,["category"],o);const i=s(t,["threshold"]);return i!=null&&l(e,["threshold"],i),e}function B0(t){const e={},o=s(t,["behavior"]);o!=null&&l(e,["behavior"],o);const i=s(t,["description"]);i!=null&&l(e,["description"],i);const a=s(t,["name"]);a!=null&&l(e,["name"],a);const c=s(t,["parameters"]);c!=null&&l(e,["parameters"],c);const d=s(t,["parametersJsonSchema"]);d!=null&&l(e,["parametersJsonSchema"],d);const p=s(t,["response"]);p!=null&&l(e,["response"],p);const h=s(t,["responseJsonSchema"]);return h!=null&&l(e,["responseJsonSchema"],h),e}function G0(t){const e={},o=s(t,["startTime"]);o!=null&&l(e,["startTime"],o);const i=s(t,["endTime"]);return i!=null&&l(e,["endTime"],i),e}function b0(t){const e={},o=s(t,["timeRangeFilter"]);return o!=null&&l(e,["timeRangeFilter"],G0(o)),e}function H0(t){const e={},o=s(t,["mode"]);o!=null&&l(e,["mode"],o);const i=s(t,["dynamicThreshold"]);return i!=null&&l(e,["dynamicThreshold"],i),e}function q0(t){const e={},o=s(t,["dynamicRetrievalConfig"]);return o!=null&&l(e,["dynamicRetrievalConfig"],H0(o)),e}function $0(){return{}}function O0(t){const e={},o=s(t,["functionDeclarations"]);if(o!=null){let h=o;Array.isArray(h)&&(h=h.map(m=>B0(m))),l(e,["functionDeclarations"],h)}if(s(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=s(t,["googleSearch"]);i!=null&&l(e,["googleSearch"],b0(i));const a=s(t,["googleSearchRetrieval"]);if(a!=null&&l(e,["googleSearchRetrieval"],q0(a)),s(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(s(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");s(t,["urlContext"])!=null&&l(e,["urlContext"],$0());const d=s(t,["codeExecution"]);d!=null&&l(e,["codeExecution"],d);const p=s(t,["computerUse"]);return p!=null&&l(e,["computerUse"],p),e}function J0(t){const e={},o=s(t,["mode"]);o!=null&&l(e,["mode"],o);const i=s(t,["allowedFunctionNames"]);return i!=null&&l(e,["allowedFunctionNames"],i),e}function W0(t){const e={},o=s(t,["latitude"]);o!=null&&l(e,["latitude"],o);const i=s(t,["longitude"]);return i!=null&&l(e,["longitude"],i),e}function K0(t){const e={},o=s(t,["latLng"]);o!=null&&l(e,["latLng"],W0(o));const i=s(t,["languageCode"]);return i!=null&&l(e,["languageCode"],i),e}function Y0(t){const e={},o=s(t,["functionCallingConfig"]);o!=null&&l(e,["functionCallingConfig"],J0(o));const i=s(t,["retrievalConfig"]);return i!=null&&l(e,["retrievalConfig"],K0(i)),e}function Z0(t){const e={},o=s(t,["voiceName"]);return o!=null&&l(e,["voiceName"],o),e}function Dd(t){const e={},o=s(t,["prebuiltVoiceConfig"]);return o!=null&&l(e,["prebuiltVoiceConfig"],Z0(o)),e}function Q0(t){const e={},o=s(t,["speaker"]);o!=null&&l(e,["speaker"],o);const i=s(t,["voiceConfig"]);return i!=null&&l(e,["voiceConfig"],Dd(i)),e}function X0(t){const e={},o=s(t,["speakerVoiceConfigs"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(a=>Q0(a))),l(e,["speakerVoiceConfigs"],i)}return e}function j0(t){const e={},o=s(t,["voiceConfig"]);o!=null&&l(e,["voiceConfig"],Dd(o));const i=s(t,["multiSpeakerVoiceConfig"]);i!=null&&l(e,["multiSpeakerVoiceConfig"],X0(i));const a=s(t,["languageCode"]);return a!=null&&l(e,["languageCode"],a),e}function e_(t){const e={},o=s(t,["includeThoughts"]);o!=null&&l(e,["includeThoughts"],o);const i=s(t,["thinkingBudget"]);return i!=null&&l(e,["thinkingBudget"],i),e}function t_(t,e,o){const i={},a=s(e,["systemInstruction"]);o!==void 0&&a!=null&&l(o,["systemInstruction"],zi(mt(a)));const c=s(e,["temperature"]);c!=null&&l(i,["temperature"],c);const d=s(e,["topP"]);d!=null&&l(i,["topP"],d);const p=s(e,["topK"]);p!=null&&l(i,["topK"],p);const h=s(e,["candidateCount"]);h!=null&&l(i,["candidateCount"],h);const m=s(e,["maxOutputTokens"]);m!=null&&l(i,["maxOutputTokens"],m);const y=s(e,["stopSequences"]);y!=null&&l(i,["stopSequences"],y);const _=s(e,["responseLogprobs"]);_!=null&&l(i,["responseLogprobs"],_);const C=s(e,["logprobs"]);C!=null&&l(i,["logprobs"],C);const T=s(e,["presencePenalty"]);T!=null&&l(i,["presencePenalty"],T);const R=s(e,["frequencyPenalty"]);R!=null&&l(i,["frequencyPenalty"],R);const w=s(e,["seed"]);w!=null&&l(i,["seed"],w);const A=s(e,["responseMimeType"]);A!=null&&l(i,["responseMimeType"],A);const I=s(e,["responseSchema"]);I!=null&&l(i,["responseSchema"],V0($l(I)));const M=s(e,["responseJsonSchema"]);if(M!=null&&l(i,["responseJsonSchema"],M),s(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(s(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const D=s(e,["safetySettings"]);if(o!==void 0&&D!=null){let me=D;Array.isArray(me)&&(me=me.map(U=>z0(U))),l(o,["safetySettings"],me)}const V=s(e,["tools"]);if(o!==void 0&&V!=null){let me=Io(V);Array.isArray(me)&&(me=me.map(U=>O0(ko(U)))),l(o,["tools"],me)}const z=s(e,["toolConfig"]);if(o!==void 0&&z!=null&&l(o,["toolConfig"],Y0(z)),s(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const J=s(e,["cachedContent"]);o!==void 0&&J!=null&&l(o,["cachedContent"],un(t,J));const $=s(e,["responseModalities"]);$!=null&&l(i,["responseModalities"],$);const ne=s(e,["mediaResolution"]);ne!=null&&l(i,["mediaResolution"],ne);const q=s(e,["speechConfig"]);if(q!=null&&l(i,["speechConfig"],j0(Ol(q))),s(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const re=s(e,["thinkingConfig"]);return re!=null&&l(i,["thinkingConfig"],e_(re)),i}function Wf(t,e){const o={},i=s(e,["model"]);i!=null&&l(o,["_url","model"],He(t,i));const a=s(e,["contents"]);if(a!=null){let d=zt(a);Array.isArray(d)&&(d=d.map(p=>zi(p))),l(o,["contents"],d)}const c=s(e,["config"]);return c!=null&&l(o,["generationConfig"],t_(t,c,o)),o}function n_(t,e){const o={},i=s(t,["taskType"]);e!==void 0&&i!=null&&l(e,["requests[]","taskType"],i);const a=s(t,["title"]);e!==void 0&&a!=null&&l(e,["requests[]","title"],a);const c=s(t,["outputDimensionality"]);if(e!==void 0&&c!=null&&l(e,["requests[]","outputDimensionality"],c),s(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(s(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function o_(t,e){const o={},i=s(e,["model"]);i!=null&&l(o,["_url","model"],He(t,i));const a=s(e,["contents"]);a!=null&&l(o,["requests[]","content"],gd(t,a));const c=s(e,["config"]);c!=null&&l(o,["config"],n_(c,o));const d=s(e,["model"]);return d!==void 0&&l(o,["requests[]","model"],He(t,d)),o}function r_(t,e){const o={};if(s(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(s(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const i=s(t,["numberOfImages"]);e!==void 0&&i!=null&&l(e,["parameters","sampleCount"],i);const a=s(t,["aspectRatio"]);e!==void 0&&a!=null&&l(e,["parameters","aspectRatio"],a);const c=s(t,["guidanceScale"]);if(e!==void 0&&c!=null&&l(e,["parameters","guidanceScale"],c),s(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const d=s(t,["safetyFilterLevel"]);e!==void 0&&d!=null&&l(e,["parameters","safetySetting"],d);const p=s(t,["personGeneration"]);e!==void 0&&p!=null&&l(e,["parameters","personGeneration"],p);const h=s(t,["includeSafetyAttributes"]);e!==void 0&&h!=null&&l(e,["parameters","includeSafetyAttributes"],h);const m=s(t,["includeRaiReason"]);e!==void 0&&m!=null&&l(e,["parameters","includeRaiReason"],m);const y=s(t,["language"]);e!==void 0&&y!=null&&l(e,["parameters","language"],y);const _=s(t,["outputMimeType"]);e!==void 0&&_!=null&&l(e,["parameters","outputOptions","mimeType"],_);const C=s(t,["outputCompressionQuality"]);if(e!==void 0&&C!=null&&l(e,["parameters","outputOptions","compressionQuality"],C),s(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(s(t,["imageSize"])!==void 0)throw new Error("imageSize parameter is not supported in Gemini API.");if(s(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return o}function i_(t,e){const o={},i=s(e,["model"]);i!=null&&l(o,["_url","model"],He(t,i));const a=s(e,["prompt"]);a!=null&&l(o,["instances[0]","prompt"],a);const c=s(e,["config"]);return c!=null&&l(o,["config"],r_(c,o)),o}function s_(t,e){const o={},i=s(e,["model"]);i!=null&&l(o,["_url","name"],He(t,i));const a=s(e,["config"]);return a!=null&&l(o,["config"],a),o}function l_(t,e,o){const i={},a=s(e,["pageSize"]);o!==void 0&&a!=null&&l(o,["_query","pageSize"],a);const c=s(e,["pageToken"]);o!==void 0&&c!=null&&l(o,["_query","pageToken"],c);const d=s(e,["filter"]);o!==void 0&&d!=null&&l(o,["_query","filter"],d);const p=s(e,["queryBase"]);return o!==void 0&&p!=null&&l(o,["_url","models_url"],_d(t,p)),i}function a_(t,e){const o={},i=s(e,["config"]);return i!=null&&l(o,["config"],l_(t,i,o)),o}function u_(t,e){const o={},i=s(t,["displayName"]);e!==void 0&&i!=null&&l(e,["displayName"],i);const a=s(t,["description"]);e!==void 0&&a!=null&&l(e,["description"],a);const c=s(t,["defaultCheckpointId"]);return e!==void 0&&c!=null&&l(e,["defaultCheckpointId"],c),o}function c_(t,e){const o={},i=s(e,["model"]);i!=null&&l(o,["_url","name"],He(t,i));const a=s(e,["config"]);return a!=null&&l(o,["config"],u_(a,o)),o}function f_(t,e){const o={},i=s(e,["model"]);i!=null&&l(o,["_url","name"],He(t,i));const a=s(e,["config"]);return a!=null&&l(o,["config"],a),o}function d_(t){const e={};if(s(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(s(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(s(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function p_(t,e){const o={},i=s(e,["model"]);i!=null&&l(o,["_url","model"],He(t,i));const a=s(e,["contents"]);if(a!=null){let d=zt(a);Array.isArray(d)&&(d=d.map(p=>zi(p))),l(o,["contents"],d)}const c=s(e,["config"]);return c!=null&&l(o,["config"],d_(c)),o}function h_(t){const e={};if(s(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const o=s(t,["imageBytes"]);o!=null&&l(e,["bytesBase64Encoded"],Qn(o));const i=s(t,["mimeType"]);return i!=null&&l(e,["mimeType"],i),e}function m_(t,e){const o={},i=s(t,["numberOfVideos"]);if(e!==void 0&&i!=null&&l(e,["parameters","sampleCount"],i),s(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(s(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const a=s(t,["durationSeconds"]);if(e!==void 0&&a!=null&&l(e,["parameters","durationSeconds"],a),s(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const c=s(t,["aspectRatio"]);if(e!==void 0&&c!=null&&l(e,["parameters","aspectRatio"],c),s(t,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const d=s(t,["personGeneration"]);if(e!==void 0&&d!=null&&l(e,["parameters","personGeneration"],d),s(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const p=s(t,["negativePrompt"]);e!==void 0&&p!=null&&l(e,["parameters","negativePrompt"],p);const h=s(t,["enhancePrompt"]);if(e!==void 0&&h!=null&&l(e,["parameters","enhancePrompt"],h),s(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");if(s(t,["lastFrame"])!==void 0)throw new Error("lastFrame parameter is not supported in Gemini API.");if(s(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return o}function g_(t,e){const o={},i=s(e,["model"]);i!=null&&l(o,["_url","model"],He(t,i));const a=s(e,["prompt"]);a!=null&&l(o,["instances[0]","prompt"],a);const c=s(e,["image"]);if(c!=null&&l(o,["instances[0]","image"],h_(c)),s(e,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");const d=s(e,["config"]);return d!=null&&l(o,["config"],m_(d,o)),o}function y_(t){const e={},o=s(t,["fps"]);o!=null&&l(e,["fps"],o);const i=s(t,["endOffset"]);i!=null&&l(e,["endOffset"],i);const a=s(t,["startOffset"]);return a!=null&&l(e,["startOffset"],a),e}function v_(t){const e={},o=s(t,["displayName"]);o!=null&&l(e,["displayName"],o);const i=s(t,["data"]);i!=null&&l(e,["data"],i);const a=s(t,["mimeType"]);return a!=null&&l(e,["mimeType"],a),e}function __(t){const e={},o=s(t,["displayName"]);o!=null&&l(e,["displayName"],o);const i=s(t,["fileUri"]);i!=null&&l(e,["fileUri"],i);const a=s(t,["mimeType"]);return a!=null&&l(e,["mimeType"],a),e}function C_(t){const e={},o=s(t,["videoMetadata"]);o!=null&&l(e,["videoMetadata"],y_(o));const i=s(t,["thought"]);i!=null&&l(e,["thought"],i);const a=s(t,["inlineData"]);a!=null&&l(e,["inlineData"],v_(a));const c=s(t,["fileData"]);c!=null&&l(e,["fileData"],__(c));const d=s(t,["thoughtSignature"]);d!=null&&l(e,["thoughtSignature"],d);const p=s(t,["codeExecutionResult"]);p!=null&&l(e,["codeExecutionResult"],p);const h=s(t,["executableCode"]);h!=null&&l(e,["executableCode"],h);const m=s(t,["functionCall"]);m!=null&&l(e,["functionCall"],m);const y=s(t,["functionResponse"]);y!=null&&l(e,["functionResponse"],y);const _=s(t,["text"]);return _!=null&&l(e,["text"],_),e}function Ro(t){const e={},o=s(t,["parts"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(c=>C_(c))),l(e,["parts"],a)}const i=s(t,["role"]);return i!=null&&l(e,["role"],i),e}function T_(t){const e={},o=s(t,["anyOf"]);o!=null&&l(e,["anyOf"],o);const i=s(t,["default"]);i!=null&&l(e,["default"],i);const a=s(t,["description"]);a!=null&&l(e,["description"],a);const c=s(t,["enum"]);c!=null&&l(e,["enum"],c);const d=s(t,["example"]);d!=null&&l(e,["example"],d);const p=s(t,["format"]);p!=null&&l(e,["format"],p);const h=s(t,["items"]);h!=null&&l(e,["items"],h);const m=s(t,["maxItems"]);m!=null&&l(e,["maxItems"],m);const y=s(t,["maxLength"]);y!=null&&l(e,["maxLength"],y);const _=s(t,["maxProperties"]);_!=null&&l(e,["maxProperties"],_);const C=s(t,["maximum"]);C!=null&&l(e,["maximum"],C);const T=s(t,["minItems"]);T!=null&&l(e,["minItems"],T);const R=s(t,["minLength"]);R!=null&&l(e,["minLength"],R);const w=s(t,["minProperties"]);w!=null&&l(e,["minProperties"],w);const A=s(t,["minimum"]);A!=null&&l(e,["minimum"],A);const I=s(t,["nullable"]);I!=null&&l(e,["nullable"],I);const M=s(t,["pattern"]);M!=null&&l(e,["pattern"],M);const D=s(t,["properties"]);D!=null&&l(e,["properties"],D);const V=s(t,["propertyOrdering"]);V!=null&&l(e,["propertyOrdering"],V);const z=s(t,["required"]);z!=null&&l(e,["required"],z);const J=s(t,["title"]);J!=null&&l(e,["title"],J);const $=s(t,["type"]);return $!=null&&l(e,["type"],$),e}function S_(t){const e={},o=s(t,["featureSelectionPreference"]);return o!=null&&l(e,["featureSelectionPreference"],o),e}function w_(t){const e={},o=s(t,["method"]);o!=null&&l(e,["method"],o);const i=s(t,["category"]);i!=null&&l(e,["category"],i);const a=s(t,["threshold"]);return a!=null&&l(e,["threshold"],a),e}function x_(t){const e={};if(s(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=s(t,["description"]);o!=null&&l(e,["description"],o);const i=s(t,["name"]);i!=null&&l(e,["name"],i);const a=s(t,["parameters"]);a!=null&&l(e,["parameters"],a);const c=s(t,["parametersJsonSchema"]);c!=null&&l(e,["parametersJsonSchema"],c);const d=s(t,["response"]);d!=null&&l(e,["response"],d);const p=s(t,["responseJsonSchema"]);return p!=null&&l(e,["responseJsonSchema"],p),e}function E_(t){const e={},o=s(t,["startTime"]);o!=null&&l(e,["startTime"],o);const i=s(t,["endTime"]);return i!=null&&l(e,["endTime"],i),e}function k_(t){const e={},o=s(t,["timeRangeFilter"]);return o!=null&&l(e,["timeRangeFilter"],E_(o)),e}function I_(t){const e={},o=s(t,["mode"]);o!=null&&l(e,["mode"],o);const i=s(t,["dynamicThreshold"]);return i!=null&&l(e,["dynamicThreshold"],i),e}function A_(t){const e={},o=s(t,["dynamicRetrievalConfig"]);return o!=null&&l(e,["dynamicRetrievalConfig"],I_(o)),e}function R_(){return{}}function M_(t){const e={},o=s(t,["apiKeyString"]);return o!=null&&l(e,["apiKeyString"],o),e}function P_(t){const e={},o=s(t,["apiKeyConfig"]);o!=null&&l(e,["apiKeyConfig"],M_(o));const i=s(t,["authType"]);i!=null&&l(e,["authType"],i);const a=s(t,["googleServiceAccountConfig"]);a!=null&&l(e,["googleServiceAccountConfig"],a);const c=s(t,["httpBasicAuthConfig"]);c!=null&&l(e,["httpBasicAuthConfig"],c);const d=s(t,["oauthConfig"]);d!=null&&l(e,["oauthConfig"],d);const p=s(t,["oidcConfig"]);return p!=null&&l(e,["oidcConfig"],p),e}function N_(t){const e={},o=s(t,["authConfig"]);return o!=null&&l(e,["authConfig"],P_(o)),e}function D_(){return{}}function Ld(t){const e={},o=s(t,["functionDeclarations"]);if(o!=null){let _=o;Array.isArray(_)&&(_=_.map(C=>x_(C))),l(e,["functionDeclarations"],_)}const i=s(t,["retrieval"]);i!=null&&l(e,["retrieval"],i);const a=s(t,["googleSearch"]);a!=null&&l(e,["googleSearch"],k_(a));const c=s(t,["googleSearchRetrieval"]);c!=null&&l(e,["googleSearchRetrieval"],A_(c)),s(t,["enterpriseWebSearch"])!=null&&l(e,["enterpriseWebSearch"],R_());const p=s(t,["googleMaps"]);p!=null&&l(e,["googleMaps"],N_(p)),s(t,["urlContext"])!=null&&l(e,["urlContext"],D_());const m=s(t,["codeExecution"]);m!=null&&l(e,["codeExecution"],m);const y=s(t,["computerUse"]);return y!=null&&l(e,["computerUse"],y),e}function L_(t){const e={},o=s(t,["mode"]);o!=null&&l(e,["mode"],o);const i=s(t,["allowedFunctionNames"]);return i!=null&&l(e,["allowedFunctionNames"],i),e}function F_(t){const e={},o=s(t,["latitude"]);o!=null&&l(e,["latitude"],o);const i=s(t,["longitude"]);return i!=null&&l(e,["longitude"],i),e}function U_(t){const e={},o=s(t,["latLng"]);o!=null&&l(e,["latLng"],F_(o));const i=s(t,["languageCode"]);return i!=null&&l(e,["languageCode"],i),e}function V_(t){const e={},o=s(t,["functionCallingConfig"]);o!=null&&l(e,["functionCallingConfig"],L_(o));const i=s(t,["retrievalConfig"]);return i!=null&&l(e,["retrievalConfig"],U_(i)),e}function z_(t){const e={},o=s(t,["voiceName"]);return o!=null&&l(e,["voiceName"],o),e}function B_(t){const e={},o=s(t,["prebuiltVoiceConfig"]);return o!=null&&l(e,["prebuiltVoiceConfig"],z_(o)),e}function G_(t){const e={},o=s(t,["voiceConfig"]);if(o!=null&&l(e,["voiceConfig"],B_(o)),s(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const i=s(t,["languageCode"]);return i!=null&&l(e,["languageCode"],i),e}function b_(t){const e={},o=s(t,["includeThoughts"]);o!=null&&l(e,["includeThoughts"],o);const i=s(t,["thinkingBudget"]);return i!=null&&l(e,["thinkingBudget"],i),e}function H_(t,e,o){const i={},a=s(e,["systemInstruction"]);o!==void 0&&a!=null&&l(o,["systemInstruction"],Ro(mt(a)));const c=s(e,["temperature"]);c!=null&&l(i,["temperature"],c);const d=s(e,["topP"]);d!=null&&l(i,["topP"],d);const p=s(e,["topK"]);p!=null&&l(i,["topK"],p);const h=s(e,["candidateCount"]);h!=null&&l(i,["candidateCount"],h);const m=s(e,["maxOutputTokens"]);m!=null&&l(i,["maxOutputTokens"],m);const y=s(e,["stopSequences"]);y!=null&&l(i,["stopSequences"],y);const _=s(e,["responseLogprobs"]);_!=null&&l(i,["responseLogprobs"],_);const C=s(e,["logprobs"]);C!=null&&l(i,["logprobs"],C);const T=s(e,["presencePenalty"]);T!=null&&l(i,["presencePenalty"],T);const R=s(e,["frequencyPenalty"]);R!=null&&l(i,["frequencyPenalty"],R);const w=s(e,["seed"]);w!=null&&l(i,["seed"],w);const A=s(e,["responseMimeType"]);A!=null&&l(i,["responseMimeType"],A);const I=s(e,["responseSchema"]);I!=null&&l(i,["responseSchema"],T_($l(I)));const M=s(e,["responseJsonSchema"]);M!=null&&l(i,["responseJsonSchema"],M);const D=s(e,["routingConfig"]);D!=null&&l(i,["routingConfig"],D);const V=s(e,["modelSelectionConfig"]);V!=null&&l(i,["modelConfig"],S_(V));const z=s(e,["safetySettings"]);if(o!==void 0&&z!=null){let oe=z;Array.isArray(oe)&&(oe=oe.map(he=>w_(he))),l(o,["safetySettings"],oe)}const J=s(e,["tools"]);if(o!==void 0&&J!=null){let oe=Io(J);Array.isArray(oe)&&(oe=oe.map(he=>Ld(ko(he)))),l(o,["tools"],oe)}const $=s(e,["toolConfig"]);o!==void 0&&$!=null&&l(o,["toolConfig"],V_($));const ne=s(e,["labels"]);o!==void 0&&ne!=null&&l(o,["labels"],ne);const q=s(e,["cachedContent"]);o!==void 0&&q!=null&&l(o,["cachedContent"],un(t,q));const re=s(e,["responseModalities"]);re!=null&&l(i,["responseModalities"],re);const me=s(e,["mediaResolution"]);me!=null&&l(i,["mediaResolution"],me);const U=s(e,["speechConfig"]);U!=null&&l(i,["speechConfig"],G_(Ol(U)));const ee=s(e,["audioTimestamp"]);ee!=null&&l(i,["audioTimestamp"],ee);const E=s(e,["thinkingConfig"]);return E!=null&&l(i,["thinkingConfig"],b_(E)),i}function Kf(t,e){const o={},i=s(e,["model"]);i!=null&&l(o,["_url","model"],He(t,i));const a=s(e,["contents"]);if(a!=null){let d=zt(a);Array.isArray(d)&&(d=d.map(p=>Ro(p))),l(o,["contents"],d)}const c=s(e,["config"]);return c!=null&&l(o,["generationConfig"],H_(t,c,o)),o}function q_(t,e){const o={},i=s(t,["taskType"]);e!==void 0&&i!=null&&l(e,["instances[]","task_type"],i);const a=s(t,["title"]);e!==void 0&&a!=null&&l(e,["instances[]","title"],a);const c=s(t,["outputDimensionality"]);e!==void 0&&c!=null&&l(e,["parameters","outputDimensionality"],c);const d=s(t,["mimeType"]);e!==void 0&&d!=null&&l(e,["instances[]","mimeType"],d);const p=s(t,["autoTruncate"]);return e!==void 0&&p!=null&&l(e,["parameters","autoTruncate"],p),o}function $_(t,e){const o={},i=s(e,["model"]);i!=null&&l(o,["_url","model"],He(t,i));const a=s(e,["contents"]);a!=null&&l(o,["instances[]","content"],gd(t,a));const c=s(e,["config"]);return c!=null&&l(o,["config"],q_(c,o)),o}function O_(t,e){const o={},i=s(t,["outputGcsUri"]);e!==void 0&&i!=null&&l(e,["parameters","storageUri"],i);const a=s(t,["negativePrompt"]);e!==void 0&&a!=null&&l(e,["parameters","negativePrompt"],a);const c=s(t,["numberOfImages"]);e!==void 0&&c!=null&&l(e,["parameters","sampleCount"],c);const d=s(t,["aspectRatio"]);e!==void 0&&d!=null&&l(e,["parameters","aspectRatio"],d);const p=s(t,["guidanceScale"]);e!==void 0&&p!=null&&l(e,["parameters","guidanceScale"],p);const h=s(t,["seed"]);e!==void 0&&h!=null&&l(e,["parameters","seed"],h);const m=s(t,["safetyFilterLevel"]);e!==void 0&&m!=null&&l(e,["parameters","safetySetting"],m);const y=s(t,["personGeneration"]);e!==void 0&&y!=null&&l(e,["parameters","personGeneration"],y);const _=s(t,["includeSafetyAttributes"]);e!==void 0&&_!=null&&l(e,["parameters","includeSafetyAttributes"],_);const C=s(t,["includeRaiReason"]);e!==void 0&&C!=null&&l(e,["parameters","includeRaiReason"],C);const T=s(t,["language"]);e!==void 0&&T!=null&&l(e,["parameters","language"],T);const R=s(t,["outputMimeType"]);e!==void 0&&R!=null&&l(e,["parameters","outputOptions","mimeType"],R);const w=s(t,["outputCompressionQuality"]);e!==void 0&&w!=null&&l(e,["parameters","outputOptions","compressionQuality"],w);const A=s(t,["addWatermark"]);e!==void 0&&A!=null&&l(e,["parameters","addWatermark"],A);const I=s(t,["imageSize"]);e!==void 0&&I!=null&&l(e,["parameters","sampleImageSize"],I);const M=s(t,["enhancePrompt"]);return e!==void 0&&M!=null&&l(e,["parameters","enhancePrompt"],M),o}function J_(t,e){const o={},i=s(e,["model"]);i!=null&&l(o,["_url","model"],He(t,i));const a=s(e,["prompt"]);a!=null&&l(o,["instances[0]","prompt"],a);const c=s(e,["config"]);return c!=null&&l(o,["config"],O_(c,o)),o}function Bi(t){const e={},o=s(t,["gcsUri"]);o!=null&&l(e,["gcsUri"],o);const i=s(t,["imageBytes"]);i!=null&&l(e,["bytesBase64Encoded"],Qn(i));const a=s(t,["mimeType"]);return a!=null&&l(e,["mimeType"],a),e}function W_(t){const e={},o=s(t,["maskMode"]);o!=null&&l(e,["maskMode"],o);const i=s(t,["segmentationClasses"]);i!=null&&l(e,["maskClasses"],i);const a=s(t,["maskDilation"]);return a!=null&&l(e,["dilation"],a),e}function K_(t){const e={},o=s(t,["controlType"]);o!=null&&l(e,["controlType"],o);const i=s(t,["enableControlImageComputation"]);return i!=null&&l(e,["computeControl"],i),e}function Y_(t){const e={},o=s(t,["styleDescription"]);return o!=null&&l(e,["styleDescription"],o),e}function Z_(t){const e={},o=s(t,["subjectType"]);o!=null&&l(e,["subjectType"],o);const i=s(t,["subjectDescription"]);return i!=null&&l(e,["subjectDescription"],i),e}function Q_(t){const e={},o=s(t,["referenceImage"]);o!=null&&l(e,["referenceImage"],Bi(o));const i=s(t,["referenceId"]);i!=null&&l(e,["referenceId"],i);const a=s(t,["referenceType"]);a!=null&&l(e,["referenceType"],a);const c=s(t,["maskImageConfig"]);c!=null&&l(e,["maskImageConfig"],W_(c));const d=s(t,["controlImageConfig"]);d!=null&&l(e,["controlImageConfig"],K_(d));const p=s(t,["styleImageConfig"]);p!=null&&l(e,["styleImageConfig"],Y_(p));const h=s(t,["subjectImageConfig"]);return h!=null&&l(e,["subjectImageConfig"],Z_(h)),e}function X_(t,e){const o={},i=s(t,["outputGcsUri"]);e!==void 0&&i!=null&&l(e,["parameters","storageUri"],i);const a=s(t,["negativePrompt"]);e!==void 0&&a!=null&&l(e,["parameters","negativePrompt"],a);const c=s(t,["numberOfImages"]);e!==void 0&&c!=null&&l(e,["parameters","sampleCount"],c);const d=s(t,["aspectRatio"]);e!==void 0&&d!=null&&l(e,["parameters","aspectRatio"],d);const p=s(t,["guidanceScale"]);e!==void 0&&p!=null&&l(e,["parameters","guidanceScale"],p);const h=s(t,["seed"]);e!==void 0&&h!=null&&l(e,["parameters","seed"],h);const m=s(t,["safetyFilterLevel"]);e!==void 0&&m!=null&&l(e,["parameters","safetySetting"],m);const y=s(t,["personGeneration"]);e!==void 0&&y!=null&&l(e,["parameters","personGeneration"],y);const _=s(t,["includeSafetyAttributes"]);e!==void 0&&_!=null&&l(e,["parameters","includeSafetyAttributes"],_);const C=s(t,["includeRaiReason"]);e!==void 0&&C!=null&&l(e,["parameters","includeRaiReason"],C);const T=s(t,["language"]);e!==void 0&&T!=null&&l(e,["parameters","language"],T);const R=s(t,["outputMimeType"]);e!==void 0&&R!=null&&l(e,["parameters","outputOptions","mimeType"],R);const w=s(t,["outputCompressionQuality"]);e!==void 0&&w!=null&&l(e,["parameters","outputOptions","compressionQuality"],w);const A=s(t,["addWatermark"]);e!==void 0&&A!=null&&l(e,["parameters","addWatermark"],A);const I=s(t,["editMode"]);e!==void 0&&I!=null&&l(e,["parameters","editMode"],I);const M=s(t,["baseSteps"]);return e!==void 0&&M!=null&&l(e,["parameters","editConfig","baseSteps"],M),o}function j_(t,e){const o={},i=s(e,["model"]);i!=null&&l(o,["_url","model"],He(t,i));const a=s(e,["prompt"]);a!=null&&l(o,["instances[0]","prompt"],a);const c=s(e,["referenceImages"]);if(c!=null){let p=c;Array.isArray(p)&&(p=p.map(h=>Q_(h))),l(o,["instances[0]","referenceImages"],p)}const d=s(e,["config"]);return d!=null&&l(o,["config"],X_(d,o)),o}function eC(t,e){const o={},i=s(t,["includeRaiReason"]);e!==void 0&&i!=null&&l(e,["parameters","includeRaiReason"],i);const a=s(t,["outputMimeType"]);e!==void 0&&a!=null&&l(e,["parameters","outputOptions","mimeType"],a);const c=s(t,["outputCompressionQuality"]);e!==void 0&&c!=null&&l(e,["parameters","outputOptions","compressionQuality"],c);const d=s(t,["enhanceInputImage"]);e!==void 0&&d!=null&&l(e,["parameters","upscaleConfig","enhanceInputImage"],d);const p=s(t,["imagePreservationFactor"]);e!==void 0&&p!=null&&l(e,["parameters","upscaleConfig","imagePreservationFactor"],p);const h=s(t,["numberOfImages"]);e!==void 0&&h!=null&&l(e,["parameters","sampleCount"],h);const m=s(t,["mode"]);return e!==void 0&&m!=null&&l(e,["parameters","mode"],m),o}function tC(t,e){const o={},i=s(e,["model"]);i!=null&&l(o,["_url","model"],He(t,i));const a=s(e,["image"]);a!=null&&l(o,["instances[0]","image"],Bi(a));const c=s(e,["upscaleFactor"]);c!=null&&l(o,["parameters","upscaleConfig","upscaleFactor"],c);const d=s(e,["config"]);return d!=null&&l(o,["config"],eC(d,o)),o}function nC(t,e){const o={},i=s(e,["model"]);i!=null&&l(o,["_url","name"],He(t,i));const a=s(e,["config"]);return a!=null&&l(o,["config"],a),o}function oC(t,e,o){const i={},a=s(e,["pageSize"]);o!==void 0&&a!=null&&l(o,["_query","pageSize"],a);const c=s(e,["pageToken"]);o!==void 0&&c!=null&&l(o,["_query","pageToken"],c);const d=s(e,["filter"]);o!==void 0&&d!=null&&l(o,["_query","filter"],d);const p=s(e,["queryBase"]);return o!==void 0&&p!=null&&l(o,["_url","models_url"],_d(t,p)),i}function rC(t,e){const o={},i=s(e,["config"]);return i!=null&&l(o,["config"],oC(t,i,o)),o}function iC(t,e){const o={},i=s(t,["displayName"]);e!==void 0&&i!=null&&l(e,["displayName"],i);const a=s(t,["description"]);e!==void 0&&a!=null&&l(e,["description"],a);const c=s(t,["defaultCheckpointId"]);return e!==void 0&&c!=null&&l(e,["defaultCheckpointId"],c),o}function sC(t,e){const o={},i=s(e,["model"]);i!=null&&l(o,["_url","model"],He(t,i));const a=s(e,["config"]);return a!=null&&l(o,["config"],iC(a,o)),o}function lC(t,e){const o={},i=s(e,["model"]);i!=null&&l(o,["_url","name"],He(t,i));const a=s(e,["config"]);return a!=null&&l(o,["config"],a),o}function aC(t,e){const o={},i=s(t,["systemInstruction"]);e!==void 0&&i!=null&&l(e,["systemInstruction"],Ro(mt(i)));const a=s(t,["tools"]);if(e!==void 0&&a!=null){let d=a;Array.isArray(d)&&(d=d.map(p=>Ld(p))),l(e,["tools"],d)}const c=s(t,["generationConfig"]);return e!==void 0&&c!=null&&l(e,["generationConfig"],c),o}function uC(t,e){const o={},i=s(e,["model"]);i!=null&&l(o,["_url","model"],He(t,i));const a=s(e,["contents"]);if(a!=null){let d=zt(a);Array.isArray(d)&&(d=d.map(p=>Ro(p))),l(o,["contents"],d)}const c=s(e,["config"]);return c!=null&&l(o,["config"],aC(c,o)),o}function cC(t,e){const o={},i=s(e,["model"]);i!=null&&l(o,["_url","model"],He(t,i));const a=s(e,["contents"]);if(a!=null){let d=zt(a);Array.isArray(d)&&(d=d.map(p=>Ro(p))),l(o,["contents"],d)}const c=s(e,["config"]);return c!=null&&l(o,["config"],c),o}function fC(t){const e={},o=s(t,["uri"]);o!=null&&l(e,["gcsUri"],o);const i=s(t,["videoBytes"]);i!=null&&l(e,["bytesBase64Encoded"],Qn(i));const a=s(t,["mimeType"]);return a!=null&&l(e,["mimeType"],a),e}function dC(t,e){const o={},i=s(t,["numberOfVideos"]);e!==void 0&&i!=null&&l(e,["parameters","sampleCount"],i);const a=s(t,["outputGcsUri"]);e!==void 0&&a!=null&&l(e,["parameters","storageUri"],a);const c=s(t,["fps"]);e!==void 0&&c!=null&&l(e,["parameters","fps"],c);const d=s(t,["durationSeconds"]);e!==void 0&&d!=null&&l(e,["parameters","durationSeconds"],d);const p=s(t,["seed"]);e!==void 0&&p!=null&&l(e,["parameters","seed"],p);const h=s(t,["aspectRatio"]);e!==void 0&&h!=null&&l(e,["parameters","aspectRatio"],h);const m=s(t,["resolution"]);e!==void 0&&m!=null&&l(e,["parameters","resolution"],m);const y=s(t,["personGeneration"]);e!==void 0&&y!=null&&l(e,["parameters","personGeneration"],y);const _=s(t,["pubsubTopic"]);e!==void 0&&_!=null&&l(e,["parameters","pubsubTopic"],_);const C=s(t,["negativePrompt"]);e!==void 0&&C!=null&&l(e,["parameters","negativePrompt"],C);const T=s(t,["enhancePrompt"]);e!==void 0&&T!=null&&l(e,["parameters","enhancePrompt"],T);const R=s(t,["generateAudio"]);e!==void 0&&R!=null&&l(e,["parameters","generateAudio"],R);const w=s(t,["lastFrame"]);e!==void 0&&w!=null&&l(e,["instances[0]","lastFrame"],Bi(w));const A=s(t,["compressionQuality"]);return e!==void 0&&A!=null&&l(e,["parameters","compressionQuality"],A),o}function pC(t,e){const o={},i=s(e,["model"]);i!=null&&l(o,["_url","model"],He(t,i));const a=s(e,["prompt"]);a!=null&&l(o,["instances[0]","prompt"],a);const c=s(e,["image"]);c!=null&&l(o,["instances[0]","image"],Bi(c));const d=s(e,["video"]);d!=null&&l(o,["instances[0]","video"],fC(d));const p=s(e,["config"]);return p!=null&&l(o,["config"],dC(p,o)),o}function hC(t){const e={},o=s(t,["fps"]);o!=null&&l(e,["fps"],o);const i=s(t,["endOffset"]);i!=null&&l(e,["endOffset"],i);const a=s(t,["startOffset"]);return a!=null&&l(e,["startOffset"],a),e}function mC(t){const e={},o=s(t,["data"]);o!=null&&l(e,["data"],o);const i=s(t,["mimeType"]);return i!=null&&l(e,["mimeType"],i),e}function gC(t){const e={},o=s(t,["fileUri"]);o!=null&&l(e,["fileUri"],o);const i=s(t,["mimeType"]);return i!=null&&l(e,["mimeType"],i),e}function yC(t){const e={},o=s(t,["videoMetadata"]);o!=null&&l(e,["videoMetadata"],hC(o));const i=s(t,["thought"]);i!=null&&l(e,["thought"],i);const a=s(t,["inlineData"]);a!=null&&l(e,["inlineData"],mC(a));const c=s(t,["fileData"]);c!=null&&l(e,["fileData"],gC(c));const d=s(t,["thoughtSignature"]);d!=null&&l(e,["thoughtSignature"],d);const p=s(t,["codeExecutionResult"]);p!=null&&l(e,["codeExecutionResult"],p);const h=s(t,["executableCode"]);h!=null&&l(e,["executableCode"],h);const m=s(t,["functionCall"]);m!=null&&l(e,["functionCall"],m);const y=s(t,["functionResponse"]);y!=null&&l(e,["functionResponse"],y);const _=s(t,["text"]);return _!=null&&l(e,["text"],_),e}function vC(t){const e={},o=s(t,["parts"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(c=>yC(c))),l(e,["parts"],a)}const i=s(t,["role"]);return i!=null&&l(e,["role"],i),e}function _C(t){const e={},o=s(t,["citationSources"]);return o!=null&&l(e,["citations"],o),e}function CC(t){const e={},o=s(t,["retrievedUrl"]);o!=null&&l(e,["retrievedUrl"],o);const i=s(t,["urlRetrievalStatus"]);return i!=null&&l(e,["urlRetrievalStatus"],i),e}function TC(t){const e={},o=s(t,["urlMetadata"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(a=>CC(a))),l(e,["urlMetadata"],i)}return e}function SC(t){const e={},o=s(t,["content"]);o!=null&&l(e,["content"],vC(o));const i=s(t,["citationMetadata"]);i!=null&&l(e,["citationMetadata"],_C(i));const a=s(t,["tokenCount"]);a!=null&&l(e,["tokenCount"],a);const c=s(t,["finishReason"]);c!=null&&l(e,["finishReason"],c);const d=s(t,["urlContextMetadata"]);d!=null&&l(e,["urlContextMetadata"],TC(d));const p=s(t,["avgLogprobs"]);p!=null&&l(e,["avgLogprobs"],p);const h=s(t,["groundingMetadata"]);h!=null&&l(e,["groundingMetadata"],h);const m=s(t,["index"]);m!=null&&l(e,["index"],m);const y=s(t,["logprobsResult"]);y!=null&&l(e,["logprobsResult"],y);const _=s(t,["safetyRatings"]);return _!=null&&l(e,["safetyRatings"],_),e}function Yf(t){const e={},o=s(t,["sdkHttpResponse"]);o!=null&&l(e,["sdkHttpResponse"],o);const i=s(t,["candidates"]);if(i!=null){let p=i;Array.isArray(p)&&(p=p.map(h=>SC(h))),l(e,["candidates"],p)}const a=s(t,["modelVersion"]);a!=null&&l(e,["modelVersion"],a);const c=s(t,["promptFeedback"]);c!=null&&l(e,["promptFeedback"],c);const d=s(t,["usageMetadata"]);return d!=null&&l(e,["usageMetadata"],d),e}function wC(t){const e={},o=s(t,["values"]);return o!=null&&l(e,["values"],o),e}function xC(){return{}}function EC(t){const e={},o=s(t,["sdkHttpResponse"]);o!=null&&l(e,["sdkHttpResponse"],o);const i=s(t,["embeddings"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(d=>wC(d))),l(e,["embeddings"],c)}return s(t,["metadata"])!=null&&l(e,["metadata"],xC()),e}function kC(t){const e={},o=s(t,["bytesBase64Encoded"]);o!=null&&l(e,["imageBytes"],Qn(o));const i=s(t,["mimeType"]);return i!=null&&l(e,["mimeType"],i),e}function Fd(t){const e={},o=s(t,["safetyAttributes","categories"]);o!=null&&l(e,["categories"],o);const i=s(t,["safetyAttributes","scores"]);i!=null&&l(e,["scores"],i);const a=s(t,["contentType"]);return a!=null&&l(e,["contentType"],a),e}function IC(t){const e={},o=s(t,["_self"]);o!=null&&l(e,["image"],kC(o));const i=s(t,["raiFilteredReason"]);i!=null&&l(e,["raiFilteredReason"],i);const a=s(t,["_self"]);return a!=null&&l(e,["safetyAttributes"],Fd(a)),e}function AC(t){const e={},o=s(t,["sdkHttpResponse"]);o!=null&&l(e,["sdkHttpResponse"],o);const i=s(t,["predictions"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(d=>IC(d))),l(e,["generatedImages"],c)}const a=s(t,["positivePromptSafetyAttributes"]);return a!=null&&l(e,["positivePromptSafetyAttributes"],Fd(a)),e}function RC(t){const e={},o=s(t,["baseModel"]);o!=null&&l(e,["baseModel"],o);const i=s(t,["createTime"]);i!=null&&l(e,["createTime"],i);const a=s(t,["updateTime"]);return a!=null&&l(e,["updateTime"],a),e}function zl(t){const e={},o=s(t,["name"]);o!=null&&l(e,["name"],o);const i=s(t,["displayName"]);i!=null&&l(e,["displayName"],i);const a=s(t,["description"]);a!=null&&l(e,["description"],a);const c=s(t,["version"]);c!=null&&l(e,["version"],c);const d=s(t,["_self"]);d!=null&&l(e,["tunedModelInfo"],RC(d));const p=s(t,["inputTokenLimit"]);p!=null&&l(e,["inputTokenLimit"],p);const h=s(t,["outputTokenLimit"]);h!=null&&l(e,["outputTokenLimit"],h);const m=s(t,["supportedGenerationMethods"]);return m!=null&&l(e,["supportedActions"],m),e}function MC(t){const e={},o=s(t,["sdkHttpResponse"]);o!=null&&l(e,["sdkHttpResponse"],o);const i=s(t,["nextPageToken"]);i!=null&&l(e,["nextPageToken"],i);const a=s(t,["_self"]);if(a!=null){let c=Cd(a);Array.isArray(c)&&(c=c.map(d=>zl(d))),l(e,["models"],c)}return e}function PC(){return{}}function NC(t){const e={},o=s(t,["sdkHttpResponse"]);o!=null&&l(e,["sdkHttpResponse"],o);const i=s(t,["totalTokens"]);i!=null&&l(e,["totalTokens"],i);const a=s(t,["cachedContentTokenCount"]);return a!=null&&l(e,["cachedContentTokenCount"],a),e}function DC(t){const e={},o=s(t,["video","uri"]);o!=null&&l(e,["uri"],o);const i=s(t,["video","encodedVideo"]);i!=null&&l(e,["videoBytes"],Qn(i));const a=s(t,["encoding"]);return a!=null&&l(e,["mimeType"],a),e}function LC(t){const e={},o=s(t,["_self"]);return o!=null&&l(e,["video"],DC(o)),e}function FC(t){const e={},o=s(t,["generatedSamples"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>LC(d))),l(e,["generatedVideos"],c)}const i=s(t,["raiMediaFilteredCount"]);i!=null&&l(e,["raiMediaFilteredCount"],i);const a=s(t,["raiMediaFilteredReasons"]);return a!=null&&l(e,["raiMediaFilteredReasons"],a),e}function UC(t){const e={},o=s(t,["name"]);o!=null&&l(e,["name"],o);const i=s(t,["metadata"]);i!=null&&l(e,["metadata"],i);const a=s(t,["done"]);a!=null&&l(e,["done"],a);const c=s(t,["error"]);c!=null&&l(e,["error"],c);const d=s(t,["response","generateVideoResponse"]);return d!=null&&l(e,["response"],FC(d)),e}function VC(t){const e={},o=s(t,["fps"]);o!=null&&l(e,["fps"],o);const i=s(t,["endOffset"]);i!=null&&l(e,["endOffset"],i);const a=s(t,["startOffset"]);return a!=null&&l(e,["startOffset"],a),e}function zC(t){const e={},o=s(t,["displayName"]);o!=null&&l(e,["displayName"],o);const i=s(t,["data"]);i!=null&&l(e,["data"],i);const a=s(t,["mimeType"]);return a!=null&&l(e,["mimeType"],a),e}function BC(t){const e={},o=s(t,["displayName"]);o!=null&&l(e,["displayName"],o);const i=s(t,["fileUri"]);i!=null&&l(e,["fileUri"],i);const a=s(t,["mimeType"]);return a!=null&&l(e,["mimeType"],a),e}function GC(t){const e={},o=s(t,["videoMetadata"]);o!=null&&l(e,["videoMetadata"],VC(o));const i=s(t,["thought"]);i!=null&&l(e,["thought"],i);const a=s(t,["inlineData"]);a!=null&&l(e,["inlineData"],zC(a));const c=s(t,["fileData"]);c!=null&&l(e,["fileData"],BC(c));const d=s(t,["thoughtSignature"]);d!=null&&l(e,["thoughtSignature"],d);const p=s(t,["codeExecutionResult"]);p!=null&&l(e,["codeExecutionResult"],p);const h=s(t,["executableCode"]);h!=null&&l(e,["executableCode"],h);const m=s(t,["functionCall"]);m!=null&&l(e,["functionCall"],m);const y=s(t,["functionResponse"]);y!=null&&l(e,["functionResponse"],y);const _=s(t,["text"]);return _!=null&&l(e,["text"],_),e}function bC(t){const e={},o=s(t,["parts"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(c=>GC(c))),l(e,["parts"],a)}const i=s(t,["role"]);return i!=null&&l(e,["role"],i),e}function HC(t){const e={},o=s(t,["citations"]);return o!=null&&l(e,["citations"],o),e}function qC(t){const e={},o=s(t,["retrievedUrl"]);o!=null&&l(e,["retrievedUrl"],o);const i=s(t,["urlRetrievalStatus"]);return i!=null&&l(e,["urlRetrievalStatus"],i),e}function $C(t){const e={},o=s(t,["urlMetadata"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(a=>qC(a))),l(e,["urlMetadata"],i)}return e}function OC(t){const e={},o=s(t,["content"]);o!=null&&l(e,["content"],bC(o));const i=s(t,["citationMetadata"]);i!=null&&l(e,["citationMetadata"],HC(i));const a=s(t,["finishMessage"]);a!=null&&l(e,["finishMessage"],a);const c=s(t,["finishReason"]);c!=null&&l(e,["finishReason"],c);const d=s(t,["urlContextMetadata"]);d!=null&&l(e,["urlContextMetadata"],$C(d));const p=s(t,["avgLogprobs"]);p!=null&&l(e,["avgLogprobs"],p);const h=s(t,["groundingMetadata"]);h!=null&&l(e,["groundingMetadata"],h);const m=s(t,["index"]);m!=null&&l(e,["index"],m);const y=s(t,["logprobsResult"]);y!=null&&l(e,["logprobsResult"],y);const _=s(t,["safetyRatings"]);return _!=null&&l(e,["safetyRatings"],_),e}function Zf(t){const e={},o=s(t,["sdkHttpResponse"]);o!=null&&l(e,["sdkHttpResponse"],o);const i=s(t,["candidates"]);if(i!=null){let m=i;Array.isArray(m)&&(m=m.map(y=>OC(y))),l(e,["candidates"],m)}const a=s(t,["createTime"]);a!=null&&l(e,["createTime"],a);const c=s(t,["responseId"]);c!=null&&l(e,["responseId"],c);const d=s(t,["modelVersion"]);d!=null&&l(e,["modelVersion"],d);const p=s(t,["promptFeedback"]);p!=null&&l(e,["promptFeedback"],p);const h=s(t,["usageMetadata"]);return h!=null&&l(e,["usageMetadata"],h),e}function JC(t){const e={},o=s(t,["truncated"]);o!=null&&l(e,["truncated"],o);const i=s(t,["token_count"]);return i!=null&&l(e,["tokenCount"],i),e}function WC(t){const e={},o=s(t,["values"]);o!=null&&l(e,["values"],o);const i=s(t,["statistics"]);return i!=null&&l(e,["statistics"],JC(i)),e}function KC(t){const e={},o=s(t,["billableCharacterCount"]);return o!=null&&l(e,["billableCharacterCount"],o),e}function YC(t){const e={},o=s(t,["sdkHttpResponse"]);o!=null&&l(e,["sdkHttpResponse"],o);const i=s(t,["predictions[]","embeddings"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(d=>WC(d))),l(e,["embeddings"],c)}const a=s(t,["metadata"]);return a!=null&&l(e,["metadata"],KC(a)),e}function ZC(t){const e={},o=s(t,["gcsUri"]);o!=null&&l(e,["gcsUri"],o);const i=s(t,["bytesBase64Encoded"]);i!=null&&l(e,["imageBytes"],Qn(i));const a=s(t,["mimeType"]);return a!=null&&l(e,["mimeType"],a),e}function Ud(t){const e={},o=s(t,["safetyAttributes","categories"]);o!=null&&l(e,["categories"],o);const i=s(t,["safetyAttributes","scores"]);i!=null&&l(e,["scores"],i);const a=s(t,["contentType"]);return a!=null&&l(e,["contentType"],a),e}function Wl(t){const e={},o=s(t,["_self"]);o!=null&&l(e,["image"],ZC(o));const i=s(t,["raiFilteredReason"]);i!=null&&l(e,["raiFilteredReason"],i);const a=s(t,["_self"]);a!=null&&l(e,["safetyAttributes"],Ud(a));const c=s(t,["prompt"]);return c!=null&&l(e,["enhancedPrompt"],c),e}function QC(t){const e={},o=s(t,["sdkHttpResponse"]);o!=null&&l(e,["sdkHttpResponse"],o);const i=s(t,["predictions"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(d=>Wl(d))),l(e,["generatedImages"],c)}const a=s(t,["positivePromptSafetyAttributes"]);return a!=null&&l(e,["positivePromptSafetyAttributes"],Ud(a)),e}function XC(t){const e={},o=s(t,["sdkHttpResponse"]);o!=null&&l(e,["sdkHttpResponse"],o);const i=s(t,["predictions"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(c=>Wl(c))),l(e,["generatedImages"],a)}return e}function jC(t){const e={},o=s(t,["sdkHttpResponse"]);o!=null&&l(e,["sdkHttpResponse"],o);const i=s(t,["predictions"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(c=>Wl(c))),l(e,["generatedImages"],a)}return e}function eT(t){const e={},o=s(t,["endpoint"]);o!=null&&l(e,["name"],o);const i=s(t,["deployedModelId"]);return i!=null&&l(e,["deployedModelId"],i),e}function tT(t){const e={},o=s(t,["labels","google-vertex-llm-tuning-base-model-id"]);o!=null&&l(e,["baseModel"],o);const i=s(t,["createTime"]);i!=null&&l(e,["createTime"],i);const a=s(t,["updateTime"]);return a!=null&&l(e,["updateTime"],a),e}function nT(t){const e={},o=s(t,["checkpointId"]);o!=null&&l(e,["checkpointId"],o);const i=s(t,["epoch"]);i!=null&&l(e,["epoch"],i);const a=s(t,["step"]);return a!=null&&l(e,["step"],a),e}function Bl(t){const e={},o=s(t,["name"]);o!=null&&l(e,["name"],o);const i=s(t,["displayName"]);i!=null&&l(e,["displayName"],i);const a=s(t,["description"]);a!=null&&l(e,["description"],a);const c=s(t,["versionId"]);c!=null&&l(e,["version"],c);const d=s(t,["deployedModels"]);if(d!=null){let _=d;Array.isArray(_)&&(_=_.map(C=>eT(C))),l(e,["endpoints"],_)}const p=s(t,["labels"]);p!=null&&l(e,["labels"],p);const h=s(t,["_self"]);h!=null&&l(e,["tunedModelInfo"],tT(h));const m=s(t,["defaultCheckpointId"]);m!=null&&l(e,["defaultCheckpointId"],m);const y=s(t,["checkpoints"]);if(y!=null){let _=y;Array.isArray(_)&&(_=_.map(C=>nT(C))),l(e,["checkpoints"],_)}return e}function oT(t){const e={},o=s(t,["sdkHttpResponse"]);o!=null&&l(e,["sdkHttpResponse"],o);const i=s(t,["nextPageToken"]);i!=null&&l(e,["nextPageToken"],i);const a=s(t,["_self"]);if(a!=null){let c=Cd(a);Array.isArray(c)&&(c=c.map(d=>Bl(d))),l(e,["models"],c)}return e}function rT(){return{}}function iT(t){const e={},o=s(t,["sdkHttpResponse"]);o!=null&&l(e,["sdkHttpResponse"],o);const i=s(t,["totalTokens"]);return i!=null&&l(e,["totalTokens"],i),e}function sT(t){const e={},o=s(t,["sdkHttpResponse"]);o!=null&&l(e,["sdkHttpResponse"],o);const i=s(t,["tokensInfo"]);return i!=null&&l(e,["tokensInfo"],i),e}function lT(t){const e={},o=s(t,["gcsUri"]);o!=null&&l(e,["uri"],o);const i=s(t,["bytesBase64Encoded"]);i!=null&&l(e,["videoBytes"],Qn(i));const a=s(t,["mimeType"]);return a!=null&&l(e,["mimeType"],a),e}function aT(t){const e={},o=s(t,["_self"]);return o!=null&&l(e,["video"],lT(o)),e}function uT(t){const e={},o=s(t,["videos"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>aT(d))),l(e,["generatedVideos"],c)}const i=s(t,["raiMediaFilteredCount"]);i!=null&&l(e,["raiMediaFilteredCount"],i);const a=s(t,["raiMediaFilteredReasons"]);return a!=null&&l(e,["raiMediaFilteredReasons"],a),e}function cT(t){const e={},o=s(t,["name"]);o!=null&&l(e,["name"],o);const i=s(t,["metadata"]);i!=null&&l(e,["metadata"],i);const a=s(t,["done"]);a!=null&&l(e,["done"],a);const c=s(t,["error"]);c!=null&&l(e,["error"],c);const d=s(t,["response"]);return d!=null&&l(e,["response"],uT(d)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const fT="Content-Type",dT="X-Server-Timeout",pT="User-Agent",Gl="x-goog-api-client",hT="1.12.0",mT=`google-genai-sdk/${hT}`,gT="v1beta1",yT="v1beta",Qf=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class vT{constructor(e){var o,i;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const a={};this.clientOptions.vertexai?(a.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:gT,a.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(a.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:yT,a.baseUrl="https://generativelanguage.googleapis.com/"),a.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=a,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(a,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const i=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&i.push(e.apiVersion),i.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),o=new URL(e);return o.protocol=o.protocol=="http:"?"ws":"wss",o.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,o,i){const a=[this.getRequestUrlInternal(o)];return i&&a.push(this.getBaseResourcePath()),e!==""&&a.push(e),new URL(`${a.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let o=this.clientOptions.httpOptions;e.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),a=this.constructUrl(e.path,o,i);if(e.queryParams)for(const[d,p]of Object.entries(e.queryParams))a.searchParams.append(d,String(p));let c={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else c.body=e.body;return c=await this.includeExtraHttpOptionsToRequestInit(c,o,e.abortSignal),this.unaryApiCall(a,c,e.httpMethod)}patchHttpOptions(e,o){const i=JSON.parse(JSON.stringify(e));for(const[a,c]of Object.entries(o))typeof c=="object"?i[a]=Object.assign(Object.assign({},i[a]),c):c!==void 0&&(i[a]=c);return i}async requestStream(e){let o=this.clientOptions.httpOptions;e.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),a=this.constructUrl(e.path,o,i);(!a.searchParams.has("alt")||a.searchParams.get("alt")!=="sse")&&a.searchParams.set("alt","sse");let c={};return c.body=e.body,c=await this.includeExtraHttpOptionsToRequestInit(c,o,e.abortSignal),this.streamApiCall(a,c,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,o,i){if(o&&o.timeout||i){const a=new AbortController,c=a.signal;if(o.timeout&&o?.timeout>0){const d=setTimeout(()=>a.abort(),o.timeout);d&&typeof d.unref=="function"&&d.unref()}i&&i.addEventListener("abort",()=>{a.abort()}),e.signal=c}return o&&o.extraBody!==null&&_T(e,o.extraBody),e.headers=await this.getHeadersInternal(o),e}async unaryApiCall(e,o,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},o),{method:i})).then(async a=>(await Xf(a),new Nl(a))).catch(a=>{throw a instanceof Error?a:new Error(JSON.stringify(a))})}async streamApiCall(e,o,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},o),{method:i})).then(async a=>(await Xf(a),this.processStreamResponse(a))).catch(a=>{throw a instanceof Error?a:new Error(JSON.stringify(a))})}processStreamResponse(e){var o;return xo(this,arguments,function*(){const a=(o=e?.body)===null||o===void 0?void 0:o.getReader(),c=new TextDecoder("utf-8");if(!a)throw new Error("Response body is empty");try{let d="";for(;;){const{done:p,value:h}=yield We(a.read());if(p){if(d.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const m=c.decode(h,{stream:!0});try{const _=JSON.parse(m);if("error"in _){const C=JSON.parse(JSON.stringify(_.error)),T=C.status,R=C.code,w=`got status: ${T}. ${JSON.stringify(_)}`;if(R>=400&&R<600)throw new Vi({message:w,status:R})}}catch(_){if(_.name==="ApiError")throw _}d+=m;let y=d.match(Qf);for(;y;){const _=y[1];try{const C=new Response(_,{headers:e?.headers,status:e?.status,statusText:e?.statusText});yield yield We(new Nl(C)),d=d.slice(y[0].length),y=d.match(Qf)}catch(C){throw new Error(`exception parsing stream chunk ${_}. ${C}`)}}}}finally{a.releaseLock()}})}async apiCall(e,o){return fetch(e,o).catch(i=>{throw new Error(`exception ${i} sending request`)})}getDefaultHeaders(){const e={},o=mT+" "+this.clientOptions.userAgentExtra;return e[pT]=o,e[Gl]=o,e[fT]="application/json",e}async getHeadersInternal(e){const o=new Headers;if(e&&e.headers){for(const[i,a]of Object.entries(e.headers))o.append(i,a);e.timeout&&e.timeout>0&&o.append(dT,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(o),o}async uploadFile(e,o){var i;const a={};o!=null&&(a.mimeType=o.mimeType,a.name=o.name,a.displayName=o.displayName),a.name&&!a.name.startsWith("files/")&&(a.name=`files/${a.name}`);const c=this.clientOptions.uploader,d=await c.stat(e);a.sizeBytes=String(d.size);const p=(i=o?.mimeType)!==null&&i!==void 0?i:d.type;if(p===void 0||p==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");a.mimeType=p;const h=await this.fetchUploadUrl(a,o);return c.upload(e,h,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,o){var i;let a={};o?.httpOptions?a=o.httpOptions:a={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const c={file:e},d=await this.request({path:ke("upload/v1beta/files",c._url),body:JSON.stringify(c),httpMethod:"POST",httpOptions:a});if(!d||!d?.headers)throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const p=(i=d?.headers)===null||i===void 0?void 0:i["x-goog-upload-url"];if(p===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return p}}async function Xf(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const o=t.status;let i;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?i=await t.json():i={error:{message:await t.text(),code:t.status,status:t.statusText}};const a=JSON.stringify(i);throw o>=400&&o<600?new Vi({message:a,status:o}):new Error(a)}}function _T(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let o={};if(typeof t.body=="string"&&t.body.length>0)try{const c=JSON.parse(t.body);if(typeof c=="object"&&c!==null&&!Array.isArray(c))o=c;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function i(c,d){const p=Object.assign({},c);for(const h in d)if(Object.prototype.hasOwnProperty.call(d,h)){const m=d[h],y=p[h];m&&typeof m=="object"&&!Array.isArray(m)&&y&&typeof y=="object"&&!Array.isArray(y)?p[h]=i(y,m):(y&&m&&typeof y!=typeof m&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${h}". Original type: ${typeof y}, New type: ${typeof m}. Overwriting.`),p[h]=m)}return p}const a=i(o,e);t.body=JSON.stringify(a)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const CT="mcp_used/unknown";let TT=!1;function Vd(t){for(const e of t)if(ST(e)||typeof e=="object"&&"inputSchema"in e)return!0;return TT}function zd(t){var e;const o=(e=t[Gl])!==null&&e!==void 0?e:"";t[Gl]=(o+` ${CT}`).trimStart()}function ST(t){return t!==null&&typeof t=="object"&&t instanceof Kl}function wT(t,e=100){return xo(this,arguments,function*(){let i,a=0;for(;a<e;){const c=yield We(t.listTools({cursor:i}));for(const d of c.tools)yield yield We(d),a++;if(!c.nextCursor)break;i=c.nextCursor}})}class Kl{constructor(e=[],o){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=o}static create(e,o){return new Kl(e,o)}async initialize(){var e,o,i,a;if(this.mcpTools.length>0)return;const c={},d=[];for(const y of this.mcpClients)try{for(var p=!0,h=(o=void 0,vr(wT(y))),m;m=await h.next(),e=m.done,!e;p=!0){a=m.value,p=!1;const _=a;d.push(_);const C=_.name;if(c[C])throw new Error(`Duplicate function name ${C} found in MCP tools. Please ensure function names are unique.`);c[C]=y}}catch(_){o={error:_}}finally{try{!p&&!e&&(i=h.return)&&await i.call(h)}finally{if(o)throw o.error}}this.mcpTools=d,this.functionNameToMcpClient=c}async tool(){return await this.initialize(),vm(this.mcpTools,this.config)}async callTool(e){await this.initialize();const o=[];for(const i of e)if(i.name in this.functionNameToMcpClient){const a=this.functionNameToMcpClient[i.name];let c;this.config.timeout&&(c={timeout:this.config.timeout});const d=await a.callTool({name:i.name,arguments:i.args},void 0,c);o.push({functionResponse:{name:i.name,response:d.isError?{error:d}:d}})}return o}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function xT(t,e,o){const i=new cm;let a;o.data instanceof Blob?a=JSON.parse(await o.data.text()):a=JSON.parse(o.data);const c=v0(a);Object.assign(i,c),e(i)}class ET{constructor(e,o,i){this.apiClient=e,this.auth=o,this.webSocketFactory=i}async connect(e){var o,i;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const a=this.apiClient.getWebsocketBaseUrl(),c=this.apiClient.getApiVersion(),d=AT(this.apiClient.getDefaultHeaders()),p=this.apiClient.getApiKey(),h=`${a}/ws/google.ai.generativelanguage.${c}.GenerativeService.BidiGenerateMusic?key=${p}`;let m=()=>{};const y=new Promise(D=>{m=D}),_=e.callbacks,C=function(){m({})},T=this.apiClient,R={onopen:C,onmessage:D=>{xT(T,_.onmessage,D)},onerror:(o=_?.onerror)!==null&&o!==void 0?o:function(D){},onclose:(i=_?.onclose)!==null&&i!==void 0?i:function(D){}},w=this.webSocketFactory.create(h,IT(d),R);w.connect(),await y;const A=He(this.apiClient,e.model),I=Pd({model:A}),M=Vl({setup:I});return w.send(JSON.stringify(M)),new kT(w,this.apiClient)}}class kT{constructor(e,o){this.conn=e,this.apiClient=o}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const o=gv(e),i=Nd(o);this.conn.send(JSON.stringify({clientContent:i}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const o=yv(e),i=Vl(o);this.conn.send(JSON.stringify(i))}sendPlaybackControl(e){const o=Vl({playbackControl:e});this.conn.send(JSON.stringify(o))}play(){this.sendPlaybackControl(So.PLAY)}pause(){this.sendPlaybackControl(So.PAUSE)}stop(){this.sendPlaybackControl(So.STOP)}resetContext(){this.sendPlaybackControl(So.RESET_CONTEXT)}close(){this.conn.close()}}function IT(t){const e={};return t.forEach((o,i)=>{e[i]=o}),e}function AT(t){const e=new Headers;for(const[o,i]of Object.entries(t))e.append(o,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const RT="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function MT(t,e,o){const i=new um;let a;o.data instanceof Blob?a=await o.data.text():o.data instanceof ArrayBuffer?a=new TextDecoder().decode(o.data):a=o.data;const c=JSON.parse(a);if(t.isVertexAI()){const d=N0(c);Object.assign(i,d)}else{const d=u0(c);Object.assign(i,d)}e(i)}class PT{constructor(e,o,i){this.apiClient=e,this.auth=o,this.webSocketFactory=i,this.music=new ET(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var o,i,a,c,d,p;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const h=this.apiClient.getWebsocketBaseUrl(),m=this.apiClient.getApiVersion();let y;const _=this.apiClient.getHeaders();e.config&&e.config.tools&&Vd(e.config.tools)&&zd(_);const C=FT(_);if(this.apiClient.isVertexAI())y=`${h}/ws/google.cloud.aiplatform.${m}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(C);else{const q=this.apiClient.getApiKey();let re="BidiGenerateContent",me="key";q?.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),m!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),re="BidiGenerateContentConstrained",me="access_token"),y=`${h}/ws/google.ai.generativelanguage.${m}.GenerativeService.${re}?${me}=${q}`}let T=()=>{};const R=new Promise(q=>{T=q}),w=e.callbacks,A=function(){var q;(q=w?.onopen)===null||q===void 0||q.call(w),T({})},I=this.apiClient,M={onopen:A,onmessage:q=>{MT(I,w.onmessage,q)},onerror:(o=w?.onerror)!==null&&o!==void 0?o:function(q){},onclose:(i=w?.onclose)!==null&&i!==void 0?i:function(q){}},D=this.webSocketFactory.create(y,LT(C),M);D.connect(),await R;let V=He(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&V.startsWith("publishers/")){const q=this.apiClient.getProject(),re=this.apiClient.getLocation();V=`projects/${q}/locations/${re}/`+V}let z={};this.apiClient.isVertexAI()&&((a=e.config)===null||a===void 0?void 0:a.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Li.AUDIO]}:e.config.responseModalities=[Li.AUDIO]),!((c=e.config)===null||c===void 0)&&c.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const J=(p=(d=e.config)===null||d===void 0?void 0:d.tools)!==null&&p!==void 0?p:[],$=[];for(const q of J)if(this.isCallableTool(q)){const re=q;$.push(await re.tool())}else $.push(q);$.length>0&&(e.config.tools=$);const ne={model:V,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?z=$v(this.apiClient,ne):z=dv(this.apiClient,ne),delete z.config,D.send(JSON.stringify(z)),new DT(D,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const NT={turnComplete:!0};class DT{constructor(e,o){this.conn=e,this.apiClient=o}tLiveClientContent(e,o){if(o.turns!==null&&o.turns!==void 0){let i=[];try{i=zt(o.turns),e.isVertexAI()?i=i.map(a=>Ro(a)):i=i.map(a=>zi(a))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof o.turns}'`)}return{clientContent:{turns:i,turnComplete:o.turnComplete}}}return{clientContent:{turnComplete:o.turnComplete}}}tLiveClienttToolResponse(e,o){let i=[];if(o.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(o.functionResponses)?i=o.functionResponses:i=[o.functionResponses],i.length===0)throw new Error("functionResponses is required.");for(const c of i){if(typeof c!="object"||c===null||!("name"in c)||!("response"in c))throw new Error(`Could not parse function response, type '${typeof c}'.`);if(!e.isVertexAI()&&!("id"in c))throw new Error(RT)}return{toolResponse:{functionResponses:i}}}sendClientContent(e){e=Object.assign(Object.assign({},NT),e);const o=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(o))}sendRealtimeInput(e){let o={};this.apiClient.isVertexAI()?o={realtimeInput:Wv(e)}:o={realtimeInput:mv(e)},this.conn.send(JSON.stringify(o))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const o=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(o))}close(){this.conn.close()}}function LT(t){const e={};return t.forEach((o,i)=>{e[i]=o}),e}function FT(t){const e=new Headers;for(const[o,i]of Object.entries(t))e.append(o,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const jf=10;function ed(t){var e,o,i;if(!((e=t?.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let a=!1;for(const d of(o=t?.tools)!==null&&o!==void 0?o:[])if(Eo(d)){a=!0;break}if(!a)return!0;const c=(i=t?.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls;return c&&(c<0||!Number.isInteger(c))||c==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",c),!0):!1}function Eo(t){return"callTool"in t&&typeof t.callTool=="function"}function UT(t){var e,o,i;return(i=(o=(e=t.config)===null||e===void 0?void 0:e.tools)===null||o===void 0?void 0:o.some(a=>Eo(a)))!==null&&i!==void 0?i:!1}function VT(t){var e,o,i;return(i=(o=(e=t.config)===null||e===void 0?void 0:e.tools)===null||o===void 0?void 0:o.some(a=>!Eo(a)))!==null&&i!==void 0?i:!1}function td(t){var e;return!(!((e=t?.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class zT extends Zn{constructor(e){super(),this.apiClient=e,this.generateContent=async o=>{var i,a,c,d,p;const h=await this.processParamsMaybeAddMcpUsage(o);if(this.maybeMoveToResponseJsonSchem(o),!UT(o)||ed(o.config))return await this.generateContentInternal(h);if(VT(o))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let m,y;const _=zt(h.contents),C=(c=(a=(i=h.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls)!==null&&c!==void 0?c:jf;let T=0;for(;T<C&&(m=await this.generateContentInternal(h),!(!m.functionCalls||m.functionCalls.length===0));){const R=m.candidates[0].content,w=[];for(const A of(p=(d=o.config)===null||d===void 0?void 0:d.tools)!==null&&p!==void 0?p:[])if(Eo(A)){const M=await A.callTool(m.functionCalls);w.push(...M)}T++,y={role:"user",parts:w},h.contents=zt(h.contents),h.contents.push(R),h.contents.push(y),td(h.config)&&(_.push(R),_.push(y))}return td(h.config)&&(m.automaticFunctionCallingHistory=_),m},this.generateContentStream=async o=>{if(this.maybeMoveToResponseJsonSchem(o),ed(o.config)){const i=await this.processParamsMaybeAddMcpUsage(o);return await this.generateContentStreamInternal(i)}else return await this.processAfcStream(o)},this.generateImages=async o=>await this.generateImagesInternal(o).then(i=>{var a;let c;const d=[];if(i?.generatedImages)for(const h of i.generatedImages)h&&h?.safetyAttributes&&((a=h?.safetyAttributes)===null||a===void 0?void 0:a.contentType)==="Positive Prompt"?c=h?.safetyAttributes:d.push(h);let p;return c?p={generatedImages:d,positivePromptSafetyAttributes:c,sdkHttpResponse:i.sdkHttpResponse}:p={generatedImages:d,sdkHttpResponse:i.sdkHttpResponse},p}),this.list=async o=>{var i;const d={config:Object.assign(Object.assign({},{queryBase:!0}),o?.config)};if(this.apiClient.isVertexAI()&&!d.config.queryBase){if(!((i=d.config)===null||i===void 0)&&i.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");d.config.filter="labels.tune-type:*"}return new _r(Yn.PAGED_ITEM_MODELS,p=>this.listInternal(p),await this.listInternal(d),d)},this.editImage=async o=>{const i={model:o.model,prompt:o.prompt,referenceImages:[],config:o.config};return o.referenceImages&&o.referenceImages&&(i.referenceImages=o.referenceImages.map(a=>a.toReferenceImageAPI())),await this.editImageInternal(i)},this.upscaleImage=async o=>{let i={numberOfImages:1,mode:"upscale"};o.config&&(i=Object.assign(Object.assign({},i),o.config));const a={model:o.model,image:o.image,upscaleFactor:o.upscaleFactor,config:i};return await this.upscaleImageInternal(a)},this.generateVideos=async o=>await this.generateVideosInternal(o)}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var o,i,a;const c=(o=e.config)===null||o===void 0?void 0:o.tools;if(!c)return e;const d=await Promise.all(c.map(async h=>Eo(h)?await h.tool():h)),p={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:d})};if(p.config.tools=d,e.config&&e.config.tools&&Vd(e.config.tools)){const h=(a=(i=e.config.httpOptions)===null||i===void 0?void 0:i.headers)!==null&&a!==void 0?a:{};let m=Object.assign({},h);Object.keys(m).length===0&&(m=this.apiClient.getDefaultHeaders()),zd(m),p.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:m})}return p}async initAfcToolsMap(e){var o,i,a;const c=new Map;for(const d of(i=(o=e.config)===null||o===void 0?void 0:o.tools)!==null&&i!==void 0?i:[])if(Eo(d)){const p=d,h=await p.tool();for(const m of(a=h.functionDeclarations)!==null&&a!==void 0?a:[]){if(!m.name)throw new Error("Function declaration name is required.");if(c.has(m.name))throw new Error(`Duplicate tool declaration name: ${m.name}`);c.set(m.name,p)}}return c}async processAfcStream(e){var o,i,a;const c=(a=(i=(o=e.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&a!==void 0?a:jf;let d=!1,p=0;const h=await this.initAfcToolsMap(e);return function(m,y,_){var C,T;return xo(this,arguments,function*(){for(var R,w,A,I;p<c;){d&&(p++,d=!1);const z=yield We(m.processParamsMaybeAddMcpUsage(_)),J=yield We(m.generateContentStreamInternal(z)),$=[],ne=[];try{for(var M=!0,D=(w=void 0,vr(J)),V;V=yield We(D.next()),R=V.done,!R;M=!0){I=V.value,M=!1;const q=I;if(yield yield We(q),q.candidates&&(!((C=q.candidates[0])===null||C===void 0)&&C.content)){ne.push(q.candidates[0].content);for(const re of(T=q.candidates[0].content.parts)!==null&&T!==void 0?T:[])if(p<c&&re.functionCall){if(!re.functionCall.name)throw new Error("Function call name was not returned by the model.");if(y.has(re.functionCall.name)){const me=yield We(y.get(re.functionCall.name).callTool([re.functionCall]));$.push(...me)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${y.keys()}, mising tool: ${re.functionCall.name}`)}}}}catch(q){w={error:q}}finally{try{!M&&!R&&(A=D.return)&&(yield We(A.call(D)))}finally{if(w)throw w.error}}if($.length>0){d=!0;const q=new yr;q.candidates=[{content:{role:"user",parts:$}}],yield yield We(q);const re=[];re.push(...ne),re.push({role:"user",parts:$});const me=zt(_.contents).concat(re);_.contents=me}else break}})}(this,h,e)}async generateContentInternal(e){var o,i,a,c;let d,p="",h={};if(this.apiClient.isVertexAI()){const m=Kf(this.apiClient,e);return p=ke("{model}:generateContent",m._url),h=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:h,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(_=>{const C=_;return C.sdkHttpResponse={headers:y.headers},C})),d.then(y=>{const _=Zf(y),C=new yr;return Object.assign(C,_),C})}else{const m=Wf(this.apiClient,e);return p=ke("{model}:generateContent",m._url),h=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:h,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json().then(_=>{const C=_;return C.sdkHttpResponse={headers:y.headers},C})),d.then(y=>{const _=Yf(y),C=new yr;return Object.assign(C,_),C})}}async generateContentStreamInternal(e){var o,i,a,c;let d,p="",h={};if(this.apiClient.isVertexAI()){const m=Kf(this.apiClient,e);return p=ke("{model}:streamGenerateContent?alt=sse",m._url),h=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.requestStream({path:p,queryParams:h,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}),d.then(function(_){return xo(this,arguments,function*(){var C,T,R,w;try{for(var A=!0,I=vr(_),M;M=yield We(I.next()),C=M.done,!C;A=!0){w=M.value,A=!1;const D=w,V=Zf(yield We(D.json()));V.sdkHttpResponse={headers:D.headers};const z=new yr;Object.assign(z,V),yield yield We(z)}}catch(D){T={error:D}}finally{try{!A&&!C&&(R=I.return)&&(yield We(R.call(I)))}finally{if(T)throw T.error}}})})}else{const m=Wf(this.apiClient,e);return p=ke("{model}:streamGenerateContent?alt=sse",m._url),h=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.requestStream({path:p,queryParams:h,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}),d.then(function(_){return xo(this,arguments,function*(){var C,T,R,w;try{for(var A=!0,I=vr(_),M;M=yield We(I.next()),C=M.done,!C;A=!0){w=M.value,A=!1;const D=w,V=Yf(yield We(D.json()));V.sdkHttpResponse={headers:D.headers};const z=new yr;Object.assign(z,V),yield yield We(z)}}catch(D){T={error:D}}finally{try{!A&&!C&&(R=I.return)&&(yield We(R.call(I)))}finally{if(T)throw T.error}}})})}}async embedContent(e){var o,i,a,c;let d,p="",h={};if(this.apiClient.isVertexAI()){const m=$_(this.apiClient,e);return p=ke("{model}:predict",m._url),h=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:h,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(_=>{const C=_;return C.sdkHttpResponse={headers:y.headers},C})),d.then(y=>{const _=YC(y),C=new kf;return Object.assign(C,_),C})}else{const m=o_(this.apiClient,e);return p=ke("{model}:batchEmbedContents",m._url),h=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:h,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json().then(_=>{const C=_;return C.sdkHttpResponse={headers:y.headers},C})),d.then(y=>{const _=EC(y),C=new kf;return Object.assign(C,_),C})}}async generateImagesInternal(e){var o,i,a,c;let d,p="",h={};if(this.apiClient.isVertexAI()){const m=J_(this.apiClient,e);return p=ke("{model}:predict",m._url),h=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:h,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(_=>{const C=_;return C.sdkHttpResponse={headers:y.headers},C})),d.then(y=>{const _=QC(y),C=new If;return Object.assign(C,_),C})}else{const m=i_(this.apiClient,e);return p=ke("{model}:predict",m._url),h=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:h,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json().then(_=>{const C=_;return C.sdkHttpResponse={headers:y.headers},C})),d.then(y=>{const _=AC(y),C=new If;return Object.assign(C,_),C})}}async editImageInternal(e){var o,i;let a,c="",d={};if(this.apiClient.isVertexAI()){const p=j_(this.apiClient,e);return c=ke("{model}:predict",p._url),d=p._query,delete p.config,delete p._url,delete p._query,a=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),a.then(h=>{const m=XC(h),y=new om;return Object.assign(y,m),y})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var o,i;let a,c="",d={};if(this.apiClient.isVertexAI()){const p=tC(this.apiClient,e);return c=ke("{model}:predict",p._url),d=p._query,delete p.config,delete p._url,delete p._query,a=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),a.then(h=>{const m=jC(h),y=new rm;return Object.assign(y,m),y})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var o,i,a,c;let d,p="",h={};if(this.apiClient.isVertexAI()){const m=nC(this.apiClient,e);return p=ke("{name}",m._url),h=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:h,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),d.then(y=>Bl(y))}else{const m=s_(this.apiClient,e);return p=ke("{name}",m._url),h=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:h,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json()),d.then(y=>zl(y))}}async listInternal(e){var o,i,a,c;let d,p="",h={};if(this.apiClient.isVertexAI()){const m=rC(this.apiClient,e);return p=ke("{models_url}",m._url),h=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:h,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(_=>{const C=_;return C.sdkHttpResponse={headers:y.headers},C})),d.then(y=>{const _=oT(y),C=new Af;return Object.assign(C,_),C})}else{const m=a_(this.apiClient,e);return p=ke("{models_url}",m._url),h=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:h,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json().then(_=>{const C=_;return C.sdkHttpResponse={headers:y.headers},C})),d.then(y=>{const _=MC(y),C=new Af;return Object.assign(C,_),C})}}async update(e){var o,i,a,c;let d,p="",h={};if(this.apiClient.isVertexAI()){const m=sC(this.apiClient,e);return p=ke("{model}",m._url),h=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:h,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),d.then(y=>Bl(y))}else{const m=c_(this.apiClient,e);return p=ke("{name}",m._url),h=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:h,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json()),d.then(y=>zl(y))}}async delete(e){var o,i,a,c;let d,p="",h={};if(this.apiClient.isVertexAI()){const m=lC(this.apiClient,e);return p=ke("{name}",m._url),h=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:h,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),d.then(()=>{const y=rT(),_=new Rf;return Object.assign(_,y),_})}else{const m=f_(this.apiClient,e);return p=ke("{name}",m._url),h=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:h,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json()),d.then(()=>{const y=PC(),_=new Rf;return Object.assign(_,y),_})}}async countTokens(e){var o,i,a,c;let d,p="",h={};if(this.apiClient.isVertexAI()){const m=uC(this.apiClient,e);return p=ke("{model}:countTokens",m._url),h=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:h,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(_=>{const C=_;return C.sdkHttpResponse={headers:y.headers},C})),d.then(y=>{const _=iT(y),C=new Mf;return Object.assign(C,_),C})}else{const m=p_(this.apiClient,e);return p=ke("{model}:countTokens",m._url),h=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:h,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json().then(_=>{const C=_;return C.sdkHttpResponse={headers:y.headers},C})),d.then(y=>{const _=NC(y),C=new Mf;return Object.assign(C,_),C})}}async computeTokens(e){var o,i;let a,c="",d={};if(this.apiClient.isVertexAI()){const p=cC(this.apiClient,e);return c=ke("{model}:computeTokens",p._url),d=p._query,delete p.config,delete p._url,delete p._query,a=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),a.then(h=>{const m=sT(h),y=new im;return Object.assign(y,m),y})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var o,i,a,c;let d,p="",h={};if(this.apiClient.isVertexAI()){const m=pC(this.apiClient,e);return p=ke("{model}:predictLongRunning",m._url),h=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:h,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),d.then(y=>{const _=cT(y),C=new Fi;return Object.assign(C,_),C})}else{const m=g_(this.apiClient,e);return p=ke("{model}:predictLongRunning",m._url),h=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:h,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json()),d.then(y=>{const _=UC(y),C=new Fi;return Object.assign(C,_),C})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function BT(t){const e={},o=s(t,["operationName"]);o!=null&&l(e,["_url","operationName"],o);const i=s(t,["config"]);return i!=null&&l(e,["config"],i),e}function GT(t){const e={},o=s(t,["operationName"]);o!=null&&l(e,["_url","operationName"],o);const i=s(t,["config"]);return i!=null&&l(e,["config"],i),e}function bT(t){const e={},o=s(t,["operationName"]);o!=null&&l(e,["operationName"],o);const i=s(t,["resourceName"]);i!=null&&l(e,["_url","resourceName"],i);const a=s(t,["config"]);return a!=null&&l(e,["config"],a),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class HT extends Zn{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const o=e.operation,i=e.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const a=o.name.split("/operations/")[0];let c;i&&"httpOptions"in i&&(c=i.httpOptions);const d=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:a,config:{httpOptions:c}});return o._fromAPIResponse({apiResponse:d,isVertexAI:!0})}else{const a=await this.getVideosOperationInternal({operationName:o.name,config:i});return o._fromAPIResponse({apiResponse:a,isVertexAI:!1})}}async get(e){const o=e.operation,i=e.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const a=o.name.split("/operations/")[0];let c;i&&"httpOptions"in i&&(c=i.httpOptions);const d=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:a,config:{httpOptions:c}});return o._fromAPIResponse({apiResponse:d,isVertexAI:!0})}else{const a=await this.getVideosOperationInternal({operationName:o.name,config:i});return o._fromAPIResponse({apiResponse:a,isVertexAI:!1})}}async getVideosOperationInternal(e){var o,i,a,c;let d,p="",h={};if(this.apiClient.isVertexAI()){const m=GT(e);return p=ke("{operationName}",m._url),h=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:h,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),d}else{const m=BT(e);return p=ke("{operationName}",m._url),h=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:h,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json()),d}}async fetchPredictVideosOperationInternal(e){var o,i;let a,c="",d={};if(this.apiClient.isVertexAI()){const p=bT(e);return c=ke("{resourceName}:fetchPredictOperation",p._url),d=p._query,delete p.config,delete p._url,delete p._query,a=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),a}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qT(t){const e={},o=s(t,["voiceName"]);return o!=null&&l(e,["voiceName"],o),e}function Bd(t){const e={},o=s(t,["prebuiltVoiceConfig"]);return o!=null&&l(e,["prebuiltVoiceConfig"],qT(o)),e}function $T(t){const e={},o=s(t,["speaker"]);o!=null&&l(e,["speaker"],o);const i=s(t,["voiceConfig"]);return i!=null&&l(e,["voiceConfig"],Bd(i)),e}function OT(t){const e={},o=s(t,["speakerVoiceConfigs"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(a=>$T(a))),l(e,["speakerVoiceConfigs"],i)}return e}function JT(t){const e={},o=s(t,["voiceConfig"]);o!=null&&l(e,["voiceConfig"],Bd(o));const i=s(t,["multiSpeakerVoiceConfig"]);i!=null&&l(e,["multiSpeakerVoiceConfig"],OT(i));const a=s(t,["languageCode"]);return a!=null&&l(e,["languageCode"],a),e}function WT(t){const e={},o=s(t,["fps"]);o!=null&&l(e,["fps"],o);const i=s(t,["endOffset"]);i!=null&&l(e,["endOffset"],i);const a=s(t,["startOffset"]);return a!=null&&l(e,["startOffset"],a),e}function KT(t){const e={};if(s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(t,["data"]);o!=null&&l(e,["data"],o);const i=s(t,["mimeType"]);return i!=null&&l(e,["mimeType"],i),e}function YT(t){const e={};if(s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(t,["fileUri"]);o!=null&&l(e,["fileUri"],o);const i=s(t,["mimeType"]);return i!=null&&l(e,["mimeType"],i),e}function ZT(t){const e={},o=s(t,["videoMetadata"]);o!=null&&l(e,["videoMetadata"],WT(o));const i=s(t,["thought"]);i!=null&&l(e,["thought"],i);const a=s(t,["inlineData"]);a!=null&&l(e,["inlineData"],KT(a));const c=s(t,["fileData"]);c!=null&&l(e,["fileData"],YT(c));const d=s(t,["thoughtSignature"]);d!=null&&l(e,["thoughtSignature"],d);const p=s(t,["codeExecutionResult"]);p!=null&&l(e,["codeExecutionResult"],p);const h=s(t,["executableCode"]);h!=null&&l(e,["executableCode"],h);const m=s(t,["functionCall"]);m!=null&&l(e,["functionCall"],m);const y=s(t,["functionResponse"]);y!=null&&l(e,["functionResponse"],y);const _=s(t,["text"]);return _!=null&&l(e,["text"],_),e}function QT(t){const e={},o=s(t,["parts"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(c=>ZT(c))),l(e,["parts"],a)}const i=s(t,["role"]);return i!=null&&l(e,["role"],i),e}function XT(t){const e={},o=s(t,["behavior"]);o!=null&&l(e,["behavior"],o);const i=s(t,["description"]);i!=null&&l(e,["description"],i);const a=s(t,["name"]);a!=null&&l(e,["name"],a);const c=s(t,["parameters"]);c!=null&&l(e,["parameters"],c);const d=s(t,["parametersJsonSchema"]);d!=null&&l(e,["parametersJsonSchema"],d);const p=s(t,["response"]);p!=null&&l(e,["response"],p);const h=s(t,["responseJsonSchema"]);return h!=null&&l(e,["responseJsonSchema"],h),e}function jT(t){const e={},o=s(t,["startTime"]);o!=null&&l(e,["startTime"],o);const i=s(t,["endTime"]);return i!=null&&l(e,["endTime"],i),e}function eS(t){const e={},o=s(t,["timeRangeFilter"]);return o!=null&&l(e,["timeRangeFilter"],jT(o)),e}function tS(t){const e={},o=s(t,["mode"]);o!=null&&l(e,["mode"],o);const i=s(t,["dynamicThreshold"]);return i!=null&&l(e,["dynamicThreshold"],i),e}function nS(t){const e={},o=s(t,["dynamicRetrievalConfig"]);return o!=null&&l(e,["dynamicRetrievalConfig"],tS(o)),e}function oS(){return{}}function rS(t){const e={},o=s(t,["functionDeclarations"]);if(o!=null){let h=o;Array.isArray(h)&&(h=h.map(m=>XT(m))),l(e,["functionDeclarations"],h)}if(s(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=s(t,["googleSearch"]);i!=null&&l(e,["googleSearch"],eS(i));const a=s(t,["googleSearchRetrieval"]);if(a!=null&&l(e,["googleSearchRetrieval"],nS(a)),s(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(s(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");s(t,["urlContext"])!=null&&l(e,["urlContext"],oS());const d=s(t,["codeExecution"]);d!=null&&l(e,["codeExecution"],d);const p=s(t,["computerUse"]);return p!=null&&l(e,["computerUse"],p),e}function iS(t){const e={},o=s(t,["handle"]);if(o!=null&&l(e,["handle"],o),s(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function nd(){return{}}function sS(t){const e={},o=s(t,["disabled"]);o!=null&&l(e,["disabled"],o);const i=s(t,["startOfSpeechSensitivity"]);i!=null&&l(e,["startOfSpeechSensitivity"],i);const a=s(t,["endOfSpeechSensitivity"]);a!=null&&l(e,["endOfSpeechSensitivity"],a);const c=s(t,["prefixPaddingMs"]);c!=null&&l(e,["prefixPaddingMs"],c);const d=s(t,["silenceDurationMs"]);return d!=null&&l(e,["silenceDurationMs"],d),e}function lS(t){const e={},o=s(t,["automaticActivityDetection"]);o!=null&&l(e,["automaticActivityDetection"],sS(o));const i=s(t,["activityHandling"]);i!=null&&l(e,["activityHandling"],i);const a=s(t,["turnCoverage"]);return a!=null&&l(e,["turnCoverage"],a),e}function aS(t){const e={},o=s(t,["targetTokens"]);return o!=null&&l(e,["targetTokens"],o),e}function uS(t){const e={},o=s(t,["triggerTokens"]);o!=null&&l(e,["triggerTokens"],o);const i=s(t,["slidingWindow"]);return i!=null&&l(e,["slidingWindow"],aS(i)),e}function cS(t){const e={},o=s(t,["proactiveAudio"]);return o!=null&&l(e,["proactiveAudio"],o),e}function fS(t,e){const o={},i=s(t,["generationConfig"]);e!==void 0&&i!=null&&l(e,["setup","generationConfig"],i);const a=s(t,["responseModalities"]);e!==void 0&&a!=null&&l(e,["setup","generationConfig","responseModalities"],a);const c=s(t,["temperature"]);e!==void 0&&c!=null&&l(e,["setup","generationConfig","temperature"],c);const d=s(t,["topP"]);e!==void 0&&d!=null&&l(e,["setup","generationConfig","topP"],d);const p=s(t,["topK"]);e!==void 0&&p!=null&&l(e,["setup","generationConfig","topK"],p);const h=s(t,["maxOutputTokens"]);e!==void 0&&h!=null&&l(e,["setup","generationConfig","maxOutputTokens"],h);const m=s(t,["mediaResolution"]);e!==void 0&&m!=null&&l(e,["setup","generationConfig","mediaResolution"],m);const y=s(t,["seed"]);e!==void 0&&y!=null&&l(e,["setup","generationConfig","seed"],y);const _=s(t,["speechConfig"]);e!==void 0&&_!=null&&l(e,["setup","generationConfig","speechConfig"],JT(Jl(_)));const C=s(t,["enableAffectiveDialog"]);e!==void 0&&C!=null&&l(e,["setup","generationConfig","enableAffectiveDialog"],C);const T=s(t,["systemInstruction"]);e!==void 0&&T!=null&&l(e,["setup","systemInstruction"],QT(mt(T)));const R=s(t,["tools"]);if(e!==void 0&&R!=null){let z=Io(R);Array.isArray(z)&&(z=z.map(J=>rS(ko(J)))),l(e,["setup","tools"],z)}const w=s(t,["sessionResumption"]);e!==void 0&&w!=null&&l(e,["setup","sessionResumption"],iS(w));const A=s(t,["inputAudioTranscription"]);e!==void 0&&A!=null&&l(e,["setup","inputAudioTranscription"],nd());const I=s(t,["outputAudioTranscription"]);e!==void 0&&I!=null&&l(e,["setup","outputAudioTranscription"],nd());const M=s(t,["realtimeInputConfig"]);e!==void 0&&M!=null&&l(e,["setup","realtimeInputConfig"],lS(M));const D=s(t,["contextWindowCompression"]);e!==void 0&&D!=null&&l(e,["setup","contextWindowCompression"],uS(D));const V=s(t,["proactivity"]);return e!==void 0&&V!=null&&l(e,["setup","proactivity"],cS(V)),o}function dS(t,e){const o={},i=s(e,["model"]);i!=null&&l(o,["setup","model"],He(t,i));const a=s(e,["config"]);return a!=null&&l(o,["config"],fS(a,o)),o}function pS(t,e,o){const i={},a=s(e,["expireTime"]);o!==void 0&&a!=null&&l(o,["expireTime"],a);const c=s(e,["newSessionExpireTime"]);o!==void 0&&c!=null&&l(o,["newSessionExpireTime"],c);const d=s(e,["uses"]);o!==void 0&&d!=null&&l(o,["uses"],d);const p=s(e,["liveConnectConstraints"]);o!==void 0&&p!=null&&l(o,["bidiGenerateContentSetup"],dS(t,p));const h=s(e,["lockAdditionalFields"]);return o!==void 0&&h!=null&&l(o,["fieldMask"],h),i}function hS(t,e){const o={},i=s(e,["config"]);return i!=null&&l(o,["config"],pS(t,i,o)),o}function mS(t){const e={},o=s(t,["name"]);return o!=null&&l(e,["name"],o),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function gS(t){const e=[];for(const o in t)if(Object.prototype.hasOwnProperty.call(t,o)){const i=t[o];if(typeof i=="object"&&i!=null&&Object.keys(i).length>0){const a=Object.keys(i).map(c=>`${o}.${c}`);e.push(...a)}else e.push(o)}return e.join(",")}function yS(t,e){let o=null;const i=t.bidiGenerateContentSetup;if(typeof i=="object"&&i!==null&&"setup"in i){const c=i.setup;typeof c=="object"&&c!==null?(t.bidiGenerateContentSetup=c,o=c):delete t.bidiGenerateContentSetup}else i!==void 0&&delete t.bidiGenerateContentSetup;const a=t.fieldMask;if(o){const c=gS(o);if(Array.isArray(e?.lockAdditionalFields)&&e?.lockAdditionalFields.length===0)c?t.fieldMask=c:delete t.fieldMask;else if(e?.lockAdditionalFields&&e.lockAdditionalFields.length>0&&a!==null&&Array.isArray(a)&&a.length>0){const d=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let p=[];a.length>0&&(p=a.map(m=>d.includes(m)?`generationConfig.${m}`:m));const h=[];c&&h.push(c),p.length>0&&h.push(...p),h.length>0?t.fieldMask=h.join(","):delete t.fieldMask}else delete t.fieldMask}else a!==null&&Array.isArray(a)&&a.length>0?t.fieldMask=a.join(","):delete t.fieldMask;return t}class vS extends Zn{constructor(e){super(),this.apiClient=e}async create(e){var o,i;let a,c="",d={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const p=hS(this.apiClient,e);c=ke("auth_tokens",p._url),d=p._query,delete p.config,delete p._url,delete p._query;const h=yS(p,e.config);return a=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),a.then(m=>mS(m))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _S(t){const e={},o=s(t,["name"]);o!=null&&l(e,["_url","name"],o);const i=s(t,["config"]);return i!=null&&l(e,["config"],i),e}function CS(t,e){const o={},i=s(t,["pageSize"]);e!==void 0&&i!=null&&l(e,["_query","pageSize"],i);const a=s(t,["pageToken"]);e!==void 0&&a!=null&&l(e,["_query","pageToken"],a);const c=s(t,["filter"]);return e!==void 0&&c!=null&&l(e,["_query","filter"],c),o}function TS(t){const e={},o=s(t,["config"]);return o!=null&&l(e,["config"],CS(o,e)),e}function SS(t){const e={},o=s(t,["textInput"]);o!=null&&l(e,["textInput"],o);const i=s(t,["output"]);return i!=null&&l(e,["output"],i),e}function wS(t){const e={};if(s(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(s(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const o=s(t,["examples"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(a=>SS(a))),l(e,["examples","examples"],i)}return e}function xS(t,e){const o={};if(s(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=s(t,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&l(e,["displayName"],i),s(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const a=s(t,["epochCount"]);e!==void 0&&a!=null&&l(e,["tuningTask","hyperparameters","epochCount"],a);const c=s(t,["learningRateMultiplier"]);if(c!=null&&l(o,["tuningTask","hyperparameters","learningRateMultiplier"],c),s(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(s(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const d=s(t,["batchSize"]);e!==void 0&&d!=null&&l(e,["tuningTask","hyperparameters","batchSize"],d);const p=s(t,["learningRate"]);return e!==void 0&&p!=null&&l(e,["tuningTask","hyperparameters","learningRate"],p),o}function ES(t){const e={},o=s(t,["baseModel"]);o!=null&&l(e,["baseModel"],o);const i=s(t,["trainingDataset"]);i!=null&&l(e,["tuningTask","trainingData"],wS(i));const a=s(t,["config"]);return a!=null&&l(e,["config"],xS(a,e)),e}function kS(t){const e={},o=s(t,["name"]);o!=null&&l(e,["_url","name"],o);const i=s(t,["config"]);return i!=null&&l(e,["config"],i),e}function IS(t,e){const o={},i=s(t,["pageSize"]);e!==void 0&&i!=null&&l(e,["_query","pageSize"],i);const a=s(t,["pageToken"]);e!==void 0&&a!=null&&l(e,["_query","pageToken"],a);const c=s(t,["filter"]);return e!==void 0&&c!=null&&l(e,["_query","filter"],c),o}function AS(t){const e={},o=s(t,["config"]);return o!=null&&l(e,["config"],IS(o,e)),e}function RS(t,e){const o={},i=s(t,["gcsUri"]);e!==void 0&&i!=null&&l(e,["supervisedTuningSpec","trainingDatasetUri"],i);const a=s(t,["vertexDatasetResource"]);if(e!==void 0&&a!=null&&l(e,["supervisedTuningSpec","trainingDatasetUri"],a),s(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return o}function MS(t,e){const o={},i=s(t,["gcsUri"]);i!=null&&l(o,["validationDatasetUri"],i);const a=s(t,["vertexDatasetResource"]);return e!==void 0&&a!=null&&l(e,["supervisedTuningSpec","trainingDatasetUri"],a),o}function PS(t,e){const o={},i=s(t,["validationDataset"]);e!==void 0&&i!=null&&l(e,["supervisedTuningSpec"],MS(i,o));const a=s(t,["tunedModelDisplayName"]);e!==void 0&&a!=null&&l(e,["tunedModelDisplayName"],a);const c=s(t,["description"]);e!==void 0&&c!=null&&l(e,["description"],c);const d=s(t,["epochCount"]);e!==void 0&&d!=null&&l(e,["supervisedTuningSpec","hyperParameters","epochCount"],d);const p=s(t,["learningRateMultiplier"]);e!==void 0&&p!=null&&l(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],p);const h=s(t,["exportLastCheckpointOnly"]);e!==void 0&&h!=null&&l(e,["supervisedTuningSpec","exportLastCheckpointOnly"],h);const m=s(t,["adapterSize"]);if(e!==void 0&&m!=null&&l(e,["supervisedTuningSpec","hyperParameters","adapterSize"],m),s(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(s(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return o}function NS(t){const e={},o=s(t,["baseModel"]);o!=null&&l(e,["baseModel"],o);const i=s(t,["trainingDataset"]);i!=null&&l(e,["supervisedTuningSpec","trainingDatasetUri"],RS(i,e));const a=s(t,["config"]);return a!=null&&l(e,["config"],PS(a,e)),e}function DS(t){const e={},o=s(t,["name"]);o!=null&&l(e,["model"],o);const i=s(t,["name"]);return i!=null&&l(e,["endpoint"],i),e}function Gd(t){const e={},o=s(t,["sdkHttpResponse"]);o!=null&&l(e,["sdkHttpResponse"],o);const i=s(t,["name"]);i!=null&&l(e,["name"],i);const a=s(t,["state"]);a!=null&&l(e,["state"],yd(a));const c=s(t,["createTime"]);c!=null&&l(e,["createTime"],c);const d=s(t,["tuningTask","startTime"]);d!=null&&l(e,["startTime"],d);const p=s(t,["tuningTask","completeTime"]);p!=null&&l(e,["endTime"],p);const h=s(t,["updateTime"]);h!=null&&l(e,["updateTime"],h);const m=s(t,["description"]);m!=null&&l(e,["description"],m);const y=s(t,["baseModel"]);y!=null&&l(e,["baseModel"],y);const _=s(t,["_self"]);_!=null&&l(e,["tunedModel"],DS(_));const C=s(t,["distillationSpec"]);C!=null&&l(e,["distillationSpec"],C);const T=s(t,["experiment"]);T!=null&&l(e,["experiment"],T);const R=s(t,["labels"]);R!=null&&l(e,["labels"],R);const w=s(t,["pipelineJob"]);w!=null&&l(e,["pipelineJob"],w);const A=s(t,["satisfiesPzi"]);A!=null&&l(e,["satisfiesPzi"],A);const I=s(t,["satisfiesPzs"]);I!=null&&l(e,["satisfiesPzs"],I);const M=s(t,["serviceAccount"]);M!=null&&l(e,["serviceAccount"],M);const D=s(t,["tunedModelDisplayName"]);return D!=null&&l(e,["tunedModelDisplayName"],D),e}function LS(t){const e={},o=s(t,["sdkHttpResponse"]);o!=null&&l(e,["sdkHttpResponse"],o);const i=s(t,["nextPageToken"]);i!=null&&l(e,["nextPageToken"],i);const a=s(t,["tunedModels"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(d=>Gd(d))),l(e,["tuningJobs"],c)}return e}function FS(t){const e={},o=s(t,["sdkHttpResponse"]);o!=null&&l(e,["sdkHttpResponse"],o);const i=s(t,["name"]);i!=null&&l(e,["name"],i);const a=s(t,["metadata"]);a!=null&&l(e,["metadata"],a);const c=s(t,["done"]);c!=null&&l(e,["done"],c);const d=s(t,["error"]);return d!=null&&l(e,["error"],d),e}function US(t){const e={},o=s(t,["checkpointId"]);o!=null&&l(e,["checkpointId"],o);const i=s(t,["epoch"]);i!=null&&l(e,["epoch"],i);const a=s(t,["step"]);a!=null&&l(e,["step"],a);const c=s(t,["endpoint"]);return c!=null&&l(e,["endpoint"],c),e}function VS(t){const e={},o=s(t,["model"]);o!=null&&l(e,["model"],o);const i=s(t,["endpoint"]);i!=null&&l(e,["endpoint"],i);const a=s(t,["checkpoints"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(d=>US(d))),l(e,["checkpoints"],c)}return e}function bl(t){const e={},o=s(t,["sdkHttpResponse"]);o!=null&&l(e,["sdkHttpResponse"],o);const i=s(t,["name"]);i!=null&&l(e,["name"],i);const a=s(t,["state"]);a!=null&&l(e,["state"],yd(a));const c=s(t,["createTime"]);c!=null&&l(e,["createTime"],c);const d=s(t,["startTime"]);d!=null&&l(e,["startTime"],d);const p=s(t,["endTime"]);p!=null&&l(e,["endTime"],p);const h=s(t,["updateTime"]);h!=null&&l(e,["updateTime"],h);const m=s(t,["error"]);m!=null&&l(e,["error"],m);const y=s(t,["description"]);y!=null&&l(e,["description"],y);const _=s(t,["baseModel"]);_!=null&&l(e,["baseModel"],_);const C=s(t,["tunedModel"]);C!=null&&l(e,["tunedModel"],VS(C));const T=s(t,["supervisedTuningSpec"]);T!=null&&l(e,["supervisedTuningSpec"],T);const R=s(t,["tuningDataStats"]);R!=null&&l(e,["tuningDataStats"],R);const w=s(t,["encryptionSpec"]);w!=null&&l(e,["encryptionSpec"],w);const A=s(t,["partnerModelTuningSpec"]);A!=null&&l(e,["partnerModelTuningSpec"],A);const I=s(t,["distillationSpec"]);I!=null&&l(e,["distillationSpec"],I);const M=s(t,["experiment"]);M!=null&&l(e,["experiment"],M);const D=s(t,["labels"]);D!=null&&l(e,["labels"],D);const V=s(t,["pipelineJob"]);V!=null&&l(e,["pipelineJob"],V);const z=s(t,["satisfiesPzi"]);z!=null&&l(e,["satisfiesPzi"],z);const J=s(t,["satisfiesPzs"]);J!=null&&l(e,["satisfiesPzs"],J);const $=s(t,["serviceAccount"]);$!=null&&l(e,["serviceAccount"],$);const ne=s(t,["tunedModelDisplayName"]);return ne!=null&&l(e,["tunedModelDisplayName"],ne),e}function zS(t){const e={},o=s(t,["sdkHttpResponse"]);o!=null&&l(e,["sdkHttpResponse"],o);const i=s(t,["nextPageToken"]);i!=null&&l(e,["nextPageToken"],i);const a=s(t,["tuningJobs"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(d=>bl(d))),l(e,["tuningJobs"],c)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class BS extends Zn{constructor(e){super(),this.apiClient=e,this.get=async o=>await this.getInternal(o),this.list=async(o={})=>new _r(Yn.PAGED_ITEM_TUNING_JOBS,i=>this.listInternal(i),await this.listInternal(o),o),this.tune=async o=>{if(this.apiClient.isVertexAI())return await this.tuneInternal(o);{const i=await this.tuneMldevInternal(o);let a="";return i.metadata!==void 0&&i.metadata.tunedModel!==void 0?a=i.metadata.tunedModel:i.name!==void 0&&i.name.includes("/operations/")&&(a=i.name.split("/operations/")[0]),{name:a,state:Pl.JOB_STATE_QUEUED}}}}async getInternal(e){var o,i,a,c;let d,p="",h={};if(this.apiClient.isVertexAI()){const m=kS(e);return p=ke("{name}",m._url),h=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:h,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(_=>{const C=_;return C.sdkHttpResponse={headers:y.headers},C})),d.then(y=>bl(y))}else{const m=_S(e);return p=ke("{name}",m._url),h=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:h,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json().then(_=>{const C=_;return C.sdkHttpResponse={headers:y.headers},C})),d.then(y=>Gd(y))}}async listInternal(e){var o,i,a,c;let d,p="",h={};if(this.apiClient.isVertexAI()){const m=AS(e);return p=ke("tuningJobs",m._url),h=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:h,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(_=>{const C=_;return C.sdkHttpResponse={headers:y.headers},C})),d.then(y=>{const _=zS(y),C=new Nf;return Object.assign(C,_),C})}else{const m=TS(e);return p=ke("tunedModels",m._url),h=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:h,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json().then(_=>{const C=_;return C.sdkHttpResponse={headers:y.headers},C})),d.then(y=>{const _=LS(y),C=new Nf;return Object.assign(C,_),C})}}async tuneInternal(e){var o,i;let a,c="",d={};if(this.apiClient.isVertexAI()){const p=NS(e);return c=ke("tuningJobs",p._url),d=p._query,delete p.config,delete p._url,delete p._query,a=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),a.then(h=>bl(h))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var o,i;let a,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=ES(e);return c=ke("tunedModels",p._url),d=p._query,delete p.config,delete p._url,delete p._query,a=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),a.then(h=>FS(h))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class GS{async download(e,o){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const bS=1024*1024*8,HS=3,qS=1e3,$S=2,Rl="x-goog-upload-status";async function OS(t,e,o){var i,a,c;let d=0,p=0,h=new Nl(new Response),m="upload";for(d=t.size;p<d;){const _=Math.min(bS,d-p),C=t.slice(p,p+_);p+_>=d&&(m+=", finalize");let T=0,R=qS;for(;T<HS&&(h=await o.request({path:"",body:C,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":m,"X-Goog-Upload-Offset":String(p),"Content-Length":String(_)}}}),!(!((i=h?.headers)===null||i===void 0)&&i[Rl]));)T++,await WS(R),R=R*$S;if(p+=_,((a=h?.headers)===null||a===void 0?void 0:a[Rl])!=="active")break;if(d<=p)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const y=await h?.json();if(((c=h?.headers)===null||c===void 0?void 0:c[Rl])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return y.file}async function JS(t){return{size:t.size,type:t.type}}function WS(t){return new Promise(e=>setTimeout(e,t))}class KS{async upload(e,o,i){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await OS(e,o,i)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await JS(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class YS{create(e,o,i){return new ZS(e,o,i)}}class ZS{constructor(e,o,i){this.url=e,this.headers=o,this.callbacks=i}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const od="x-goog-api-key";class QS{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(od)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(od,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const XS="gl-node/";class bd{constructor(e){var o;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(o=e.vertexai)!==null&&o!==void 0?o:!1,this.apiKey=e.apiKey;const i=nm(e.httpOptions,e.vertexai,void 0,void 0);i&&(e.httpOptions?e.httpOptions.baseUrl=i:e.httpOptions={baseUrl:i}),this.apiVersion=e.apiVersion;const a=new QS(this.apiKey);this.apiClient=new vT({auth:a,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:XS+"web",uploader:new KS,downloader:new GS}),this.models=new zT(this.apiClient),this.live=new PT(this.apiClient,a,new YS),this.batches=new Eg(this.apiClient),this.chats=new Ry(this.models,this.apiClient),this.caches=new ky(this.apiClient),this.files=new Hy(this.apiClient),this.operations=new HT(this.apiClient),this.authTokens=new vS(this.apiClient),this.tunings=new BS(this.apiClient)}}const jS=async(t,e,o,i)=>{if(!i)throw new Error("API key is missing for this request.");const a=new bd({apiKey:i}),d=(e===Kn.PIXEL?"Pixel art style, 8-bit, retro, vibrant colors. ":"Simple stick figure drawing, clean white background, black lines, minimalist. ")+t;try{const p=await a.models.generateImages({model:"imagen-3.0-generate-002",prompt:d,config:{numberOfImages:1,outputMimeType:"image/jpeg",aspectRatio:o}});if(p.generatedImages&&p.generatedImages.length>0)return p.generatedImages[0].image.imageBytes;throw new Error("No image was generated by the API.")}catch(p){throw console.error("Gemini API Error:",p),p instanceof Error?p.message.includes("API key not valid")?new Error("Invalid API Key. Please check your settings."):p.message.includes("accessible to billed users")?new Error("Billing Required: The Imagen API needs a Google Cloud project with billing enabled. Please check your account settings."):new Error(`Failed to generate image: ${p.message}`):new Error("An unknown error occurred during image generation.")}};function rd(t,e){const[o,i]=Fe.useState(()=>{try{const a=window.localStorage.getItem(t);return a?JSON.parse(a):e}catch(a){return console.error(a),e}});return Fe.useEffect(()=>{try{const a=typeof o=="function"?o(o):o;window.localStorage.setItem(t,JSON.stringify(a))}catch(a){console.error(a)}},[t,o]),[o,i]}const ew=()=>{const[t,e]=Fe.useState({message:"",type:"info",isVisible:!1}),o=Fe.useCallback((i,a="info",c=5e3)=>{e({message:i,type:a,isVisible:!0}),setTimeout(()=>{e(d=>({...d,isVisible:!1}))},c)},[]);return{toast:t,showToast:o}},tw=t=>B.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"animate-spin",...t,children:B.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),Jn=({children:t,className:e,variant:o="primary",isLoading:i=!1,...a})=>{const c="px-4 py-2 text-sm md:text-base uppercase tracking-widest text-white border-2 border-black active:translate-y-px active:translate-x-px transition-transform focus:outline-none flex items-center justify-center gap-2",d={primary:"bg-cyan-500 hover:bg-cyan-600 shadow-[4px_4px_0_0_#00A3C4]",secondary:"bg-gray-500 hover:bg-gray-600 shadow-[4px_4px_0_0_#4A5568]",danger:"bg-red-500 hover:bg-red-600 shadow-[4px_4px_0_0_#C53030]"};return B.jsxs("button",{className:`${c} ${d[o]} disabled:bg-gray-700 disabled:shadow-none disabled:cursor-not-allowed disabled:text-gray-400 ${e}`,disabled:i||a.disabled,...a,children:[i&&B.jsx(tw,{className:"w-5 h-5"}),B.jsx("span",{children:t})]})},Hd=t=>B.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[B.jsx("polyline",{points:"3 6 5 6 21 6"}),B.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}),B.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),B.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]}),nw=t=>B.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[B.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),B.jsx("polyline",{points:"17 8 12 3 7 8"}),B.jsx("line",{x1:"12",y1:"3",x2:"12",y2:"15"})]}),ow=t=>B.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[B.jsx("path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 0 2.4l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.38a2 2 0 0 0-.73-2.73l-.15-.09a2 2 0 0 1 0-2.4l.15-.1a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"}),B.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),qd=t=>B.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[B.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),B.jsx("polyline",{points:"7 10 12 15 17 10"}),B.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]}),rw=({image:t,isSelected:e,onSelect:o,onPreview:i,onDelete:a})=>{const c=()=>{const p=document.createElement("a");p.href=t.url,p.download=`${t.prompt.replace(/\s+/g,"_").slice(0,20)}.jpeg`,document.body.appendChild(p),p.click(),document.body.removeChild(p)},d=p=>{p.stopPropagation(),o(t.id)};return B.jsxs("div",{className:`bg-gray-800 border-2 p-2 group relative overflow-hidden shadow-[4px_4px_0_0_#000] cursor-pointer transition-all duration-200 ${e?"border-cyan-400 scale-105":"border-black"}`,onClick:()=>i(t),children:[B.jsx("img",{src:t.url,alt:t.prompt,className:"w-full h-auto aspect-square object-contain bg-gray-900 pixelated"}),B.jsx("div",{onClick:d,className:"absolute top-2 right-2 w-6 h-6 bg-gray-900 bg-opacity-70 border-2 border-white flex items-center justify-center z-10 hover:bg-cyan-600",children:e&&B.jsx("div",{className:"w-3 h-3 bg-cyan-400"})}),B.jsxs("div",{className:"absolute inset-0 bg-black bg-opacity-70 opacity-0 group-hover:opacity-100 transition-opacity flex flex-col justify-between p-3",children:[B.jsx("p",{className:"text-white text-xs break-words",children:t.prompt}),B.jsxs("div",{className:"self-end flex items-center gap-2",children:[B.jsx("button",{onClick:p=>{p.stopPropagation(),a(t.id)},className:"bg-red-500 text-white p-2 border-2 border-black hover:bg-red-600 active:translate-y-px","aria-label":"Delete Image",children:B.jsx(Hd,{className:"w-5 h-5"})}),B.jsx("button",{onClick:p=>{p.stopPropagation(),c()},className:"bg-cyan-500 text-white p-2 border-2 border-black hover:bg-cyan-600 active:translate-y-px","aria-label":"Download Image",children:B.jsx(qd,{className:"w-5 h-5"})})]})]})]})},iw=({images:t,selectedImageIds:e,onSelectImage:o,onPreviewImage:i,onDeleteImage:a})=>t.length===0?B.jsx("div",{className:"flex items-center justify-center h-full border-4 border-dashed border-gray-600 text-gray-500 p-4",children:B.jsx("p",{children:"Generated images will appear here"})}):B.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:t.map(c=>B.jsx(rw,{image:c,isSelected:e.has(c.id),onSelect:o,onPreview:i,onDelete:a},c.id))}),sw=t=>B.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[B.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),B.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]}),id=({isOpen:t,onClose:e,title:o,children:i})=>t?B.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 p-4",onClick:e,children:B.jsxs("div",{className:"bg-gray-800 text-white border-4 border-black shadow-[8px_8px_0_0_#000] w-full max-w-3xl p-6 relative",onClick:a=>a.stopPropagation(),children:[B.jsxs("div",{className:"flex justify-between items-center mb-4 pb-2 border-b-2 border-gray-600",children:[B.jsx("h2",{className:"text-xl text-cyan-400 uppercase",children:o}),B.jsx("button",{onClick:e,className:"text-white hover:text-red-500 transition-colors",children:B.jsx(sw,{className:"w-8 h-8"})})]}),B.jsx("div",{children:i})]})}):null,lw=({onSave:t,initialApiKeys:e})=>{const[o,i]=Fe.useState(e.join(`
`)),a=()=>{const c=o.split(/[\n, ]+/).map(d=>d.trim()).filter(d=>d.length>0);t(c)};return B.jsxs("div",{children:[B.jsx("label",{htmlFor:"api-keys",className:"block mb-2 text-sm text-gray-400",children:"API Keys (one per line, or separated by comma/space)"}),B.jsx("textarea",{id:"api-keys",value:o,onChange:c=>i(c.target.value),className:"w-full h-40 p-3 bg-gray-900 border-2 border-gray-600 focus:border-cyan-400 focus:outline-none resize-y selection:bg-cyan-400 selection:text-black",placeholder:"Enter your Gemini API keys here..."}),B.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"Your keys are saved in your browser's local storage and are not sent anywhere else."}),B.jsx(Jn,{onClick:a,className:"w-full mt-4",children:"Save Settings"})]})},aw=t=>B.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[B.jsx("circle",{cx:"12",cy:"12",r:"10"}),B.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),B.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]}),uw=({message:t,type:e,isVisible:o})=>{const[i,a]=Fe.useState(o);if(Fe.useEffect(()=>{if(o)a(!0);else{const p=setTimeout(()=>a(!1),500);return()=>clearTimeout(p)}},[o]),!i)return null;const c={success:"bg-green-500 shadow-[4px_4px_0_0_#2F855A]",error:"bg-red-500 shadow-[4px_4px_0_0_#C53030]",info:"bg-blue-500 shadow-[4px_4px_0_0_#2B6CB0]"},d=o?"animate-toast-in":"animate-toast-out";return B.jsxs("div",{className:`fixed top-5 left-1/2 -translate-x-1/2 z-[100] w-full max-w-sm p-4 text-white border-2 border-black flex items-center gap-4 ${c[e]} ${d}`,role:"alert",children:[e==="error"&&B.jsx(aw,{className:"w-6 h-6 flex-shrink-0"}),B.jsx("p",{className:"text-sm",children:t})]})},cw=()=>{const[t,e]=Fe.useState(""),[o,i]=Fe.useState(Kn.PIXEL),[a,c]=Fe.useState("1:1"),[d,p]=rd("generated-images",[]),[h,m]=Fe.useState(new Set),[y,_]=Fe.useState(!1),[C,T]=Fe.useState(""),[R,w]=Fe.useState(!1),[A,I]=Fe.useState(null),[M,D]=rd("app-settings",{apiKeys:[]}),V=Fe.useRef(null),{toast:z,showToast:J}=ew(),$=Fe.useCallback(async()=>{if(M.apiKeys.length===0){J("API key is missing. Please add one in Settings.","error"),w(!0);return}const he=t.split(`
`).map(X=>X.trim()).filter(X=>X);if(he.length===0){J("Please enter at least one prompt.","error");return}_(!0);for(let X=0;X<he.length;X++){const j=he[X],Z=M.apiKeys[X%M.apiKeys.length];T(`(${X+1}/${he.length}) ${j.slice(0,20)}...`);try{const k=`data:image/jpeg;base64,${await jS(j,o,a,Z)}`;p(P=>[...P,{id:`${Date.now()}-${X}`,url:k,prompt:j}])}catch(O){console.error(`Error for prompt "${j}":`,O);const k=O instanceof Error?O.message:"An unknown error occurred.";if(J(`Failed on prompt: "${j}". Error: ${k}`,"error"),k.includes("Invalid API Key")||k.includes("Billing Required")){w(!0),_(!1),T("");return}}X<he.length-1&&await new Promise(O=>setTimeout(O,3e3))}_(!1),T("")},[t,o,a,M.apiKeys,p,J]),ne=he=>{const X=he.target.files?.[0];if(X){const j=new FileReader;j.onload=Z=>{const O=Z.target?.result;e(k=>k?`${k}
${O}`:O)},j.readAsText(X)}V.current&&(V.current.value="")},q=he=>{D({apiKeys:he}),w(!1),J("Settings saved successfully!","success"),he.length>0&&t&&!y&&$()},re=he=>{m(X=>{const j=new Set(X);return j.has(he)?j.delete(he):j.add(he),j})},me=he=>{p(X=>X.filter(j=>j.id!==he)),m(X=>{const j=new Set(X);return j.delete(he),j}),J("Image deleted.","info")},U=()=>{if(d.length>0&&h.size===d.length)m(new Set);else{const he=new Set(d.map(X=>X.id));m(he)}},ee=()=>{d.length!==0&&window.confirm(`Are you sure you want to delete all ${d.length} images? This cannot be undone.`)&&(p([]),m(new Set),J("Gallery cleared.","success"))},E=async()=>{if(h.size===0)return;J(`Downloading ${h.size} images...`,"info");const he=new cd,X=d.filter(j=>h.has(j.id));for(const j of X){const O=await(await fetch(j.url)).blob(),k=`${j.prompt.replace(/\s+/g,"_").slice(0,30)}.jpeg`;he.file(k,O)}he.generateAsync({type:"blob"}).then(j=>{const Z=document.createElement("a");Z.href=URL.createObjectURL(j),Z.download="pixel-art-pack.zip",document.body.appendChild(Z),Z.click(),document.body.removeChild(Z)})},oe=d.length>0&&h.size===d.length;return B.jsxs("div",{className:"min-h-screen bg-gray-900 text-white p-4 md:p-8 font-press-start",children:[B.jsx(uw,{message:z.message,type:z.type,isVisible:z.isVisible}),B.jsx(id,{isOpen:R,onClose:()=>w(!1),title:"API Key Settings",children:B.jsx(lw,{onSave:q,initialApiKeys:M.apiKeys})}),B.jsx(id,{isOpen:!!A,onClose:()=>I(null),title:"Image Preview",children:A&&B.jsxs("div",{className:"flex flex-col items-center gap-4",children:[B.jsx("img",{src:A.url,alt:A.prompt,className:"max-w-full max-h-[85vh] object-contain pixelated"}),B.jsx("p",{className:"text-center text-gray-300 text-sm",children:A.prompt})]})}),B.jsxs("header",{className:"flex justify-between items-center mb-6 pb-4 border-b-4 border-gray-700",children:[B.jsx("h1",{className:"text-xl sm:text-2xl md:text-3xl text-cyan-400 uppercase tracking-wider",children:"AI Image Gen"}),B.jsxs(Jn,{onClick:()=>w(!0),variant:"secondary",className:"flex items-center gap-2",children:[B.jsx(ow,{className:"w-5 h-5"}),B.jsx("span",{className:"hidden sm:inline",children:"Settings"})]})]}),B.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[B.jsxs("div",{className:"lg:col-span-1 bg-gray-800 p-6 border-4 border-black shadow-[8px_8px_0_0_#000] flex flex-col gap-6 self-start",children:[B.jsxs("div",{children:[B.jsx("label",{htmlFor:"prompts",className:"block mb-2 text-lg text-gray-300",children:"Prompts"}),B.jsx("textarea",{id:"prompts",value:t,onChange:he=>e(he.target.value),className:"w-full h-48 p-3 bg-gray-900 border-2 border-gray-600 focus:border-cyan-400 focus:outline-none resize-y selection:bg-cyan-400 selection:text-black",placeholder:`A heroic knight riding a giant snail
A robot DJ at a forest party
...one prompt per line`,disabled:y}),B.jsx("input",{type:"file",ref:V,onChange:ne,className:"hidden",accept:".txt,.csv"}),B.jsxs(Jn,{onClick:()=>V.current?.click(),variant:"secondary",className:"w-full mt-2 flex items-center justify-center gap-2",disabled:y,children:[B.jsx(nw,{className:"w-5 h-5"}),"Upload Prompts"]})]}),B.jsxs("div",{children:[B.jsx("label",{className:"block mb-2 text-lg text-gray-300",children:"Style"}),B.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[B.jsx("button",{onClick:()=>i(Kn.PIXEL),disabled:y,className:`p-4 border-2 ${o===Kn.PIXEL?"border-cyan-400 bg-cyan-900":"border-gray-600 bg-gray-700"} hover:border-cyan-400 transition-colors disabled:opacity-50`,children:"Pixel Art"}),B.jsx("button",{onClick:()=>i(Kn.STICK_FIGURE),disabled:y,className:`p-4 border-2 ${o===Kn.STICK_FIGURE?"border-cyan-400 bg-cyan-900":"border-gray-600 bg-gray-700"} hover:border-cyan-400 transition-colors disabled:opacity-50`,children:"Stick Figure"})]})]}),B.jsxs("div",{children:[B.jsx("label",{className:"block mb-2 text-lg text-gray-300",children:"Aspect Ratio"}),B.jsx("div",{className:"grid grid-cols-3 gap-2",children:["1:1","16:9","9:16","4:3","3:4"].map(he=>B.jsx("button",{onClick:()=>c(he),disabled:y,className:`p-3 text-sm border-2 ${a===he?"border-cyan-400 bg-cyan-900":"border-gray-600 bg-gray-700"} hover:border-cyan-400 transition-colors disabled:opacity-50`,children:he},he))})]}),B.jsx(Jn,{onClick:$,disabled:!t||y,isLoading:y,className:"w-full text-lg py-3",children:y?C:"Generate!"})]}),B.jsxs("div",{className:"lg:col-span-2 bg-gray-800 p-6 border-4 border-black shadow-[8px_8px_0_0_#000]",children:[B.jsxs("div",{className:"flex justify-between items-center mb-4 gap-4 flex-wrap",children:[B.jsxs("h2",{className:"text-xl text-gray-300",children:["Gallery (",d.length,")"]}),B.jsxs("div",{className:"flex gap-2 flex-wrap justify-end",children:[B.jsxs(Jn,{onClick:E,variant:"secondary",disabled:y||h.size===0,children:[B.jsx(qd,{className:"w-5 h-5"}),"Download (",h.size,")"]}),B.jsx(Jn,{onClick:U,variant:"secondary",disabled:y||d.length===0,children:oe?"Deselect All":"Select All"}),B.jsxs(Jn,{onClick:ee,variant:"danger",disabled:y||d.length===0,children:[B.jsx(Hd,{className:"w-5 h-5"}),"Clear All"]})]})]}),B.jsx("div",{className:"h-[60vh] overflow-y-auto pr-2",children:B.jsx(iw,{images:d,selectedImageIds:h,onSelectImage:re,onPreviewImage:I,onDeleteImage:me})})]})]})]})},$d=document.getElementById("root");if(!$d)throw new Error("Could not find root element to mount to");const fw=ud.createRoot($d);fw.render(B.jsx(ad.StrictMode,{children:B.jsx(cw,{})}));var Xt=(t=>(t.PIXEL="PIXEL",t.STICK_FIGURE="STICK_FIGURE",t.CARTOON="CARTOON",t.REAL="REAL",t))(Xt||{});const dw=async(t,e,o,i)=>{if(!i)throw new Error("API key is missing for this request.");const a=new bd({apiKey:i}),p={[Xt.PIXEL]:"Pixel art style, 8-bit, retro, vibrant colors. ",[Xt.STICK_FIGURE]:"Simple stick figure drawing, clean white background, black lines, minimalist. ",[Xt.CARTOON]:"Vibrant cartoon style, bold outlines, cel-shaded. ",[Xt.REAL]:" with color clear blue ocean, 4k , hyper-realistic "}[e]+t;try{const h=await a.models.generateImages({model:"imagen-3.0-generate-002",prompt:p,config:{numberOfImages:1,outputMimeType:"image/jpeg",aspectRatio:o}});if(h.generatedImages&&h.generatedImages.length>0)return h.generatedImages[0].image.imageBytes;throw new Error("No image was generated by the API.")}catch(h){throw console.error("Gemini API Error:",h),h instanceof Error?h.message.includes("API key not valid")?new Error("Invalid API Key. Please check your settings."):h.message.includes("accessible to billed users")?new Error("Billing Required: The Imagen API needs a Google Cloud project with billing enabled. Please check your account settings."):new Error(`Failed to generate image: ${h.message}`):new Error("An unknown error occurred during image generation.")}};function sd(t,e){const[o,i]=Fe.useState(()=>{try{const a=window.localStorage.getItem(t);return a?JSON.parse(a):e}catch(a){return console.error(a),e}});return Fe.useEffect(()=>{try{const a=typeof o=="function"?o(o):o;window.localStorage.setItem(t,JSON.stringify(a))}catch(a){console.error(a)}},[t,o]),[o,i]}const pw=()=>{const[t,e]=Fe.useState({message:"",type:"info",isVisible:!1}),o=Fe.useCallback((i,a="info",c=5e3)=>{e({message:i,type:a,isVisible:!0}),setTimeout(()=>{e(d=>({...d,isVisible:!1}))},c)},[]);return{toast:t,showToast:o}},hw=t=>B.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"animate-spin",...t,children:B.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),Wn=({children:t,className:e,variant:o="primary",isLoading:i=!1,...a})=>{const c="px-4 py-2 text-sm md:text-base uppercase tracking-widest text-white border-2 border-black active:translate-y-px active:translate-x-px transition-transform focus:outline-none flex items-center justify-center gap-2",d={primary:"bg-cyan-500 hover:bg-cyan-600 shadow-[4px_4px_0_0_#00A3C4]",secondary:"bg-gray-500 hover:bg-gray-600 shadow-[4px_4px_0_0_#4A5568]",danger:"bg-red-500 hover:bg-red-600 shadow-[4px_4px_0_0_#C53030]"};return B.jsxs("button",{className:`${c} ${d[o]} disabled:bg-gray-700 disabled:shadow-none disabled:cursor-not-allowed disabled:text-gray-400 ${e}`,disabled:i||a.disabled,...a,children:[i&&B.jsx(hw,{className:"w-5 h-5"}),B.jsx("span",{children:t})]})},Od=t=>B.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[B.jsx("polyline",{points:"3 6 5 6 21 6"}),B.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}),B.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),B.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]}),mw=t=>B.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[B.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),B.jsx("polyline",{points:"17 8 12 3 7 8"}),B.jsx("line",{x1:"12",y1:"3",x2:"12",y2:"15"})]}),gw=t=>B.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[B.jsx("path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 0 2.4l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.38a2 2 0 0 0-.73-2.73l-.15-.09a2 2 0 0 1 0-2.4l.15-.1a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"}),B.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),Jd=t=>B.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[B.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),B.jsx("polyline",{points:"7 10 12 15 17 10"}),B.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]}),yw=({image:t,index:e,isSelected:o,onSelect:i,onPreview:a,onDelete:c})=>{const d=()=>{const h=document.createElement("a");h.href=t.url,h.download=`${t.prompt.replace(/\s+/g,"_").slice(0,20)}.jpeg`,document.body.appendChild(h),h.click(),document.body.removeChild(h)},p=h=>{h.stopPropagation(),i(t.id)};return B.jsxs("div",{className:`bg-gray-800 border-2 p-2 group relative overflow-hidden shadow-[4px_4px_0_0_#000] cursor-pointer transition-all duration-200 ${o?"border-cyan-400 scale-105":"border-black"}`,onClick:()=>a(t),children:[B.jsx("img",{src:t.url,alt:t.prompt,className:"w-full h-auto aspect-square object-contain bg-gray-900 pixelated"}),B.jsx("div",{className:"absolute top-2 left-2 w-6 h-6 bg-gray-900 bg-opacity-70 border-2 border-white flex items-center justify-center z-10 text-xs font-bold",children:e+1}),B.jsx("div",{onClick:p,className:"absolute top-2 right-2 w-6 h-6 bg-gray-900 bg-opacity-70 border-2 border-white flex items-center justify-center z-10 hover:bg-cyan-600",children:o&&B.jsx("div",{className:"w-3 h-3 bg-cyan-400"})}),B.jsxs("div",{className:"absolute inset-0 bg-black bg-opacity-70 opacity-0 group-hover:opacity-100 transition-opacity flex flex-col justify-between p-3",children:[B.jsx("p",{className:"text-white text-xs break-words",children:t.prompt}),B.jsxs("div",{className:"self-end flex items-center gap-2",children:[B.jsx("button",{onClick:h=>{h.stopPropagation(),c(t.id)},className:"bg-red-500 text-white p-2 border-2 border-black hover:bg-red-600 active:translate-y-px","aria-label":"Delete Image",children:B.jsx(Od,{className:"w-5 h-5"})}),B.jsx("button",{onClick:h=>{h.stopPropagation(),d()},className:"bg-cyan-500 text-white p-2 border-2 border-black hover:bg-cyan-600 active:translate-y-px","aria-label":"Download Image",children:B.jsx(Jd,{className:"w-5 h-5"})})]})]})]})},vw=({images:t,selectedImageIds:e,onSelectImage:o,onPreviewImage:i,onDeleteImage:a})=>t.length===0?B.jsx("div",{className:"flex items-center justify-center h-full border-4 border-dashed border-gray-600 text-gray-500 p-4",children:B.jsx("p",{children:"Generated images will appear here"})}):B.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:t.map((c,d)=>B.jsx(yw,{image:c,index:d,isSelected:e.has(c.id),onSelect:o,onPreview:i,onDelete:a},c.id))}),_w=t=>B.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[B.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),B.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]}),ld=({isOpen:t,onClose:e,title:o,children:i})=>t?B.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 p-4",onClick:e,children:B.jsxs("div",{className:"bg-gray-800 text-white border-4 border-black shadow-[8px_8px_0_0_#000] w-full max-w-3x1 p-6 relative",onClick:a=>a.stopPropagation(),children:[B.jsxs("div",{className:"flex justify-between items-center mb-4 pb-2 border-b-2 border-gray-600",children:[B.jsx("h2",{className:"text-xl text-cyan-400 uppercase",children:o}),B.jsx("button",{onClick:e,className:"text-white hover:text-red-500 transition-colors",children:B.jsx(_w,{className:"w-8 h-8"})})]}),B.jsx("div",{children:i})]})}):null,Cw=({onSave:t,initialApiKeys:e})=>{const[o,i]=Fe.useState(e.join(`
`)),a=()=>{const c=o.split(/[\n, ]+/).map(d=>d.trim()).filter(d=>d.length>0);t(c)};return B.jsxs("div",{children:[B.jsx("label",{htmlFor:"api-keys",className:"block mb-2 text-sm text-gray-400",children:"API Keys (one per line, or separated by comma/space)"}),B.jsx("textarea",{id:"api-keys",value:o,onChange:c=>i(c.target.value),className:"w-full h-40 p-3 bg-gray-900 border-2 border-gray-600 focus:border-cyan-400 focus:outline-none resize-y selection:bg-cyan-400 selection:text-black",placeholder:"Enter your Gemini API keys here..."}),B.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"Your keys are saved in your browser's local storage and are not sent anywhere else."}),B.jsx(Wn,{onClick:a,className:"w-full mt-4",children:"Save Settings"})]})},Tw=t=>B.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[B.jsx("circle",{cx:"12",cy:"12",r:"10"}),B.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),B.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]}),Sw=({message:t,type:e,isVisible:o})=>{const[i,a]=Fe.useState(o);return Fe.useEffect(()=>{if(o)a(!0);else{const c=setTimeout(()=>a(!1),500);return()=>clearTimeout(c)}},[o]),i?B.jsxs("div",{className:"fixed top-5 left-1/2 -translate-x-1/2 z-[100] w-full max-w-sm p-4 text-white border-2 border-black flex items-center gap-4 ${typeClasses[type]} ${animationClass}",role:"alert",children:[e==="error"&&B.jsx(Tw,{className:"w-6 h-6 flex-shrink-0"}),B.jsx("p",{className:"text-sm",children:t})]}):null},ww=t=>B.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",...t,children:B.jsx("polyline",{points:"15 18 9 12 15 6"})}),xw=t=>B.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",...t,children:B.jsx("polyline",{points:"9 18 15 12 9 6"})}),Ew=()=>{const[t,e]=Fe.useState(""),[o,i]=Fe.useState(Xt.REAL),[a,c]=Fe.useState("1:1"),[d,p]=Fe.useState(1),[h,m]=sd("generated-images",[]),[y,_]=Fe.useState(new Set),[C,T]=Fe.useState(!1),[R,w]=Fe.useState(""),[A,I]=Fe.useState(!1),[M,D]=Fe.useState(null),[V,z]=sd("app-settings",{apiKeys:[]}),J=Fe.useRef(null),{toast:$,showToast:ne}=pw(),q=Fe.useCallback(async()=>{if(V.apiKeys.length===0){ne("API key is missing. Please add one in Settings.","error"),I(!0);return}const O=t.split(`
`).map(ae=>ae.trim()).filter(ae=>ae);if(O.length===0){ne("Please enter at least one prompt.","error");return}T(!0);let k=O.length*d,P=0;for(let ae=0;ae<O.length;ae++){const le=O[ae];for(let ie=0;ie<d;ie++){P++;const Ae=V.apiKeys[(ae*d+ie)%V.apiKeys.length];w(`Prompt ${ae+1}/${O.length}, Img ${ie+1}/${d}`);try{const _e=`data:image/jpeg;base64,${await dw(le,o,a,Ae)}`;m(Ie=>[{id:`${Date.now()}-${ae}-${ie}`,url:_e,prompt:le},...Ie])}catch(Ne){console.error(`Error for prompt "${le}":`,Ne);const _e=Ne instanceof Error?Ne.message:"An unknown error occurred.";if(ne(`Failed on prompt: "${le}". Error: ${_e}`,"error"),_e.includes("Invalid API Key")||_e.includes("Billing Required")){I(!0),T(!1),w("");return}}P<k&&await new Promise(Ne=>setTimeout(Ne,3e3))}}T(!1),w("")},[t,o,a,V.apiKeys,m,ne,d]),re=O=>{const k=O.target.files?.[0];if(k){const P=new FileReader;P.onload=ae=>{const le=ae.target?.result;e(ie=>ie?`${ie}
${le}`:le)},P.readAsText(k)}J.current&&(J.current.value="")},me=O=>{z({apiKeys:O}),I(!1),ne("Settings saved successfully!","success"),O.length>0&&t&&!C&&q()},U=O=>{_(k=>{const P=new Set(k);return P.has(O)?P.delete(O):P.add(O),P})},ee=O=>{m(k=>k.filter(P=>P.id!==O)),_(k=>{const P=new Set(k);return P.delete(O),P}),ne("Image deleted.","info")},E=()=>{if(h.length>0&&y.size===h.length)_(new Set);else{const O=new Set(h.map(k=>k.id));_(O)}},oe=()=>{h.length!==0&&window.confirm(`Are you sure you want to delete all ${h.length} images? This cannot be undone.`)&&(m([]),_(new Set),ne("Gallery cleared.","success"))},he=async()=>{if(y.size===0)return;ne(`Downloading ${y.size} images...`,"info");const O=new cd,k=h.filter(P=>y.has(P.id));for(const P of k){const le=await(await fetch(P.url)).blob(),ie=`${P.prompt.replace(/\s+/g,"_").slice(0,30)}.jpeg`;O.file(ie,le)}O.generateAsync({type:"blob"}).then(P=>{const ae=document.createElement("a");ae.href=URL.createObjectURL(P),ae.download="pixel-art-pack.zip",document.body.appendChild(ae),ae.click(),document.body.removeChild(ae)})},X=Fe.useCallback(()=>{if(!M)return;const O=h.findIndex(k=>k.id===M.id);if(O>-1){const k=(O-1+h.length)%h.length;D(h[k])}},[M,h]),j=Fe.useCallback(()=>{if(!M)return;const O=h.findIndex(k=>k.id===M.id);if(O>-1){const k=(O+1)%h.length;D(h[k])}},[M,h]);Fe.useEffect(()=>{if(!M)return;const O=k=>{k.key==="Escape"?D(null):k.key==="ArrowRight"?X():k.key==="ArrowLeft"&&j()};return window.addEventListener("keydown",O),()=>{window.removeEventListener("keydown",O)}},[M,X,j]);const Z=h.length>0&&y.size===h.length;return B.jsxs("div",{className:"min-h-screen bg-gray-900 text-white p-4 md:p-8 font-press-start",children:[B.jsx(Sw,{message:$.message,type:$.type,isVisible:$.isVisible}),B.jsx(ld,{isOpen:A,onClose:()=>I(!1),title:"API Key Settings",children:B.jsx(Cw,{onSave:me,initialApiKeys:V.apiKeys})}),B.jsx(ld,{isOpen:!!M,onClose:()=>D(null),title:"Image Preview",children:M&&B.jsxs("div",{className:"relative",children:[h.length>1&&B.jsxs(B.Fragment,{children:[B.jsx("button",{onClick:j,className:"absolute left-0 sm:-left-16 top-1/2 -translate-y-1/2 z-20 bg-gray-800/70 text-white p-2 rounded-full border-2 border-white/50 hover:bg-gray-700 hover:border-white transition-all","aria-label":"Previous Image",children:B.jsx(ww,{className:"w-8 h-8"})}),B.jsx("button",{onClick:X,className:"absolute right-0 sm:-right-16 top-1/2 -translate-y-1/2 z-20 bg-gray-800/70 text-white p-2 rounded-full border-2 border-white/50 hover:bg-gray-700 hover:border-white transition-all","aria-label":"Next Image",children:B.jsx(xw,{className:"w-8 h-8"})})]}),B.jsxs("div",{className:"flex flex-col items-center gap-4",children:[B.jsx("img",{src:M.url,alt:M.prompt,className:"max-w-full max-h-[75vh] object-contain pixelated"}),B.jsx("p",{className:"text-center text-gray-300 text-sm mt-2",children:M.prompt})]})]})}),B.jsxs("header",{className:"flex justify-between items-center mb-6 pb-4 border-b-4 border-gray-700",children:[B.jsx("h1",{className:"text-xl sm:text-2xl md:text-3xl text-cyan-400 uppercase tracking-wider",children:"AI Image Gen"}),B.jsxs(Wn,{onClick:()=>I(!0),variant:"secondary",className:"flex items-center gap-2",children:[B.jsx(gw,{className:"w-5 h-5"}),B.jsx("span",{className:"hidden sm:inline",children:"Settings"})]})]}),B.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[B.jsxs("div",{className:"lg:col-span-1 bg-gray-800 p-6 border-4 border-black shadow-[8px_8px_0_0_#000] flex flex-col gap-6 self-start",children:[B.jsxs("div",{children:[B.jsx("label",{htmlFor:"prompts",className:"block mb-2 text-lg text-gray-300",children:"Prompts"}),B.jsx("textarea",{id:"prompts",value:t,onChange:O=>e(O.target.value),className:"w-full h-48 p-3 bg-gray-900 border-2 border-gray-600 focus:border-cyan-400 focus:outline-none resize-y selection:bg-cyan-400 selection:text-black",placeholder:`A heroic knight riding a giant snail
A robot DJ at a forest party
...one prompt per line`,disabled:C}),B.jsx("input",{type:"file",ref:J,onChange:re,className:"hidden",accept:".txt,.csv"}),B.jsxs(Wn,{onClick:()=>J.current?.click(),variant:"secondary",className:"w-full mt-2 flex items-center justify-center gap-2",disabled:C,children:[B.jsx(mw,{className:"w-5 h-5"}),"Upload Prompts"]})]}),B.jsxs("div",{children:[B.jsx("label",{htmlFor:"style-select",className:"block mb-2 text-lg text-gray-300",children:"Style"}),B.jsxs("div",{className:"relative",children:[B.jsxs("select",{id:"style-select",value:o,onChange:O=>i(O.target.value),disabled:C,className:"w-full p-4 bg-gray-900 border-2 border-gray-600 focus:border-cyan-400 focus:outline-none appearance-none cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed selection:bg-cyan-400 selection:text-black",children:[B.jsx("option",{value:Xt.PIXEL,children:"Pixel Art"}),B.jsx("option",{value:Xt.STICK_FIGURE,children:"Stick Figure"}),B.jsx("option",{value:Xt.CARTOON,children:"CARTOON"}),B.jsx("option",{value:Xt.REAL,children:"REAL"})]}),B.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-4 text-gray-400",children:B.jsx("svg",{className:"fill-current h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:B.jsx("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})})})]})]}),B.jsxs("div",{children:[B.jsx("label",{htmlFor:"image-count",className:"block mb-2 text-lg text-gray-300",children:"Images Per Prompt"}),B.jsx("input",{type:"number",id:"image-count",value:d,onChange:O=>{const k=parseInt(O.target.value,10);if(isNaN(k)){p(1);return}k>16?(p(16),ne("Max images per prompt is 16.","info")):k<1?p(1):p(k)},min:"1",max:"16",disabled:C,className:"w-full p-3 bg-gray-900 border-2 border-gray-600 focus:border-cyan-400 focus:outline-none selection:bg-cyan-400 selection:text-black [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none"}),B.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"Number of images for each prompt (1-16)."})]}),B.jsxs("div",{children:[B.jsx("label",{className:"block mb-2 text-lg text-gray-300",children:"Aspect Ratio"}),B.jsx("div",{className:"grid grid-cols-3 gap-2",children:["1:1","16:9","9:16","4:3","3:4"].map(O=>B.jsx("button",{onClick:()=>c(O),disabled:C,className:`p-3 text-sm border-2 transition-colors disabled:opacity-50 hover:border-cyan-400 ${a===O?"border-cyan-400 bg-cyan-900":"border-gray-600 bg-gray-700"}`,children:O},O))})]}),B.jsx(Wn,{onClick:q,disabled:!t||C,isLoading:C,className:"w-full text-lg py-3",children:C?R:"Generate!"})]}),B.jsxs("div",{className:"lg:col-span-2 bg-gray-800 p-6 border-4 border-black shadow-[8px_8px_0_0_#000]",children:[B.jsxs("div",{className:"flex justify-between items-center mb-4 gap-4 flex-wrap",children:[B.jsxs("h2",{className:"text-xl text-gray-300",children:["Gallery (",h.length,")"]}),B.jsxs("div",{className:"flex gap-2 flex-wrap justify-end",children:[B.jsxs(Wn,{onClick:he,variant:"secondary",disabled:C||y.size===0,children:[B.jsx(Jd,{className:"w-5 h-5"}),"Download (",y.size,")"]}),B.jsx(Wn,{onClick:E,variant:"secondary",disabled:C||h.length===0,children:Z?"Deselect All":"Select All"}),B.jsxs(Wn,{onClick:oe,variant:"danger",disabled:C||h.length===0,children:[B.jsx(Od,{className:"w-5 h-5"}),"Clear All"]})]})]}),B.jsx("div",{className:"h-[60vh] overflow-y-auto pr-2",children:B.jsx(vw,{images:h,selectedImageIds:y,onSelectImage:U,onPreviewImage:D,onDeleteImage:ee})})]})]})]})},Wd=document.getElementById("root");if(!Wd)throw new Error("Could not find root element to mount to");const kw=ud.createRoot(Wd);kw.render(B.jsx(ad.StrictMode,{children:B.jsx(Ew,{})}));
